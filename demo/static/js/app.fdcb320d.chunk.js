(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{294:function(e,t,n){"use strict";(function(e,i){n.d(t,"a",(function(){return d}));var o=n(2),a=n.n(o),r=n(4),s=n.n(r),c=n(6),l=n.n(c),u=n(581);!function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||d(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){var r=t._howls[n]._soundById(o[a]);r&&r._node&&(r._node.volume=r._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||d(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),a=0;a<o.length;a++){var r=t._howls[n]._soundById(o[a]);r&&r._node&&(r._node.muted=!!e||r._muted)}return t},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(r){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),o=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(n){for(var i=0;i<e.html5PoolSize;i++)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0}for(i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),r=0;r<a.length;r++){var s=e._howls[i]._soundById(a[r]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),"undefined"===typeof c.start?c.noteOn(0):c.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then((function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new t,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return i.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,"undefined"!==typeof i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"===typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,o;if(this._format&&this._format[t])n=this._format[t];else{if("string"!==typeof(o=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&s(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,o=null;if("number"===typeof e)o=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var a=0,r=0;r<n._sounds.length;r++)n._sounds[r]._paused&&!n._sounds[r]._ended&&(a++,o=n._sounds[r]._id);1===a?e=null:o=null}}var s=o?n._soundById(o):n._inactiveSound();if(!s)return null;if(o&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(o&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),d=1e3*u/Math.abs(s._rate),h=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3,p=!(!s._loop&&!n._sprite[e][2]);s._sprite=e,s._ended=!1;var m=function(){s._paused=!1,s._seek=l,s._start=h,s._stop=f,s._loop=p};if(!(l>=f)){var g=s._node;if(n._webAudio){var y=function(){n._playLock=!1,m(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;g.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,"undefined"===typeof g.bufferSource.start?s._loop?g.bufferSource.noteGrainOn(0,l,86400):g.bufferSource.noteGrainOn(0,l,u):s._loop?g.bufferSource.start(0,l,86400):g.bufferSource.start(0,l,u),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state?y():(n._playLock=!0,n.once("resume",y),n._clearTimer(s._id))}else{var v=function(){g.currentTime=l,g.muted=s._muted||n._muted||i._muted||g.muted,g.volume=s._volume*i.volume(),g.playbackRate=s._rate;try{var o=g.play();if(o&&"undefined"!==typeof Promise&&(o instanceof Promise||"function"===typeof o.then)?(n._playLock=!0,m(),o.then((function(){n._playLock=!1,g._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,m(),n._emit("play",s._id),n._loadQueue()),g.playbackRate=s._rate,g.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),g.removeEventListener("ended",n._endTimers[s._id],!1)},g.addEventListener("ended",n._endTimers[s._id],!1))}catch(a){n._emit("playerror",s._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=n._src,g.load());var b=window&&window.ejecta||!g.readyState&&i._navigator.isCocoonJS;if(g.readyState>=3||b)v();else{n._playLock=!0;g.addEventListener(i._canPlayEvent,(function e(){v(),g.removeEventListener(i._canPlayEvent,e,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var o=t._soundById(n[i]);if(o&&!o._paused&&(o._seek=t.seek(n[i]),o._rateSeek=0,o._paused=!0,t._stopFade(n[i]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;"undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),o=0;o<i.length;o++){n._clearTimer(i[o]);var a=n._soundById(i[o]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(i[o]),a._node&&(n._webAudio?a._node.bufferSource&&("undefined"===typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),a=0;a<o.length;a++){var r=n._soundById(o[a]);r&&(r._muted=e,r._interval&&n._stopFade(r._id),n._webAudio&&r._node?r._node.gain.setValueAtTime(e?0:r._volume,i.ctx.currentTime):r._node&&(r._node.muted=!!i._muted||e),n._emit("mute",r._id))}return n},volume:function(){var e,t,n,o=this,a=arguments;if(0===a.length)return o._volume;if(1===a.length||2===a.length&&"undefined"===typeof a[1]){var r=o._getSoundIds(),s=r.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?o._soundById(t):o._sounds[0])?n._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,a)}}),o;"undefined"===typeof t&&(o._volume=e),t=o._getSoundIds(t);for(var c=0;c<t.length;c++)(n=o._soundById(t[c]))&&(n._volume=e,a[2]||o._stopFade(t[c]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),o._emit("volume",n._id));return o},fade:function(e,t,n,o){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,o)}}),a;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),a.volume(e,o);for(var r=a._getSoundIds(o),s=0;s<r.length;s++){var c=a._soundById(r[s]);if(c){if(o||a._stopFade(r[s]),a._webAudio&&!c._muted){var l=i.ctx.currentTime,u=l+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,l),c._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(c,e,t,n,r[s],"undefined"===typeof o)}}return a},_startFadeInterval:function(e,t,n,i,o,a){var r=this,s=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?i/l:i),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/i;d=Date.now(),s+=c*o,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,r._webAudio?e._volume=s:r.volume(s,e._id,!0),a&&(r._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,r.volume(n,e._id),r._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,i=this,o=arguments;if(0===o.length)return i._loop;if(1===o.length){if("boolean"!==typeof o[0])return!!(n=i._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],i._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var a=i._getSoundIds(t),r=0;r<a.length;r++)(n=i._soundById(a[r]))&&(n._loop=e,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var e,t,n,o=this,a=arguments;if(0===a.length)t=o._sounds[0]._id;else if(1===a.length){var r=o._getSoundIds(),s=r.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!==typeof e)return(n=o._soundById(t))?n._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,a)}}),o;"undefined"===typeof t&&(o._rate=e),t=o._getSoundIds(t);for(var c=0;c<t.length;c++)if(n=o._soundById(t[c])){o.playing(t[c])&&(n._rateSeek=o.seek(t[c]),n._playStart=o._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var l=o.seek(t[c]),u=(o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-l,d=1e3*u/Math.abs(n._rate);!o._endTimers[t[c]]&&n._paused||(o._clearTimer(t[c]),o._endTimers[t[c]]=setTimeout(o._ended.bind(o,n),d)),o._emit("rate",n._id)}return o},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var a=n._getSoundIds(),r=a.indexOf(o[0]);r>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("undefined"===typeof t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var s=n._soundById(t);if(s){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var c=n.playing(t)?i.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+c*Math.abs(s._rate))}return s._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var h=function e(){n._playLock?setTimeout(e,0):d()};setTimeout(h,0)}else d()}return n},playing:function(e){if("number"===typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var o=i._howls.indexOf(e);o>=0&&i._howls.splice(o,1);var a=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){a=!1;break}return r&&a&&delete r[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var o=this["_on"+e];return"function"===typeof t&&o.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this["_on"+e],o=0;if("number"===typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var a=n===i[o].id;if(t===i[o].fn&&a||!t&&a){i.splice(o,1);break}}else if(e)this["_on"+e]=[];else{var r=Object.keys(this);for(o=0;o<r.length;o++)0===r[o].indexOf("_on")&&Array.isArray(this[r[o]])&&(this[r[o]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,i[o].fn),0),i[o].once&&this.off(e,i[o].fn,i[o].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),o)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!==typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=r[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node="undefined"===typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var r={},s=function(e){var t=e._src;if(r[t])return e._duration=r[t].duration,void u(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),o=0;o<n.length;++o)i[o]=n.charCodeAt(o);l(i.buffer,e)}else{var a=new XMLHttpRequest;a.open("GET",t,!0),a.withCredentials=e._xhrWithCredentials,a.responseType="arraybuffer",a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?l(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[t],e.load())},c(a)}},c=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},o=function(e){e&&t._sounds.length>0?(r[t._src]=e,u(t,e)):n()};"undefined"!==typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(o).catch(n):i.ctx.decodeAudioData(e,o,n)},u=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},d=function(){if(i.usingWebAudio){try{"undefined"!==typeof AudioContext?i.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(a){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!o||i._navigator&&!i._navigator.standalone&&!o)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain="undefined"===typeof i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:1,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};"function"===typeof define&&n(252)&&define([],(function(){return{Howler:i,Howl:o}})),"undefined"!==typeof exports&&(exports.Howler=i,exports.Howl=o),"undefined"!==typeof window?(window.HowlerGlobal=t,window.Howler=i,window.Howl=o,window.Sound=a):"undefined"!==typeof e&&(e.HowlerGlobal=t,e.Howler=i,e.Howl=o,e.Sound=a)}(),function(e){function t(){if(t.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");(t.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var o=new t;function a(e){var t=this;this._userHandlers={channel:{},system:{}},this._midiInput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiInput.connection}},id:{enumerable:!0,get:function(){return t._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiInput.name}},state:{enumerable:!0,get:function(){return t._midiInput.state}},type:{enumerable:!0,get:function(){return t._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function r(e){var t=this;this._midiOutput=e,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return t._midiOutput.connection}},id:{enumerable:!0,get:function(){return t._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return t._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return t._midiOutput.name}},state:{enumerable:!0,get:function(){return t._midiOutput.state}},type:{enumerable:!0,get:function(){return t._midiOutput.type}}})}t.prototype.enable=function(e,t){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:t}).then(function(t){var n,i=[],o=[];this.interface=t,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){i.push(e)};for(var a=t.inputs.values(),r=a.next();r&&!r.done;r=a.next())o.push(r.value.open());for(var s=t.outputs.values(),c=s.next();c&&!c.done;c=s.next())o.push(c.value.open());function l(){clearTimeout(n),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),"function"==typeof e&&e.call(this),i.forEach(function(e){this._onInterfaceStateChange(e)}.bind(this))}n=setTimeout(l.bind(this),200),Promise&&Promise.all(o).catch((function(e){})).then(l.bind(this))}.bind(this),function(t){"function"==typeof e&&e.call(this,t)}.bind(this)):"function"==typeof e&&e(new Error("The Web MIDI API is not supported by your browser.")))},t.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._resetInterfaceUserHandlers()},t.prototype.addListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");return this._userHandlers[e].push(t),this},t.prototype.hasListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(!(0<=this._midiInterfaceEvents.indexOf(e)))throw new TypeError("The specified event type is not supported.");for(var n=0;n<this._userHandlers[e].length;n++)if(this._userHandlers[e][n]===t)return!0;return!1},t.prototype.removeListener=function(e,t){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==t&&"function"!=typeof t)throw new TypeError("The 'listener' parameter must be a function.");if(0<=this._midiInterfaceEvents.indexOf(e))if(t)for(var n=0;n<this._userHandlers[e].length;n++)this._userHandlers[e][n]===t&&this._userHandlers[e].splice(n,1);else this._userHandlers[e]=[];else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},t.prototype.toMIDIChannels=function(e){var t;if("all"===e||void 0===e)t=["all"];else{if("none"===e)return[];t=Array.isArray(e)?e:[e]}return-1<t.indexOf("all")&&(t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),t.map((function(e){return parseInt(e)})).filter((function(e){return 1<=e&&e<=16}))},t.prototype.getInputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].id===e)return this.inputs[t];return!1},t.prototype.getOutputById=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");e=String(e);for(var t=0;t<this.outputs.length;t++)if(this.outputs[t].id===e)return this.outputs[t];return!1},t.prototype.getInputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.inputs.length;t++)if(~this.inputs[t].name.indexOf(e))return this.inputs[t];return!1},t.prototype.getOctave=function(e){if(null!=e&&0<=e&&e<=127)return Math.floor(Math.floor(e)/12-1)+Math.floor(o.octaveOffset)},t.prototype.getOutputByName=function(e){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var t=0;t<this.outputs.length;t++)if(~this.outputs[t].name.indexOf(e))return this.outputs[t];return!1},t.prototype.guessNoteNumber=function(e){var t=!1;if(e&&e.toFixed&&0<=e&&e<=127?t=Math.round(e):0<=parseInt(e)&&parseInt(e)<=127?t=parseInt(e):("string"==typeof e||e instanceof String)&&(t=this.noteNameToNumber(e)),!1===t)throw new Error("Invalid input value ("+e+").");return t},t.prototype.noteNameToNumber=function(e){"string"!=typeof e&&(e="");var t=e.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!t)throw new RangeError("Invalid note name.");var n=o._semitones[t[1].toUpperCase()],i=12*(parseInt(t[3])+1-Math.floor(o.octaveOffset))+n;if(-1<t[2].toLowerCase().indexOf("b")?i-=t[2].length:-1<t[2].toLowerCase().indexOf("#")&&(i+=t[2].length),i<0||127<i)throw new RangeError("Invalid note name or note outside valid range.");return i},t.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},t.prototype._updateInputs=function(){for(var e=0;e<this._inputs.length;e++){for(var t=!0,n=this.interface.inputs.values(),i=n.next();i&&!i.done;i=n.next())if(this._inputs[e]._midiInput===i.value){t=!1;break}t&&this._inputs.splice(e,1)}this.interface&&this.interface.inputs.forEach(function(e){for(var t=!0,n=0;n<this._inputs.length;n++)this._inputs[n]._midiInput===e&&(t=!1);t&&this._inputs.push(new a(e))}.bind(this))},t.prototype._updateOutputs=function(){for(var e=0;e<this._outputs.length;e++){for(var t=!0,n=this.interface.outputs.values(),i=n.next();i&&!i.done;i=n.next())if(this._outputs[e]._midiOutput===i.value){t=!1;break}t&&this._outputs.splice(e,1)}this.interface&&this.interface.outputs.forEach(function(e){for(var t=!0,n=0;n<this._outputs.length;n++)this._outputs[n]._midiOutput===e&&(t=!1);t&&this._outputs.push(new r(e))}.bind(this))},t.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var t={timestamp:e.timeStamp,type:e.port.state};this.interface&&"connected"===e.port.state?"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)):t.port={connection:"closed",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach((function(e){e(t)}))},t.prototype._resetInterfaceUserHandlers=function(){for(var e=0;e<this._midiInterfaceEvents.length;e++)this._userHandlers[this._midiInterfaceEvents[e]]=[]},a.prototype.on=a.prototype.addListener=function(e,t,n){var i=this;if(void 0===t&&(t="all"),Array.isArray(t)||(t=[t]),t.forEach((function(e){if("all"!==e&&!(1<=e&&e<=16))throw new RangeError("The 'channel' parameter is invalid.")})),"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0!==o.MIDI_SYSTEM_MESSAGES[e])this._userHandlers.system[e]||(this._userHandlers.system[e]=[]),this._userHandlers.system[e].push(n);else{if(void 0===o.MIDI_CHANNEL_MESSAGES[e])throw new TypeError("The specified event type is not supported.");if(-1<t.indexOf("all")){t=[];for(var a=1;a<=16;a++)t.push(a)}this._userHandlers.channel[e]||(this._userHandlers.channel[e]=[]),t.forEach((function(t){i._userHandlers.channel[e][t]||(i._userHandlers.channel[e][t]=[]),i._userHandlers.channel[e][t].push(n)}))}return this},a.prototype.hasListener=function(e,t,n){var i=this;if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==o.MIDI_SYSTEM_MESSAGES[e]){for(var a=0;a<this._userHandlers.system[e].length;a++)if(this._userHandlers.system[e][a]===n)return!0}else if(void 0!==o.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var r=1;r<=16;r++)t.push(r)}return!!this._userHandlers.channel[e]&&t.every((function(t){var o=i._userHandlers.channel[e][t];return o&&-1<o.indexOf(n)}))}return!1},a.prototype.removeListener=function(e,t,n){var i=this;if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===t&&(t="all"),t.constructor!==Array&&(t=[t]),void 0!==o.MIDI_SYSTEM_MESSAGES[e])if(void 0===n)this._userHandlers.system[e]=[];else for(var a=0;a<this._userHandlers.system[e].length;a++)this._userHandlers.system[e][a]===n&&this._userHandlers.system[e].splice(a,1);else if(void 0!==o.MIDI_CHANNEL_MESSAGES[e]){if(-1<t.indexOf("all")){t=[];for(var r=1;r<=16;r++)t.push(r)}if(!this._userHandlers.channel[e])return this;t.forEach((function(t){var o=i._userHandlers.channel[e][t];if(o)if(void 0===n)i._userHandlers.channel[e][t]=[];else for(var a=0;a<o.length;a++)o[a]===n&&o.splice(a,1)}))}else{if(void 0!==e)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},a.prototype._initializeUserHandlers=function(){for(var e in o.MIDI_CHANNEL_MESSAGES)o.MIDI_CHANNEL_MESSAGES.hasOwnProperty(e)&&(this._userHandlers.channel[e]={});for(var t in o.MIDI_SYSTEM_MESSAGES)o.MIDI_SYSTEM_MESSAGES.hasOwnProperty(t)&&(this._userHandlers.system[t]=[])},a.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var t={target:this,data:e.data,timestamp:e.timeStamp,type:"midimessage"};this._userHandlers.system.midimessage.forEach((function(e){e(t)}))}e.data[0]<240?this._parseChannelEvent(e):e.data[0]<=255&&this._parseSystemEvent(e)},a.prototype._parseChannelEvent=function(e){var t,n,i=e.data[0]>>4,a=1+(15&e.data[0]);1<e.data.length&&(t=e.data[1],n=2<e.data.length?e.data[2]:void 0);var r={target:this,data:e.data,timestamp:e.timeStamp,channel:a};i===o.MIDI_CHANNEL_MESSAGES.noteoff||i===o.MIDI_CHANNEL_MESSAGES.noteon&&0===n?(r.type="noteoff",r.note={number:t,name:o._notes[t%12],octave:o.getOctave(t)},r.velocity=n/127,r.rawVelocity=n):i===o.MIDI_CHANNEL_MESSAGES.noteon?(r.type="noteon",r.note={number:t,name:o._notes[t%12],octave:o.getOctave(t)},r.velocity=n/127,r.rawVelocity=n):i===o.MIDI_CHANNEL_MESSAGES.keyaftertouch?(r.type="keyaftertouch",r.note={number:t,name:o._notes[t%12],octave:o.getOctave(t)},r.value=n/127):i===o.MIDI_CHANNEL_MESSAGES.controlchange&&0<=t&&t<=119?(r.type="controlchange",r.controller={number:t,name:this.getCcNameByNumber(t)},r.value=n):i===o.MIDI_CHANNEL_MESSAGES.channelmode&&120<=t&&t<=127?(r.type="channelmode",r.controller={number:t,name:this.getChannelModeByNumber(t)},r.value=n):i===o.MIDI_CHANNEL_MESSAGES.programchange?(r.type="programchange",r.value=t):i===o.MIDI_CHANNEL_MESSAGES.channelaftertouch?(r.type="channelaftertouch",r.value=t/127):i===o.MIDI_CHANNEL_MESSAGES.pitchbend?(r.type="pitchbend",r.value=((n<<7)+t-8192)/8192):r.type="unknownchannelmessage",this._userHandlers.channel[r.type]&&this._userHandlers.channel[r.type][a]&&this._userHandlers.channel[r.type][a].forEach((function(e){e(r)}))},a.prototype.getCcNameByNumber=function(e){if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("The control change number must be between 0 and 119.");for(var t in o.MIDI_CONTROL_CHANGE_MESSAGES)if(o.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(t)&&e===o.MIDI_CONTROL_CHANGE_MESSAGES[t])return t},a.prototype.getChannelModeByNumber=function(e){if(!(120<=(e=Math.floor(e))&&status<=127))throw new RangeError("The control change number must be between 120 and 127.");for(var t in o.MIDI_CHANNEL_MODE_MESSAGES)if(o.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(t)&&e===o.MIDI_CHANNEL_MODE_MESSAGES[t])return t},a.prototype._parseSystemEvent=function(e){var t=e.data[0],n={target:this,data:e.data,timestamp:e.timeStamp};t===o.MIDI_SYSTEM_MESSAGES.sysex?n.type="sysex":t===o.MIDI_SYSTEM_MESSAGES.timecode?n.type="timecode":t===o.MIDI_SYSTEM_MESSAGES.songposition?n.type="songposition":t===o.MIDI_SYSTEM_MESSAGES.songselect?(n.type="songselect",n.song=e.data[1]):t===o.MIDI_SYSTEM_MESSAGES.tuningrequest?n.type="tuningrequest":t===o.MIDI_SYSTEM_MESSAGES.clock?n.type="clock":t===o.MIDI_SYSTEM_MESSAGES.start?n.type="start":t===o.MIDI_SYSTEM_MESSAGES.continue?n.type="continue":t===o.MIDI_SYSTEM_MESSAGES.stop?n.type="stop":t===o.MIDI_SYSTEM_MESSAGES.activesensing?n.type="activesensing":t===o.MIDI_SYSTEM_MESSAGES.reset?n.type="reset":n.type="unknownsystemmessage",this._userHandlers.system[n.type]&&this._userHandlers.system[n.type].forEach((function(e){e(n)}))},r.prototype.send=function(e,t,n){if(!(128<=e&&e<=255))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");void 0===t&&(t=[]),Array.isArray(t)||(t=[t]);var i=[];return t.forEach((function(e){var t=Math.floor(e);if(!(0<=t&&t<=255))throw new RangeError("Data bytes must be integers between 0 (0x00) and 255 (0xFF).");i.push(t)})),this._midiOutput.send([e].concat(i),parseFloat(n)||0),this},r.prototype.sendSysex=function(e,t,n){if(!o.sysexEnabled)throw new Error("Sysex message support must first be activated.");return n=n||{},e=[].concat(e),t.forEach((function(e){if(e<0||127<e)throw new RangeError("The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).")})),t=e.concat(t,o.MIDI_SYSTEM_MESSAGES.sysexend),this.send(o.MIDI_SYSTEM_MESSAGES.sysex,t,this._parseTimeParameter(n.time)),this},r.prototype.sendTimecodeQuarterFrame=function(e,t){return t=t||{},this.send(o.MIDI_SYSTEM_MESSAGES.timecode,e,this._parseTimeParameter(t.time)),this},r.prototype.sendSongPosition=function(e,t){t=t||{};var n=(e=Math.floor(e)||0)>>7&127,i=127&e;return this.send(o.MIDI_SYSTEM_MESSAGES.songposition,[n,i],this._parseTimeParameter(t.time)),this},r.prototype.sendSongSelect=function(e,t){if(t=t||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The song number must be between 0 and 127.");return this.send(o.MIDI_SYSTEM_MESSAGES.songselect,[e],this._parseTimeParameter(t.time)),this},r.prototype.sendTuningRequest=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(e.time)),this},r.prototype.sendClock=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(e.time)),this},r.prototype.sendStart=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(e.time)),this},r.prototype.sendContinue=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(e.time)),this},r.prototype.sendStop=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(e.time)),this},r.prototype.sendActiveSensing=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(e.time)),this},r.prototype.sendReset=function(e){return e=e||{},this.send(o.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(e.time)),this},r.prototype.stopNote=function(e,t,n){if("all"===e)return this.sendChannelMode("allnotesoff",0,t,n);var i=64;return(n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(i=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(i=127*n.velocity),this._convertNoteToArray(e).forEach(function(e){o.toMIDIChannels(t).forEach(function(t){this.send((o.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(i)],this._parseTimeParameter(n.time))}.bind(this))}.bind(this)),this},r.prototype.playNote=function(e,t,n){var i,a=64;if((n=n||{}).rawVelocity?!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=127&&(a=n.velocity):!isNaN(n.velocity)&&0<=n.velocity&&n.velocity<=1&&(a=127*n.velocity),i=this._parseTimeParameter(n.time),this._convertNoteToArray(e).forEach(function(e){o.toMIDIChannels(t).forEach(function(t){this.send((o.MIDI_CHANNEL_MESSAGES.noteon<<4)+(t-1),[e,Math.round(a)],i)}.bind(this))}.bind(this)),!isNaN(n.duration)){n.duration<=0&&(n.duration=0);var r=64;n.rawVelocity?!isNaN(n.release)&&0<=n.release&&n.release<=127&&(r=n.release):!isNaN(n.release)&&0<=n.release&&n.release<=1&&(r=127*n.release),this._convertNoteToArray(e).forEach(function(e){o.toMIDIChannels(t).forEach(function(t){this.send((o.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(t-1),[e,Math.round(r)],(i||o.time)+n.duration)}.bind(this))}.bind(this))}return this},r.prototype.sendKeyAftertouch=function(e,t,n,i){var a=this;if(i=i||{},t<1||16<t)throw new RangeError("The channel must be between 1 and 16.");(isNaN(n)||n<0||1<n)&&(n=.5);var r=Math.round(127*n);return this._convertNoteToArray(e).forEach((function(e){o.toMIDIChannels(t).forEach((function(t){a.send((o.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(t-1),[e,r],a._parseTimeParameter(i.time))}))})),this},r.prototype.sendControlChange=function(e,t,n,i){if(i=i||{},"string"==typeof e){if(void 0===(e=o.MIDI_CONTROL_CHANGE_MESSAGES[e]))throw new TypeError("Invalid controller name.")}else if(!(0<=(e=Math.floor(e))&&e<=119))throw new RangeError("Controller numbers must be between 0 and 119.");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("Controller value must be between 0 and 127.");return o.toMIDIChannels(n).forEach(function(n){this.send((o.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(n-1),[e,t],this._parseTimeParameter(i.time))}.bind(this)),this},r.prototype._selectRegisteredParameter=function(e,t,n){var i=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return o.toMIDIChannels(t).forEach((function(){i.sendControlChange(101,e[0],t,{time:n}),i.sendControlChange(100,e[1],t,{time:n})})),this},r.prototype._selectNonRegisteredParameter=function(e,t,n){var i=this;if(e[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(e[1]=Math.floor(e[1]),!(0<=e[1]&&e[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return o.toMIDIChannels(t).forEach((function(){i.sendControlChange(99,e[0],t,{time:n}),i.sendControlChange(98,e[1],t,{time:n})})),this},r.prototype._setCurrentRegisteredParameter=function(e,t,n){var i=this;if((e=[].concat(e))[0]=Math.floor(e[0]),!(0<=e[0]&&e[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return o.toMIDIChannels(t).forEach((function(){i.sendControlChange(6,e[0],t,{time:n})})),e[1]=Math.floor(e[1]),0<=e[1]&&e[1]<=127&&o.toMIDIChannels(t).forEach((function(){i.sendControlChange(38,e[1],t,{time:n})})),this},r.prototype._deselectRegisteredParameter=function(e,t){var n=this;return o.toMIDIChannels(e).forEach((function(){n.sendControlChange(101,127,e,{time:t}),n.sendControlChange(100,127,e,{time:t})})),this},r.prototype.setRegisteredParameter=function(e,t,n,i){var a=this;if(i=i||{},!Array.isArray(e)){if(!o.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=o.MIDI_REGISTERED_PARAMETER[e]}return o.toMIDIChannels(n).forEach((function(){a._selectRegisteredParameter(e,n,i.time),a._setCurrentRegisteredParameter(t,n,i.time),a._deselectRegisteredParameter(n,i.time)})),this},r.prototype.setNonRegisteredParameter=function(e,t,n,i){var a=this;if(i=i||{},!(0<=e[0]&&e[0]<=127&&0<=e[1]&&e[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return t=[].concat(t),o.toMIDIChannels(n).forEach((function(){a._selectNonRegisteredParameter(e,n,i.time),a._setCurrentRegisteredParameter(t,n,i.time),a._deselectRegisteredParameter(n,i.time)})),this},r.prototype.incrementRegisteredParameter=function(e,t,n){var i=this;if(n=n||{},!Array.isArray(e)){if(!o.MIDI_REGISTERED_PARAMETER[e])throw new Error("The specified parameter is not available.");e=o.MIDI_REGISTERED_PARAMETER[e]}return o.toMIDIChannels(t).forEach((function(){i._selectRegisteredParameter(e,t,n.time),i.sendControlChange(96,0,t,{time:n.time}),i._deselectRegisteredParameter(t,n.time)})),this},r.prototype.decrementRegisteredParameter=function(e,t,n){if(n=n||{},!Array.isArray(e)){if(!o.MIDI_REGISTERED_PARAMETER[e])throw new TypeError("The specified parameter is not available.");e=o.MIDI_REGISTERED_PARAMETER[e]}return o.toMIDIChannels(t).forEach(function(){this._selectRegisteredParameter(e,t,n.time),this.sendControlChange(97,0,t,{time:n.time}),this._deselectRegisteredParameter(t,n.time)}.bind(this)),this},r.prototype.setPitchBendRange=function(e,t,n,i){var a=this;if(i=i||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return o.toMIDIChannels(n).forEach((function(){a.setRegisteredParameter("pitchbendrange",[e,t],n,{time:i.time})})),this},r.prototype.setModulationRange=function(e,t,n,i){var a=this;if(i=i||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The semitones value must be between 0 and 127");if(!(0<=(t=Math.floor(t)||0)&&t<=127))throw new RangeError("The cents value must be between 0 and 127");return o.toMIDIChannels(n).forEach((function(){a.setRegisteredParameter("modulationrange",[e,t],n,{time:i.time})})),this},r.prototype.setMasterTuning=function(e,t,n){var i=this;if(n=n||{},(e=parseFloat(e)||0)<=-65||64<=e)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var a=Math.floor(e)+64,r=e-Math.floor(e),s=(r=Math.round((r+1)/2*16383))>>7&127,c=127&r;return o.toMIDIChannels(t).forEach((function(){i.setRegisteredParameter("channelcoarsetuning",a,t,{time:n.time}),i.setRegisteredParameter("channelfinetuning",[s,c],t,{time:n.time})})),this},r.prototype.setTuningProgram=function(e,t,n){var i=this;if(n=n||{},!(0<=(e=Math.floor(e))&&e<=127))throw new RangeError("The program value must be between 0 and 127");return o.toMIDIChannels(t).forEach((function(){i.setRegisteredParameter("tuningprogram",e,t,{time:n.time})})),this},r.prototype.setTuningBank=function(e,t,n){var i=this;if(n=n||{},!(0<=(e=Math.floor(e)||0)&&e<=127))throw new RangeError("The bank value must be between 0 and 127");return o.toMIDIChannels(t).forEach((function(){i.setRegisteredParameter("tuningbank",e,t,{time:n.time})})),this},r.prototype.sendChannelMode=function(e,t,n,i){if(i=i||{},"string"==typeof e){if(!(e=o.MIDI_CHANNEL_MODE_MESSAGES[e]))throw new TypeError("Invalid channel mode message name.")}else if(!(120<=(e=Math.floor(e))&&e<=127))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if((t=Math.floor(t)||0)<0||127<t)throw new RangeError("Value must be an integer between 0 and 127.");return o.toMIDIChannels(n).forEach(function(n){this.send((o.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(n-1),[e,t],this._parseTimeParameter(i.time))}.bind(this)),this},r.prototype.sendProgramChange=function(e,t,n){var i=this;if(n=n||{},e=Math.floor(e),isNaN(e)||e<0||127<e)throw new RangeError("Program numbers must be between 0 and 127.");return o.toMIDIChannels(t).forEach((function(t){i.send((o.MIDI_CHANNEL_MESSAGES.programchange<<4)+(t-1),[e],i._parseTimeParameter(n.time))})),this},r.prototype.sendChannelAftertouch=function(e,t,n){var i=this;n=n||{},e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=.5);var a=Math.round(127*e);return o.toMIDIChannels(t).forEach((function(e){i.send((o.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(e-1),[a],i._parseTimeParameter(n.time))})),this},r.prototype.sendPitchBend=function(e,t,n){var i=this;if(n=n||{},isNaN(e)||e<-1||1<e)throw new RangeError("Pitch bend value must be between -1 and 1.");var a=Math.round((e+1)/2*16383),r=a>>7&127,s=127&a;return o.toMIDIChannels(t).forEach((function(e){i.send((o.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(e-1),[s,r],i._parseTimeParameter(n.time))})),this},r.prototype._parseTimeParameter=function(e){var t,n=parseFloat(e);return"string"==typeof e&&"+"===e.substring(0,1)?n&&0<n&&(t=o.time+n):n>o.time&&(t=n),t},r.prototype._convertNoteToArray=function(e){var t=[];return Array.isArray(e)||(e=[e]),e.forEach((function(e){t.push(o.guessNoteNumber(e))})),t},"function"==typeof define&&"object"==typeof n(252)?define([],(function(){return o})):i.exports?i.exports=o:e.WebMidi||(e.WebMidi=o)}(window);var d=function(){function e(t){var n=this;s()(this,e),this.play=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n.samples[e].play();case 1:case"end":return t.stop()}}))},this.unload=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},this.load=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n.sampleByNotes={},n.nextNoteId=49,e.next=4,a.a.awrap(n.sourceSamples.forEach((function(e){var t;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(n.getUri(e.source));case 2:t=i.sent,console.log(t),n.sampleByNotes[n.nextNoteId++]=e.id,n.samples[e.id]=new Howl({src:t,pool:10,onload:function(){console.log("load")},onloaderror:function(e,t){console.log(e,t)}});case 6:case"end":return i.stop()}}))})));case 4:case"end":return e.stop()}}))},this.sourceSamples=t,this.samples={},WebMidi.enable((function(e){e?console.log("WebMidi could not be enabled.",e):console.log("WebMidi enabled!");var t=WebMidi.inputs[WebMidi.inputs.length-1];console.log(WebMidi.inputs),t&&t.addListener("noteon","all",(function(e){n.play(n.sampleByNotes[e.note.number])}))}))}return l()(e,[{key:"getUri",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.a.fromModule(e),n.abrupt("return",t.uri);case 2:case"end":return n.stop()}}))}}]),e}()}).call(this,n(67),n(191)(e))},304:function(e,n,i){"use strict";var o=i(2),a=i.n(o),r=i(34),s=i.n(r),c=i(12),l=i.n(c),u=i(4),d=i.n(u),h=i(6),f=i.n(h),p=i(7),m=i.n(p),g=i(5),y=i.n(g),v=i(8),b=i.n(v),w=i(0),_=i.n(w),A=i(10),S=i(51),x=i(11),k=i(3),E=i(20),P=i(30),I=i(264),N=i(599),z=i(126),M=i(581),T=i(602),C=i(24),O=i(25),D=i.n(O),G=i(42),q=i(29),R=i(23),L=i(68),j=i(22),B=i(57),F=i(9),U=i(102),H=(A.a.OS,function(e){function t(e){var n;d()(this,t),(n=m()(this,y()(t).call(this,e))).setAsyncState=function(e){return new Promise((function(t){return n.setState(e,(function(){return t()}))}))};var i=E.a.get("window").width,o=E.a.get("window").height;n.state={screen:{width:i,height:o},portrait:o>i};try{n.orientationChangeSubscription=P.a.addOrientationChangeListener((function(e){return n._orientationDidChange(e)}))}catch(a){}return n}return b()(t,e),f()(t,[{key:"componentWillUnmount",value:function(){if(this.orientationChangeSubscription)try{this.orientationChangeSubscription.remove()}catch(e){console.log("Error")}try{P.a.unlockAsync()}catch(t){console.log("Error")}}},{key:"onResize",value:function(){var e=E.a.get("window").width,t=E.a.get("window").height;e===this.state.screen.width&&t===this.state.screen.height||this._orientationDidChange()}},{key:"_orientationDidChange",value:function(e){var t,n,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=E.a.get("window").width,n=E.a.get("window").height,e){o.next=14;break}return o.prev=3,o.next=6,a.a.awrap(P.a.getOrientationAsync().orientation);case 6:e=o.sent,o.next=12;break;case 9:o.prev=9,o.t0=o.catch(3),e=n>t?P.a.Orientation.PORTRAIT:P.a.Orientation.LANDSCAPE;case 12:o.next=15;break;case 14:e.orientationInfo&&(e=e.orientationInfo.orientation);case 15:return i=[P.a.Orientation.PORTRAIT,P.a.Orientation.PORTRAIT_UP,P.a.Orientation.PORTRAIT_DOWN].includes(e),o.next=18,a.a.awrap(this.setAsyncState({portrait:i,screen:{width:t,height:n}}));case 18:this.orientationDidChange&&this.orientationDidChange();case 19:case"end":return o.stop()}}),null,this,[[3,9]])}}]),t}(_.a.Component)),W={},V=E.a.get("window"),Y=V.width,X=V.height,Q={settingButton:{position:"absolute",right:10,top:10,width:50,justifyContent:"center",height:50,alignItems:"center"},title:{color:"white",fontSize:25,textAlign:"center"},subtitle:{color:"white",fontSize:16,textAlign:"center",opacity:.7,lineHeight:21},loader:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,1)",elevation:100,flex:1},text:{textAlign:"left",color:"white",fontSize:17},backButton:{paddingLeft:20,paddingRight:20,height:"100%",justifyContent:"center"},header:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:44},confirmButton:{paddingLeft:0,paddingRight:10,height:"100%",minWidth:"20%",justifyContent:"center"},headerConfirm:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:44},headerConfirmTitle:{lineHeight:44,fontSize:20},headerTitle:{lineHeight:44,fontSize:20,flex:1,marginRight:40},screen:{width:Y,height:X,flex:1},screenInfo:{width:Y,height:X-80,flex:1}};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={portrait:x.a.create({container:{flex:1,backgroundColor:"rgba(0,0,0,0.3)"},contentContainer:{flex:1},imageContainer:{flex:1,overflow:"visible",height:"100%",width:"100%"},image:{height:"80%",width:"100%",resizeMode:"contain",shadowColor:"black",shadowOffset:{width:0,height:0},shadowOpacity:1,shadowRadius:10},dots:{height:5,width:5,backgroundColor:"#dcdcdc",margin:8,borderRadius:5},view:{flex:1},instrumentView:{flex:1,paddingBottom:10,alignItems:"center",flexDirection:"column"},instrumentActions:{flexDirection:"row",paddingTop:5},instrumentAction:{opacity:.9,alignItems:"center",minWidth:110,justifyContent:"center"},instrumentActionTitle:{color:"white",fontSize:17},instrumentImage:{flex:6,width:"100%",height:"100%",justifyContent:"flex-end",alignItems:"center",overflow:"visible"},instrumentSummary:{flex:2,width:"100%",paddingTop:10,justifyContent:"center",alignItems:"center"},instrumentTitle:Z({},Q.title),instrumentDesc:Z({},Q.subtitle)}),landscape:x.a.create({container:{flex:1,backgroundColor:"rgba(0,0,0,0.3)"},contentContainer:{flex:1},imageContainer:{height:"90%",width:"100%"},image:{height:"100%",width:"100%",resizeMode:"contain",shadowColor:"black",shadowOffset:{width:0,height:0},shadowOpacity:1,shadowRadius:10},dots:{height:10,width:10,backgroundColor:"#dcdcdc",margin:8,borderRadius:5},view:{flex:1},instrumentView:{flex:1,flexDirection:"row"},instrumentActions:{flexDirection:"row",alignItems:"center",padding:5,borderTopColor:"white"},instrumentAction:{paddingTop:10,paddingLeft:20,paddingRight:20,alignItems:"center",opacity:.8},instrumentActionTitle:{color:"white",textAlign:"center",fontSize:16},instrumentImage:{flex:3,justifyContent:"center",paddingTop:10,alignItems:"center",backgroundColor:"rgba(0,0,0,0.0)"},instrumentSummary:{flex:5,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.0)"},instrumentTitle:Z({},Q.title),instrumentDesc:Z({},Q.subtitle)})},$={homeScreenBackground:i(376),homeScreenBackgroundEco:i(377),silverString:i(378),nylonBassString:i(379),stringShadow:i(380),lightNylonString:i(381),doubleNylonString:i(382),doubleNylonLightString:i(383),yellowString:i(384),darkYellowString:i(385),splashScreen:i(386),fret:i(387),splashScreenAnimated:i(388),loader:i(389),dummy:i(390)},ee=[{id:"chernihiv_bandura",imageUrl:i(391),playScreen:"ChernihivBandura",videoPlaylistId:"PLAYJTsBSJ53Odnqmh0JaJUrIgwOiCfW5c",defaultLocked:!1,availableOnWeb:!0},{id:"kharkiv_bandura",imageUrl:i(392),playScreen:"KharkivBandura",videoPlaylistId:"PLAYJTsBSJ53MzvommMYNXPgma4pXaXdyj",defaultLocked:!1},{id:"folk_bandura",imageUrl:i(393),videoPlaylistId:"PLAYJTsBSJ53My5Qt2QugWZva5RsNivGxp",playScreen:"FolkBandura",defaultLocked:!1},{id:"kobza",imageUrl:i(394),playScreen:"Kobza",videoPlaylistId:"PLAYJTsBSJ53NjIpjyGHyUj59RFrSDSAAs",defaultLocked:!1},{id:"torban",imageUrl:i(395),playScreen:"Torban",videoPlaylistId:"PLAYJTsBSJ53MV7qjUTeUkyGEoEe40l1zz",defaultLocked:!1},{id:"buben",imageUrl:i(396),playScreen:"Buben",videoPlaylistId:"PLAYJTsBSJ53MXETw8Gmnq0FWLdH71oc3u",defaultLocked:!1}],te=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return _.a.createElement(N.a,{name:this.props.fullName||("ios"===A.a.OS?"ios-":"md-")+this.props.name,size:this.props.size||44,style:{marginBottom:0},color:this.props.color||"white"})}}]),t}(_.a.Component),ne=i(15),ie=i.n(ne),oe=i(17),ae=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return _.a.createElement(oe.a,ie()({},this.props,{style:[this.props.style,{fontFamily:this.props.header?"ElMessiri Bold":"ElMessiri"}]}))}}]),t}(_.a.Component),re=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=F.a.divide(this.props.scrollX,E.a.get("window").width);return _.a.createElement(k.a,{style:{flexDirection:"row",justifyContent:"center"}},s()(new Array(this.props.count)).map((function(n,i){var o=t.interpolate({inputRange:[i-1,i,i+1],outputRange:[.3,1,.3],extrapolate:"clamp"});return _.a.createElement(F.a.View,{key:i,style:[{opacity:o},e.props.style]})})))}}]),t}(_.a.Component),se=i(56),ce=i(104),le=i(142),ue=function(){function e(){d()(this,e)}return f()(e,null,[{key:"get",value:function(e){var t,n=arguments;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:"global",i.t0=JSON,i.next=4,a.a.awrap(le.a.getItem("@"+t+":"+e));case 4:return i.t1=i.sent,i.abrupt("return",i.t0.parse.call(i.t0,i.t1));case 6:case"end":return i.stop()}}))}},{key:"set",value:function(e,t){var n,i=arguments;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"global",o.next=3,a.a.awrap(le.a.setItem("@"+n+":"+e,JSON.stringify(t)));case 3:return o.abrupt("return",!0);case 4:case"end":return o.stop()}}))}}]),e}();i(266);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var he=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).onNav=function(e){var t=n.props.screenProps,i=t.t,o=t.locale;if([].includes(e.url)||"InfoScreen"===e.url&&!n.hasInfoFor(e.id,o))return"ios"===A.a.OS&&se.b(ce.b.Error),void U.a.alert(i("limits.sorry"),i("limits.feature_will_be_in_future"),[{text:"OK"}],{cancelable:!1});n.touchButton(),n.props.navigation.navigate(e.url,e)},n.scrollToImage=function(){n.scroller.scrollToIndex({animated:!1,index:n.state.index})},n.getItemLayout=function(e,t){return{length:n.state.screen.width,offset:n.state.screen.width*t,index:t}},n.onViewableItemsChanged=function(e){var t=e.viewableItems;e.changed;t[0]&&n.setState({index:t[0].index})},n._renderItem=function(e){var t=e.item,i=e.index,o="web"===A.a.OS,r=n.props.screenProps,s=r.t,c=r.locale,l=t,u=!(!l.defaultLocked||n.state.lockedInstruments[i]),d=s(u?"home_screen.lockTitle":"instruments."+l.id+".title"),h=s(u?"home_screen.lockDescription":"instruments."+l.id+".description");return _.a.createElement(k.a,{style:[n.state.style.instrumentView,{flex:1,width:n.state.screen.width,height:o?n.state.screen.height-20:void 0}],key:i},_.a.createElement(k.a,{style:[n.state.style.instrumentImage,{position:"relative"}]},_.a.createElement(L.a,{onPress:function(){return n.handleDoubleTap(l,{url:l.playScreen})},style:n.state.style.imageContainer},_.a.createElement(q.a,{style:[n.state.style.image,u&&{tintColor:"rgba(224, 224, 224, 0.90)",opacity:.4}],source:l.imageUrl})),u&&_.a.createElement(k.a,{style:{position:"absolute",zIndex:10,bottom:100}},_.a.createElement(N.a,{name:"ios-lock",size:50,color:"white"}," "))),_.a.createElement(k.a,{style:n.state.style.instrumentSummary},_.a.createElement(ae,{numberOfLines:1,header:"true",adjustsFontSizeToFit:!0,style:n.state.style.instrumentTitle},d),_.a.createElement(ae,{numberOfLines:1,style:n.state.style.instrumentDesc},h),u?_.a.createElement(k.a,{style:n.state.style.instrumentActions},_.a.createElement(j.a,{onPress:function(){return n.handleTap(null,{url:"Tests",id:l.id,onBack:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(n.refresh());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}})},style:n.state.style.instrumentAction},_.a.createElement(te,{name:"unlock"}),_.a.createElement(ae,{style:n.state.style.instrumentActionTitle},s("home_screen.lockTitleButton")))):_.a.createElement(k.a,{style:n.state.style.instrumentActions},_.a.createElement(j.a,{onPress:function(){return n.handleTap(l,{url:l.playScreen,instrumentId:l.id})},style:n.state.style.instrumentAction},_.a.createElement(te,{name:"musical-notes"}),_.a.createElement(ae,{style:n.state.style.instrumentActionTitle},s("home_screen.play"))),_.a.createElement(j.a,{onPress:function(){return n.handleTap(l,{url:"VideoLecture",title:s("instruments."+l.id+".title"),videoPlaylistId:l.videoPlaylistId})},style:n.state.style.instrumentAction},_.a.createElement(te,{fullName:"logo-youtube"}),_.a.createElement(ae,{style:n.state.style.instrumentActionTitle},s("home_screen.video"))),_.a.createElement(j.a,{onPress:function(){return n.handleTap(l,{url:"InfoScreen",id:l.id})},style:[n.state.style.instrumentAction,{opacity:n.hasInfoFor(l.id,c)?1:.2}]},_.a.createElement(te,{name:"book"}),_.a.createElement(ae,{style:n.state.style.instrumentActionTitle},s("home_screen.info"))))))},n.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,{loading:!0,index:0,lockedInstruments:[],style:K[n.state.portrait?"portrait":"landscape"]}),n.scrollX=new F.a.Value(0),n.instruments=ee,n.handleDoubleTap=n.handleDoubleTap.bind(D()(n)),n}return b()(t,e),f()(t,[{key:"pullOutStorage",value:function(){return this.instruments.map((function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(ue.get(e.id,"lockedInstrument"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}))}},{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.orientationDidChange(),e.next=3,a.a.awrap(this.refresh());case 3:case"end":return e.stop()}}),null,this)}},{key:"orientationDidChange",value:function(){this.setState({style:K[this.state.portrait?"portrait":"landscape"]})}},{key:"refresh",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.pullOutStorage(),t.next=3,a.a.awrap(Promise.all(e));case 3:return e=t.sent,t.t0=this,t.next=7,a.a.awrap(ue.get("ecoMode"));case 7:t.t1=t.sent,t.t2={ecoMode:t.t1},t.t0.setState.call(t.t0,t.t2),this.setState({lockedInstruments:e,loading:!1});case 11:case"end":return t.stop()}}),null,this)}},{key:"touchButton",value:function(){"ios"===A.a.OS&&se.b()}},{key:"handleDoubleTap",value:function(e,t){var n=Date.now();this.lastTap&&n-this.lastTap<300?this.onNav(t):this.lastTap=n}},{key:"handleTap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t||(t=e),this.onNav(t)}},{key:"hasInfoFor",value:function(e,t){return W[e]&&W[e][t]}},{key:"renderList",value:function(){var e=this;return _.a.createElement(B.a,{horizontal:!0,onViewableItemsChanged:this.onViewableItemsChanged,pagingEnabled:!0,extraData:this.state,getItemLayout:this.getItemLayout,scrollToOverflowEnabled:!0,snapToAlignment:"center",showsHorizontalScrollIndicator:!1,onContentSizeChange:function(t,n){t!==e.state.contentWidth&&e.scrollToImage(),e.setState({contentWidth:t})},onScroll:F.a.event([{nativeEvent:{contentOffset:{x:this.scrollX}}}]),scrollEventThrottle:16,ref:function(t){e.scroller=t},keyExtractor:function(e){return e.id},initialNumToRender:this.instruments.length,data:this.instruments,renderItem:this._renderItem})}},{key:"renderCarouselDots",value:function(){return _.a.createElement(re,{count:this.instruments.length,scrollX:this.scrollX,style:this.state.style.dots})}},{key:"renderSettings",value:function(){var e=this;return _.a.createElement(j.a,{style:Q.settingButton,onPress:function(){return e.handleTap(null,{url:"Settings"})}},_.a.createElement(k.a,null,_.a.createElement(te,{name:"information-circle-outline",size:32,color:"white"})))}},{key:"render",value:function(){var e=this,t=this.props.screenProps;t.t,t.locale;return _.a.createElement(G.a,{onLayout:function(){return e.onResize()},style:{flex:1,flexDirection:"row",backgroundColor:"black"}},_.a.createElement(R.a,{fadeDuration:0,source:this.state.ecoMode?$.homeScreenBackgroundEco:$.homeScreenBackground,style:this.state.style.container},_.a.createElement(k.a,{style:this.state.style.container},this.renderList(),this.renderCarouselDots(),this.renderSettings())))}}]),t}(H),fe=i(305),pe=function(e){function n(){return d()(this,n),m()(this,y()(n).apply(this,arguments))}return b()(n,e),f()(n,[{key:"handleDoubleTap",value:function(e,n){var i=Date.now();if(this.lastTap&&i-this.lastTap<300){if(!e.availableOnWeb||"VideoLecture"===n.url||"InfoScreen"===n.url)return void alert(t("limits.web_limitation"))}else this.lastTap=i}},{key:"handleTap",value:function(e,t){var n=this.props.screenProps,i=n.t;n.locale;e.availableOnWeb&&"VideoLecture"!==t.url&&"InfoScreen"!==t.url?this.onNav(t):alert(i("limits.web_limitation"))}},{key:"renderList",value:function(){var e=this;return _.a.createElement(fe.a,{from:0,positionFixed:!0,minDistanceForAction:.1,loop:!0,controlsProps:{dotsTouchable:!0,prevPos:"left",nextPos:"right",nextTitle:">",nextTitleStyle:{color:"white",fontSize:36,fontWeight:"500"},PrevComponent:function(e){var t=e.onPress;return _.a.createElement(j.a,{onPress:t},_.a.createElement(oe.a,{style:{color:"white",fontSize:36,fontWeight:"500"}},"<"))}}},this.instruments.map((function(t,n){return e._renderItem({item:t,index:n})})))}},{key:"hasInfoFor",value:function(e,t){return!0}},{key:"renderCarouselDots",value:function(){}},{key:"renderSettings",value:function(){}}]),n}(he),me=i(184),ge=i(70),ye=i(38),ve=i(122),be=(i(492),{aeolian:{name:"Minor",sequence:[0,2,3,5,7,8,10]},gutsul:{name:"Hutsul",sequence:[0,2,3,6,7,9,10]},ionian:{name:"Major",sequence:[0,2,4,5,7,9,11]},dorian:{name:"Dorian",sequence:[0,2,3,5,7,9,10]},phrygian:{name:"Phrygian",sequence:[0,1,3,5,7,8,10]},lydian:{name:"Lydian",sequence:[0,2,4,6,7,9,11]},mixolydian:{name:"Mixolydian",sequence:[0,2,4,5,7,9,10]},locrian:{name:"Locrian",sequence:[0,1,3,5,6,8,10]},chromatic:{name:"Chromatic",sequence:[0,1,2,3,4,5,6,7,8,9,10,11]},acoustic:{name:"Acoustic",sequence:[0,2,4,6,7,9,10]},algerian:{name:"Algerian",sequence:[0,2,3,5,6,7,9,10]},altered:{name:"Altered",sequence:[0,1,3,4,6,8,10]},pentatonic:{name:"Minoric",sequence:[0,2,4,7,9]},wholetone:{name:"Wholetone",sequence:[0,2,4,6,8,10]},blues:{name:"Blues",sequence:[0,3,5,6,7,10]},minorBlues:{name:"Minor Blues",sequence:[0,2,3,5,6,7,8,10]},majorBlues:{name:"Major Blues",sequence:[0,2,3,4,5,6,7,9,10]},harmonicMinor:{name:"Harmonic Minor",sequence:[0,2,3,5,7,8,11]},melodicMinorAsc:{name:"Melodic Minor Asc",sequence:[0,2,3,5,7,9,11]},melodicMinorDesc:{name:"Melodic Minor Desc",sequence:[0,2,3,5,7,8,10]},enigmatic:{name:"Enigmatic",sequence:[0,1,4,6,8,10,11]},doubleHarmonic:{name:"Double Harmonic",sequence:[0,1,4,5,7,8,11]},persian:{name:"Persian",sequence:[0,1,4,5,6,8,11]},arabian:{name:"Arabian",sequence:[0,2,4,5,6,8,10]},japanese:{name:"Japanese",sequence:[0,1,5,7,8]},egyptian:{name:"Egyptian",sequence:[0,2,5,7,10]},hirajoshi:{name:"Hirajoshi",sequence:[0,2,3,7,8]},minorPentatonic:{name:"Minor Pentatonic",sequence:[0,3,5,7,10]},majorPentatonic:{name:"Major Pentatonic",sequence:[0,2,4,7,9]}}),we={mapping:{C:0,"C#":1,"C\u266f":1,Db:1,"D\u266d":1,D:2,"D#":3,"D\u266f":3,Eb:3,"E\u266d":3,E:4,Fb:4,"F\u266d":4,F:5,"F#":6,"F\u266f":6,Gb:6,"G\u266d":6,G:7,"G#":8,"G\u266f":8,Ab:8,"A\u266d":8,A:9,"A#":10,"A\u266f":10,Bb:10,"B\u266d":10,B:11,Cb:11,"C\u266d":11},all:"C C\u266f D D\u266f E F F\u266f G G\u266f A B\u266d B".split(" ")},_e=i(604),Ae=function(){function e(t,n){d()(this,e),this.fretHeight=n/t,this.fretHeightPercentage=100/t}return f()(e,[{key:"getFretCoordinates",value:function(e){var t=this.fretHeight,n=this.fretHeightPercentage;return{top:e*t,topPercent:e*n,bottom:e*t+t,bottomPercent:e*n+n,heightPercent:n,height:t}}}]),e}();function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={yellow:$.yellowString,dark_yellow:$.darkYellowString,large:$.silverString,bass_nylon:$.nylonBassString,light_nylon:$.lightNylonString,double_nylon:$.doubleNylonString,double_nylon_light:$.doubleNylonLightString},Ee=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).vibrationValue=new F.a.Value(0),n.opacityValue=new F.a.Value(1),n.lastMovedPlay=null,n.state={stringPressedY:1},n}return b()(t,e),f()(t,[{key:"onMove",value:function(e){if(null===this.lastMovedPlay||(new Date).getTime()-this.lastMovedPlay>200)return this.onPress(!1,e),!0}},{key:"frets",value:function(){if(this.props.frets&&!this.props.noFrets){var e=new Ae(this.props.frets.length,this.props.screenHeight);return this.props.frets.map((function(t,n){var i=e.getFretCoordinates(n);return{sample:t.sample,id:n,note:t.note,top:i.top,bottom:i.bottom,height:i.height}}))}return[{sample:this.props.sample,note:this.props.noteString,top:0,bottom:this.props.screenHeight-44,height:this.props.screenHeight-44}]}},{key:"findPressedFretAndFretPosition",value:function(e){var t=this.frets(),n=t.find((function(t){return t.top<=e&&t.bottom>=e}));return n||(n=t[t.length-1]),{fret:n,position:(e-n.top)/n.height}}},{key:"onPress",value:function(e,t){var n,i,o,r,s=this;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.disabled){e.next=2;break}return e.abrupt("return");case 2:n=t.nativeEvent.pageY,i=this.findPressedFretAndFretPosition(n),this.props.fretless||(n=i.fret.top),o=i.fret.sample,r=this.props.fretless?i.position:0,n>10&&(n-=10),this.setState({stringPressedY:n,pressedFretId:i.fret.id}),this.lastMovedPlay=(new Date).getTime(),this.props.onPress(o,r,!!this.props.fretless),requestAnimationFrame((function(){s.vibrate(t)}));case 12:case"end":return e.stop()}}),null,this)}},{key:"hapticFeedback",value:function(e){}},{key:"vibrate",value:function(e){F.a.sequence([F.a.timing(this.opacityValue,{toValue:.6,duration:100,delay:0,useNativeDriver:!0}),F.a.timing(this.opacityValue,{toValue:1,duration:100,useNativeDriver:!0})]).start(),this.props.ecoMode||F.a.loop(F.a.sequence([F.a.timing(this.vibrationValue,{toValue:-1,duration:20,delay:0,useNativeDriver:!0}),F.a.timing(this.vibrationValue,{toValue:1,duration:20,useNativeDriver:!0})]),{iterations:e?9:3}).start()}},{key:"render",value:function(){var e=this,t=this.vibrationValue.interpolate({inputRange:[-1,1],outputRange:[-.4,.4]}),n="web"===A.a.OS,i={transform:[{translateX:t},{rotate:(this.props.rotate,"0deg")}]},o={shadowColor:"#000",shadowOffset:{width:3,height:0},shadowOpacity:.4,shadowRadius:2,elevation:2,height:"100%",width:this.props.width,paddingTop:0};return _.a.createElement(F.a.View,{style:{width:this.props.stringWidth,height:this.props.screenHeight},onTouchStart:function(t){return e.onPress(!0,t)},onLayout:function(t){e.setState({width:t.nativeEvent.layout.width,height:t.nativeEvent.layout.height,x:t.nativeEvent.layout.x,y:t.nativeEvent.layout.y})}},_.a.createElement(k.a,{style:{flex:1,alignItems:"center",position:"relative"}},"android"!==A.a.OS||this.props.ecoMode?null:_.a.createElement(F.a.View,{style:xe({width:1.8*this.props.width,position:"absolute",top:0,bottom:0,opacity:.2,left:(this.props.stringWidth-this.props.width)/2+2},i)},_.a.createElement(R.a,{resizeMode:"stretch",source:$.stringShadow,fadeDuration:0,style:{flex:1}})),this.props.frets?_.a.createElement(F.a.View,{style:xe({},o,{height:this.state.stringPressedY,width:this.props.width})},_.a.createElement(R.a,{resizeMode:"stretch",source:ke[this.props.stringSize],fadeDuration:0,style:{height:"100%",width:this.props.width}})):null,_.a.createElement(F.a.View,{style:xe({},i,{width:this.props.width},o,{height:this.props.frets?this.props.screenHeight-this.state.stringPressedY:"100%"})},_.a.createElement(F.a.View,{style:{opacity:this.opacityValue}},_.a.createElement(R.a,{resizeMode:"stretch",source:ke[this.props.stringSize],style:{height:n?this.props.screenHeight:"100%",width:this.props.width},fadeDuration:0}))),_.a.createElement(F.a.View,{style:{position:"absolute",borderRadius:100,width:32,top:-12,backgroundColor:"#231310",height:32,alignItems:"center",justifyItems:"center",elevation:26}},_.a.createElement(ae,{style:{color:"white",fontSize:11,lineHeight:42,textAlign:"center"}},this.props.noteString))))}}]),t}(_.a.PureComponent),Pe=i(69),Ie=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).setAsyncState=function(e){return new Promise((function(t){return n.setState(e,(function(){return t()}))}))},n.state={loaded:!1},n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.a,e.t1=this,e.next=4,a.a.awrap(ue.get("ecoMode"));case 4:return e.t2=e.sent,e.t3={ecoMode:e.t2,loaded:!0},e.t4=e.t1.setAsyncState.call(e.t1,e.t3),e.next=9,e.t0.awrap.call(e.t0,e.t4);case 9:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){return this.state.loaded?_.a.createElement(R.a,{source:this.state.ecoMode?$.dummy:$.homeScreenBackground,style:Q.loader},this.state.ecoMode?_.a.createElement(Pe.a,{size:"large"}):_.a.createElement(q.a,{source:$.loader,style:{width:128,height:128}})):null}}]),t}(_.a.Component),Ne=i(92),ze=i(603),Me=i(493),Te=function(){function e(t,n){var i=this;d()(this,e),this.load=function(){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("wait for bridge"),n.next=3,a.a.awrap(i.bridge.loaded);case 3:return t=i.bridge.loadSamplesPromise(),i.bridge.injectJavaScript("prepareLoad("+i.samples.length+")"),n.next=7,a.a.awrap(Promise.all(i.samples.map((function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",function(t){var n,o;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(e.getUri(t.source));case 2:return n=r.sent,r.next=5,a.a.awrap(ze.a(n,{encoding:"base64"}));case 5:o=r.sent,console.log("load "+t.id),i.bridge.injectJavaScript("\n                window.loadSample('"+t.id+"','"+o+"');\n                true;\n                \n             ");case 8:case"end":return r.stop()}}))}(t));case 1:case"end":return n.stop()}}))}))));case 7:return n.next=9,a.a.awrap(t);case 9:case"end":return n.stop()}}))},this.samples=t,this.bridge=n}return f()(e,[{key:"getAudioHtml",value:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.audioHtml);case 1:case"end":return t.stop()}}))}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.bridge.injectJavaScript('\n            window.playSample("'+e+'",'+t+","+n+");true;\n          ")}},{key:"wakeup",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.load());case 2:this.bridge.injectJavaScript("wakeup();");case 3:case"end":return e.stop()}}),null,this)}},{key:"unload",value:function(){}}],[{key:"getUri",value:function(e){var t,n,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=M.a.fromModule(e),o.next=3,a.a.awrap(t.downloadAsync());case 3:if(n=t.localUri,i=t.uri,!n){o.next=9;break}return i=n,o.abrupt("return",i);case 9:return o.abrupt("return",i);case 10:case"end":return o.stop()}}))}},{key:"loadAudioHtml",value:function(){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(this.getUri(Me));case 2:return t=n.sent,n.next=5,a.a.awrap(ze.a(t));case 5:e.audioHtml=n.sent;case 6:case"end":return n.stop()}}),null,this)}}]),e}(),Ce=i(1),Oe=i.n(Ce),De=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).bridgeLoadingPromiseResolve=null,n.loaded=new Promise((function(e,t){n.bridgeLoadingPromiseResolve=e})),n}return b()(t,e),f()(t,[{key:"componentWillUnmount",value:function(){this.bridge&&(this.bridge.injectJavaScript("location.href='about:blank';"),console.log("unmounting"))}}]),f()(t,[{key:"onMessage",value:function(e){console.log(e.nativeEvent.data),"ready"===e.nativeEvent.data&&this.bridgeLoadingPromiseResolve(),"loadedSamples"===e.nativeEvent.data&&this.loadSamplesPromiseResolve&&this.loadSamplesPromiseResolve()}},{key:"loadSamplesPromise",value:function(){var e=this;return this.loadSamples=new Promise((function(t,n){e.loadSamplesPromiseResolve=t})),this.loadSamples}},{key:"injectJavaScript",value:function(e){this.bridge.injectJavaScript(e)}},{key:"render",value:function(){var e=this;return _.a.createElement(k.a,{style:{height:0,width:0,display:"none"}},"web"!==A.a.OS?_.a.createElement(Ne.a,{ref:function(t){e.bridge=t},originWhitelist:["*"],useWebKit:!0,source:{html:Te.audioHtml,baseUrl:""},hardwareAccelerationDisabledAndroid:!0,mediaPlaybackRequiresUserAction:!1,allowsInlineMediaPlayback:!0,javaScriptEnabled:!0,mixedContentMode:"always",allowFileAccess:!0,allowContentAccess:!0,mediaPlaybackRequiresUserGesture:!1,onMessage:function(t){return e.onMessage(t)},allowFileAccessFromFileURLs:!0,allowUniversalAccessFromFileURLs:!0,domStorageEnabled:!0}):_.a.createElement(k.a,{ref:this.props.ref}))}}]),t}(w.Component),Ge=function(){function e(){d()(this,e)}return f()(e,null,[{key:"register",value:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.audioCaches||(this.audioCaches=[]),this.audioCaches.push(e);case 2:case"end":return t.stop()}}),null,this)}},{key:"unload",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=function(e,t){var n;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=0;case 1:if(!(n<e.length)){i.next=7;break}return i.next=4,a.a.awrap(t(e[n],n,e));case 4:n++,i.next=1;break;case 7:case"end":return i.stop()}}))},!this.audioCaches){t.next=4;break}return t.next=4,a.a.awrap(e(this.audioCaches,(function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(e.unload());case 2:case"end":return t.stop()}}))})));case 4:this.audioCaches=[];case 5:case"end":return t.stop()}}),null,this)}}]),e}();function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le={yellow:$.yellowString,dark_yellow:$.darkYellowString,large:$.silverString,bass_nylon:$.nylonBassString,light_nylon:$.lightNylonString,double_nylon:$.doubleNylonString,double_nylon_light:$.doubleNylonLightString},je=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).state={stringPressedY:1},n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this,t="web"===A.a.OS,n={shadowColor:"#000",shadowOffset:{width:3,height:0},shadowOpacity:.4,shadowRadius:2,elevation:2,height:"100%",width:this.props.width,paddingTop:0};return _.a.createElement(k.a,{style:{width:this.props.stringWidth,height:this.props.screenHeight},onTouchStart:function(t){return e.onPress&&e.onPress(!0,t)},onLayout:function(t){e.setState({width:t.nativeEvent.layout.width,height:t.nativeEvent.layout.height,x:t.nativeEvent.layout.x,y:t.nativeEvent.layout.y})}},_.a.createElement(k.a,{style:{flex:1,alignItems:"center",position:"relative"}},"android"===A.a.OS?_.a.createElement(F.a.View,{style:{width:1.8*this.props.width,position:"absolute",top:0,bottom:0,opacity:.2,left:(this.props.stringWidth-this.props.width)/2+2}},_.a.createElement(R.a,{resizeMode:"stretch",source:$.stringShadow,fadeDuration:0,style:{flex:1}})):null,this.props.frets?_.a.createElement(k.a,{style:Re({},n,{height:this.state.stringPressedY,width:this.props.width})},_.a.createElement(R.a,{resizeMode:"stretch",source:Le[this.props.stringSize],fadeDuration:0,style:{height:"100%",width:this.props.width}})):null,_.a.createElement(k.a,{style:Re({width:this.props.width},n,{height:this.props.frets?this.props.screenHeight-this.state.stringPressedY:"100%"})},_.a.createElement(k.a,{style:{opacity:this.opacityValue}},_.a.createElement(R.a,{resizeMode:"stretch",source:Le[this.props.stringSize],style:{height:t?this.props.screenHeight:"100%",width:this.props.width},fadeDuration:0}))),!this.props.hideNotesTitle&&_.a.createElement(k.a,{style:{position:"absolute",borderRadius:50,width:10,top:-12,backgroundColor:"#231310",height:28,alignItems:"center",justifyItems:"center",elevation:26}},_.a.createElement(ae,{style:{color:"white",fontSize:8,lineHeight:43,textAlign:"center"}},this.props.noteString))))}}]),t}(_.a.PureComponent),Be=i(293),Fe=i.n(Be),Ue=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).onScrollComponent=function(e){e.persist&&e.persist();var t=(n.props.screen.width-n.props.screen.width/n.props.percentIncrease-e.nativeEvent.contentOffset.x)*n.props.percentIncrease;n.props.scrollStrings(t),n.setStringOffset(t)},n.setStringOffset=Fe.a.debounce(n.setStringOffset,100),n}return b()(t,e),f()(t,[{key:"setStringOffset",value:function(e){this.props.setStringOffset(e)}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.scroller.scrollTo({x:e.props.outsideBoxWidth-e.props.positionLensX/e.props.percentIncrease,animated:!1})}),10)}},{key:"render",value:function(){var e=this;return _.a.createElement(k.a,{style:{position:"absolute",borderWidth:2,borderColor:"rgba(35,19,16,1)",width:"100%",height:this.props.height,bottom:44}},_.a.createElement(R.a,{fadeDuration:0,source:this.props.ecoMode?$.dummy:this.props.backgroundImage,imageStyle:{resizeMode:"cover",backgroundColor:"#ebba55"},style:{flexDirection:"row",overflow:"hidden",flex:1}},!this.props.ecoMode&&this.props.notes.map((function(t,n){return _.a.createElement(je,{disabled:!0,key:n+t.note,octave:t.octave,stringSize:t.type||"large",noteString:t.note,hideNotesTitle:!0,frets:t.frets,width:t.width/(e.props.backgroundWidth/e.props.screen.width),screenWidth:e.props.screen.width,screenHeight:70,stringWidth:e.props.stringWidth,sample:t.sample})}))),_.a.createElement(ye.a,{showsHorizontalScrollIndicator:!1,style:[{position:"absolute",top:0,flexDirection:"row",height:this.props.height,width:"100%"}],decelerationRate:0,scrollEventThrottle:16,horizontal:!0,bounces:!1,ref:function(t){e.scroller=t},onContentSizeChange:function(){var t=e.props.outsideBoxWidth-e.props.positionLensX/e.props.percentIncrease;e.props.setStringOffset(t),e.scroller.scrollTo({x:t,animated:!1})},onScroll:this.onScrollComponent},_.a.createElement(k.a,{style:{backgroundColor:this.props.ecoMode?"rgba(35,19,16,0.5)":"rgba(35,19,16,0.9)",height:this.props.height,width:this.props.outsideBoxWidth}}),_.a.createElement(k.a,{style:[{height:this.props.height,width:this.props.mainBoxWidth}]}),_.a.createElement(k.a,{style:{backgroundColor:this.props.ecoMode?"rgba(35,19,16,0.5)":"rgba(35,19,16,0.9)",height:this.props.height,width:this.props.outsideBoxWidth}})))}}]),t}(w.Component);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve="web"===A.a.OS,Ye=function(e){function t(){var e;return d()(this,t),(e=m()(this,y()(t).call(this))).notesTranslation=function(t){var n=e.props,i=n.screenProps,o=i.t;i.locale,n.navigation;return o("notes."+t)},e.scaleTranslation=function(t){var n=e.props,i=n.screenProps,o=i.t;i.locale,n.navigation;return o("scale."+t)},e.settingsTranslation=function(t){var n=e.props,i=n.screenProps,o=i.t;i.locale;return o("instruments."+n.navigation.getParam("instrumentId")+".settings."+t)},e._handleAppStateChange=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.state.appState.match(/inactive|background/)||"active"!==t){n.next=5;break}return n.next=3,a.a.awrap(e.setAsyncState({innerLoading:!0}));case 3:return n.next=5,a.a.awrap(e.setAsyncState({innerLoading:!1}));case 5:e.setState({appState:t});case 6:case"end":return n.stop()}}))},e.applyScale=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e.loadSamples(t));case 2:case"end":return n.stop()}}))},e.setInnerLoading=function(t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e.setAsyncState({innerLoading:t,blocked:!!e.state.blocked||t}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},e.setAsyncState=function(t){return new Promise((function(n){return e.setState(t,(function(){return n()}))}))},e.instrumentStrings={},e.instrumentStringsIndex={},e.state=We({},e.state,{loading:!0,modalSettingsVisible:!1,notes:[],backgroundImage:$.splashScreen,fretImage:$.splashScreen,recording:!1,showScaleModal:!1,stringWidth:44,minStringWidth:44,percentIncrease:1,showZoom:e.initialShowMove(),stringOffset:0,backgroundWidth:e.state.screen.width,stringOffsetValue:0,innerLoading:!1,stringsPerScreen:1,hideStringScroll:!1,blocked:!0,tonality:{key:"",scale:""},settings:We({fret:e.defaultFretType()},e.defaultSettings()),disabledScrollLeft:!0,moveMode:!1,_panLensX:0,positionLensX:0,appState:ge.a.currentState}),e._panResponder=ve.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onStartShouldSetPanResponderCapture:function(e,t){return!0},onMoveShouldSetPanResponder:function(e,t){return!0},onMoveShouldSetPanResponderCapture:function(e,t){return!0},onPanResponderGrant:function(e,t){},onPanResponderMove:function(t,n){e.touchString({e:t})},onPanResponderTerminationRequest:function(e,t){return!0},onPanResponderRelease:function(t,n){e.touchesCache=[]},onPanResponderTerminate:function(e,t){}}),e.touchesCache=[],e}return b()(t,e),f()(t,[{key:"initialShowMove",value:function(){return!0}},{key:"defaultFretType",value:function(){return"withFrets"}},{key:"calculateStringWidth",value:function(){var e,t,n,i,o,r=arguments;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!((e=r.length>0&&void 0!==r[0]?r[0]:this.state.notes).length>0)){s.next=9;break}return t=Math.max((this.state.screen.width-50)/e.length,+this.state.minStringWidth),n=((this.state.screen.width-50)/t).toFixed(0),i=this.state.notes.length-n,o=Math.max(this.state.stringWidth*(this.state.notes.length+1),this.state.screen.width),s.next=8,a.a.awrap(this.setAsyncState({stringWidth:t,stringsPerScreen:n,hideStringScroll:n>=this.state.notes.length,maxStringOffset:i,backgroundWidth:o,percentIncrease:o/this.state.screen.width}));case 8:this.state.stringOffset>i&&this.setStringOffset(0);case 9:case"end":return s.stop()}}),null,this)}},{key:"defaultSettings",value:function(){return{}}},{key:"_handleBack",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.touchButton());case 2:return e.next=4,a.a.awrap(this.onExit());case 4:this.props.navigation.navigate("Home");case 5:case"end":return e.stop()}}),null,this)}},{key:"addString",value:function(e,t){this.instrumentStrings[e]={component:t}}},{key:"scrollStrings2",value:function(e,t){var n,i=arguments;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=!(i.length>2&&void 0!==i[2])||i[2],void 0===t&&(t=this.state.stringOffset+e),!(t>=0&&t<=this.state.maxStringOffset)){o.next=7;break}this.setState({stringOffset:t}),this.scroller.scrollTo({x:t*this.state.stringWidth,y:0,animated:n}),o.next=9;break;case 7:return o.next=9,a.a.awrap(this.cancelButton());case 9:return o.next=11,a.a.awrap(this.setAsyncState({disabledScrollLeft:t<=0,disabledScrollRight:t>=this.state.maxStringOffset}));case 11:case"end":return o.stop()}}),null,this)}},{key:"initialStringOffset",value:function(){return 0}},{key:"setStringOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({stringOffset:e/this.state.stringWidth,positionLensX:e})}},{key:"scrollStrings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.scroller.scrollTo({x:e,y:0,animated:!1})}},{key:"cancelButton",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"!==A.a.OS){e.next=3;break}return e.next=3,a.a.awrap(se.b(ce.b.Error));case 3:case"end":return e.stop()}}))}},{key:"touchButton",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"!==A.a.OS){e.next=3;break}return e.next=3,a.a.awrap(se.b());case 3:case"end":return e.stop()}}))}},{key:"calculatingCenterString",value:function(e,t){return Math.ceil(e/t)*t-t/2}},{key:"touchString",value:function(e,t){var n=this;this.state.blocked||e.e.nativeEvent.touches.forEach((function(e,t){var i=n.state.stringWidth,o=e.pageX+n.state.stringOffset*i,a=e.pageY,r=n.touchesCache[t];if(r){var s=r.x,c=r.y,l=Math.abs(o-s),u=Math.abs(a-c);if(l<=i&&u<10)return}n.touchesCache[t]={x:n.calculatingCenterString(o,i),y:a};var d=!1;Object.keys(n.instrumentStrings).forEach((function(e){if(!d){var t=n.instrumentStrings[e],i=t.component.state;if(!i)return;if(i.x<o&&i.y<a&&i.x+i.width>o&&i.y+i.height-44>a)return d=!0,t.component.onMove({nativeEvent:{locationX:o,locationY:a,pageY:a,pageX:a}})&&n.recordNote(t.component.props.sample,a),!1}}))}))}},{key:"componentDidMount",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return ge.a.addEventListener("change",this._handleAppStateChange),t.t0=a.a,t.t1=this,t.next=5,a.a.awrap(ue.get("ecoMode"));case 5:return t.t2=t.sent,t.t3={ecoMode:t.t2},t.t4=t.t1.setAsyncState.call(t.t1,t.t3),t.next=10,t.t0.awrap.call(t.t0,t.t4);case 10:return this.instrument=this.getInstrument(),e=this.instrument.defaultTonality(),t.next=14,a.a.awrap(this.setAsyncState({tonality:e}));case 14:return t.next=16,a.a.awrap(this.updateDimensions());case 16:return t.next=18,a.a.awrap(this.loadBackgroundImage());case 18:return t.next=20,a.a.awrap(this.loadSamples(!1));case 20:return this.scrollStrings2(void 0,this.initialStringOffset(),!1),t.next=23,a.a.awrap(this.setAsyncState({blocked:!1}));case 23:case"end":return t.stop()}}),null,this)}},{key:"loadSamples",value:function(e){var t,n;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return this.instrumentStrings={},this.instrumentStringsIndex={},i.next=4,a.a.awrap(this.setAsyncState(l()({},e?"innerLoading":"loading",!0)));case 4:if(!(t=this.getInstrumentOrientation())){i.next=13;break}return i.prev=6,i.next=9,a.a.awrap(P.a.lockAsync("landscape"===t?P.a.Orientation.LANDSCAPE:P.a.Orientation.PORTRAIT));case 9:i.next=13;break;case 11:i.prev=11,i.t0=i.catch(6);case 13:return this.instrument.setTonality(this.state.tonality),n=this.instrument.getNotes(),i.next=17,a.a.awrap(this.setAsyncState({notes:n}));case 17:return i.next=19,a.a.awrap(this.calculateStringWidth(n));case 19:return i.next=21,a.a.awrap(this.instrument.load((function(e){})));case 21:return i.next=23,a.a.awrap(this.setAsyncState({innerLoading:!1,loading:!1}));case 23:case"end":return i.stop()}}),null,this,[[6,11]])}},{key:"getInstrumentOrientation",value:function(){return this.instrument.getOrientation()}},{key:"loadBackgroundImage",value:function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.instrument.getImages(),t=[this.state.ecoMode?e.backgroundSmall:e.background],e.fret&&t.push(e.fret),n.next=5,a.a.awrap(M.a.loadAsync(t));case 5:return n.next=7,a.a.awrap(this.setAsyncState({backgroundImage:this.state.ecoMode?e.backgroundSmall:e.background,backgroundImageSmall:e.backgroundSmall||e.background,fretImage:e.fret}));case 7:case"end":return n.stop()}}),null,this)}},{key:"updateDimensions",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.calculateStringWidth());case 2:case"end":return e.stop()}}),null,this)}},{key:"onExit",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:ge.a.removeEventListener("change",this._handleAppStateChange);case 1:case"end":return e.stop()}}),null,this)}},{key:"toggleMove",value:function(){this.setState({moveMode:!this.state.moveMode,blocked:!this.state.moveMode})}},{key:"record",value:function(){var e=this.state.recording;(e=!e)?(this.recordTimestamp=(new Date).getTime(),this.recordData=[]):this.recordData.length>0&&U.a.prompt("Enter song name:",null,(function(e){})),this.setState({recording:e})}},{key:"toggleScaleModal",value:function(){var e=!this.state.showScaleModal;e&&this.setState({selectedKey:this.state.tonality.key,selectedScale:this.state.tonality.scale}),this.setState({showScaleModal:e,blocked:e})}},{key:"fret",value:function(){return null}},{key:"play",value:function(e,t,n){this.recordNote(e,t),this.instrument.playNote(e,t,n)}},{key:"playRecord",value:function(){var e=this;this.recordData&&(this.setState({playing:!0}),function t(n){setTimeout((function(){e.state.playing&&(Object.keys(e.instrumentStrings).forEach((function(t){var i=e.instrumentStrings[t];i.component.props.sampleId===e.recordData[n].note&&i.component.onPress(!0)})),n+1<e.recordData.length?t(n+1):e.setState({playing:!1}))}),e.recordData[n].time)}(0))}},{key:"recordNote",value:function(e,t){if(this.state.recording){var n=(new Date).getTime();this.recordData.push({note:e,time:n-this.recordTimestamp,position:t}),this.recordTimestamp=n}}},{key:"settings",value:function(){var e=this.props.navigation;this.props.navigation.navigate("InstrumentSettings",{id:e.getParam("instrumentId")})}},{key:"orientationDidChange",value:function(e){this.updateDimensions()}},{key:"setModalSettingsVisible",value:function(e){var t=this;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(this.touchButton());case 2:return n.next=4,a.a.awrap(this.setAsyncState({modalSettingsVisible:e,blocked:e}));case 4:requestAnimationFrame((function(){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e?t.modalSettingsWillShow():t.modalSettingsWillHide();case 1:case"end":return n.stop()}}))}));case 5:case"end":return n.stop()}}),null,this)}},{key:"setShowZoom",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.touchButton());case 2:return e.next=4,a.a.awrap(this.setAsyncState({showZoom:!this.state.showZoom}));case 4:case"end":return e.stop()}}),null,this)}},{key:"modalSettingsWillShow",value:function(){}},{key:"modalSettingsWillHide",value:function(){}},{key:"getSettings",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.screen.width/this.state.percentIncrease,n=this.state.screen.width-t,i=this.state.stringWidth/this.state.percentIncrease;return _.a.createElement(G.a,{onLayout:function(){return e.onResize()},style:{flex:1,flexDirection:"row",backgroundColor:"black"}},_.a.createElement(De,{ref:function(t){e.webview=t}}),this.state.innerLoading&&_.a.createElement(k.a,{style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:999,elevation:999,alignItems:"center",flex:1,backgroundColor:"#080707cc",justifyContent:"center"}},_.a.createElement(q.a,{source:$.loader,style:{width:128,height:128}}),this.state.loadPercent&&_.a.createElement(ae,{style:{color:"white"}},Math.round(this.state.loadPercent),"%")),_.a.createElement(k.a,{style:{flex:1,flexDirection:"row"}},_.a.createElement(ye.a,ie()({shouldRasterizeIOS:!0,style:{flex:1,flexDirection:"row",position:"relative",marginBottom:44+(this.state.showZoom&&!this.state.hideStringScroll?68:0)},horizontal:!0,scrollEnabled:!1,ref:function(t){return e.scroller=t}},this._panResponder.panHandlers),_.a.createElement(R.a,{fadeDuration:0,source:this.state.backgroundImage,imageStyle:{resizeMode:"cover"},style:{width:this.state.backgroundWidth,flexDirection:"row",overflow:"hidden"}},_.a.createElement(F.a.View,{style:{flex:1,flexDirection:"row",paddingLeft:0,flexWrap:"wrap"}},"open"!==this.state.settings.fret?this.fret(this.state.screen.height):null,this.state.notes.map((function(t,n){return _.a.createElement(Ee,{ecoMode:e.state.ecoMode,disabled:e.state.blocked,key:n+t.note,octave:t.octave,stringSize:t.type||"large",noteString:t.note,fretless:"withoutFrets"===e.state.settings.fret,frets:t.frets,noFrets:"open"===e.state.settings.fret,width:t.width,screenWidth:e.state.screen.width,screenHeight:e.state.screen.height,stringWidth:e.state.stringWidth,sample:t.sample,ref:function(i){return e.addString(t.sample,i,n)},onPress:function(t,i,o){console.log(n),e.play(t,i,o)}})}))))),_.a.createElement(me.a,{animationType:"fade",transparent:!0,style:{backgroundColor:"black"},supportedOrientations:["portrait","landscape"],visible:this.state.modalSettingsVisible,onRequestClose:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(e.setModalSettingsVisible(!1));case 2:case"end":return t.stop()}}))}},_.a.createElement(j.a,{style:{flex:1},activeOpacity:1,onPressOut:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(e.setModalSettingsVisible(!1));case 2:case"end":return t.stop()}}))}},_.a.createElement(k.a,null)),_.a.createElement(k.a,{style:{elevation:98,zIndex:98,position:"absolute",width:"100%",bottom:44}},_.a.createElement(_e.a,{intensity:90,tint:"dark",style:{backgroundColor:"#2d3848",elevation:99,height:"100%"}},this.getSettings()))),this.state.showZoom&&!this.state.hideStringScroll&&_.a.createElement(Ue,{ecoMode:this.state.ecoMode,positionLensX:this.state.positionLensX,screen:this.state.screen,mainBoxWidth:t,outsideBoxWidth:n,stringWidth:i,percentIncrease:this.state.percentIncrease,backgroundImage:this.state.backgroundImageSmall,notes:this.state.notes,backgroundWidth:this.state.backgroundWidth,height:70,setStringOffset:function(t){return e.setStringOffset(t)},scrollStrings:function(t){return e.scrollStrings(t)}}),_.a.createElement(k.a,{style:{backgroundColor:"rgba(35,19,16,1)",alignItems:"center",flex:1,elevation:99,zIndex:99,flexDirection:"row",justifyContent:"center",position:"absolute",left:"0%",bottom:0,height:44,right:"0%"}},_.a.createElement(j.a,{onPress:function(t){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._handleBack());case 1:case"end":return t.stop()}}))},style:{flex:6,width:"100%"}},_.a.createElement(k.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},_.a.createElement(te,{name:"arrow-back",size:29,color:"white"}))),_.a.createElement(j.a,{onPress:function(t){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(e.setShowZoom());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},style:{flex:6,width:"100%"}},_.a.createElement(k.a,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:this.state.showZoom?"rgba(255,255,255,0.3)":"transparent"},disabled:this.state.hideStringScroll||Ve},_.a.createElement(te,{name:"move",size:29,color:this.state.hideStringScroll?"rgba(255,255,255,0.3)":"rgba(255,255,255,1)"}))),_.a.createElement(j.a,{onPress:function(t){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.setModalSettingsVisible(!0));case 1:case"end":return t.stop()}}))},style:{flex:6,width:"100%",backgroundColor:this.state.modalSettingsVisible?"rgba(255,255,255,0.3)":"transparent"},disabled:Ve},_.a.createElement(k.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},_.a.createElement(te,{name:"settings",size:29,color:Ve?"rgba(255,255,255,0.3)":"rgba(255,255,255,1)"}))))),this.state.loading&&_.a.createElement(Ie,null))}}]),t}(H),Xe=(x.a.create({container:{flexDirection:"column"}}),i(64)),Qe=i(294),Je=function(){function e(t){var n=t.key,i=t.scale;d()(this,e),this.key=we.mapping[n],this.scale=be[i]}return f()(e,[{key:"generate",value:function(e){var t=this,n=this.scale.sequence.map((function(e){return(t.key+e)%12}));return e.filter((function(e){return!!n.includes(we.mapping[e.note])}))}}]),e}(),Ze=function(){function e(t){var n=this;d()(this,e),this.loadImages=function(){var e,t,i,o;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.imagesLoaded){r.next=2;break}return r.abrupt("return");case 2:e=n.getImages(),t=0,i=Object.keys(e);case 4:if(!(t<i.length)){r.next=11;break}return o=i[t],r.next=8,a.a.awrap(M.a.loadAsync(e[o]));case 8:t++,r.next=4;break;case 11:n.imagesLoaded=!0;case 12:case"end":return r.stop()}}))},this.newAudioCache=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=A.a.OS,e.next="ios"===e.t0||"android"===e.t0?3:"web"===e.t0?4:5;break;case 3:return e.abrupt("return",new Te(n.getSamples(),n.bridge));case 4:return e.abrupt("return",new Qe.a(n.getSamples()));case 5:case"end":return e.stop()}}))},this.bridge=t,this.tonality=this.defaultTonality(),this.loadedSamples=!1}return f()(e,[{key:"setTonality",value:function(e){this.loadedSamples&&(this.loadedSamples=e.key===this.tonality.key&&e.scale===this.tonality.scale),this.tonality={key:e.key,scale:e.scale}}},{key:"getAllSamples",value:function(){return[]}},{key:"getOrientation",value:function(){return null}},{key:"getSamples",value:function(){var e=this.getAllSamples();return this.getNotes().map((function(t){return e.find((function(e){return e.id===t.sample}))}))}},{key:"getNotes",value:function(){return new Je(this.tonality).generate(this.getAllNotes())}},{key:"createAudioCache",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audio){e.next=4;break}this.audio.samples=this.getSamples(),e.next=7;break;case 4:return e.next=6,a.a.awrap(this.newAudioCache());case 6:this.audio=e.sent;case 7:case"end":return e.stop()}}),null,this)}},{key:"load",value:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadedSamples){t.next=6;break}return t.next=3,a.a.awrap(this.createAudioCache());case 3:return t.next=5,a.a.awrap(this.audio.load(e));case 5:this.loadedSamples=!0;case 6:case"end":return t.stop()}}),null,this)}},{key:"unload",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.audio.unload());case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),null,this)}},{key:"playNote",value:function(e,t,n){return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=t?t>.5?(t-.5)/.5*.0595+1:1-t/.5*.0595:1,i.next=3,a.a.awrap(this.audio.play(e,t,n));case 3:case"end":return i.stop()}}),null,this)}},{key:"defaultTonality",value:function(){return{key:"C",scale:"chromatic"}}},{key:"wakeup",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audio.wakeup){e.next=3;break}return e.next=3,a.a.awrap(this.audio.wakeup());case 3:case"end":return e.stop()}}),null,this)}}]),e}(),Ke=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze),$e=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze),et=i(74),tt=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).setAsyncState=function(e){return new Promise((function(t){return n.setState(e,(function(){return t()}))}))},n.state={buttonState:e.value},n}return b()(t,e),f()(t,[{key:"activeButton",value:function(e){var t=this;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(this.setAsyncState({buttonState:e}));case 2:"function"===typeof this.props.onChange&&requestAnimationFrame((function(){t.props.onChange(e)}));case 3:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.buttons.length,n=this.state.buttonState;return _.a.createElement(k.a,{style:nt.container},_.a.createElement(k.a,{style:{flexDirection:"row"}},this.props.title&&_.a.createElement(k.a,{style:nt.leftContent},_.a.createElement(ae,{style:nt.title,adjustsFontSizeToFit:!0},this.props.title)),_.a.createElement(k.a,{style:nt.rightContent},this.props.buttons.map((function(i,o){return _.a.createElement(L.a,{key:i.key,onPress:function(t){i.key!==n&&e.activeButton(i.key)}},_.a.createElement(k.a,{style:[nt.button,n===i.key&&nt.activeButton,0===o?nt.leftButton:{},t===o+1&&nt.rightButton]},_.a.createElement(ae,{adjustsFontSizeToFit:!0,style:{color:e.state.buttonState===i.key?"black":"white"}},i.title)))})))))}}]),t}(w.Component),nt=x.a.create({container:{flex:1,paddingTop:5},title:{color:"white"},leftContent:{justifyContent:"center",alignItems:"center",flex:1},rightContent:{flex:3,flexDirection:"row",paddingRight:8},button:{paddingBottom:8,paddingTop:8,justifyContent:"center",alignItems:"center",flex:1,borderWidth:1,borderLeftWidth:0,borderColor:"#f3f2f2c9"},leftButton:{borderBottomLeftRadius:12,borderTopLeftRadius:12,borderLeftWidth:1},rightButton:{borderBottomRightRadius:12,borderTopRightRadius:12},activeButton:{backgroundColor:"#ffffffe8"}}),it=function(e){function t(){var e,n;d()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=m()(this,(e=y()(t)).call.apply(e,[this].concat(o)))).onStringWidthChange=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n.setState({minStringWidth:e}),n.calculateStringWidth();case 2:case"end":return t.stop()}}))},n.onStringChange=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:et.a.runAfterInteractions((function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(n.setInnerLoading(!0));case 2:return t.next=4,a.a.awrap(n.setAsyncState({settings:{string:e}}));case 4:return n.instrumentStrings={},n.instrument=n.getInstrument(e),t.next=8,a.a.awrap(n.setAsyncState({notes:n.instrument.getNotes()}));case 8:return t.next=10,a.a.awrap(n.updateDimensions());case 10:return t.next=12,a.a.awrap(n.loadBackgroundImage());case 12:return t.next=14,a.a.awrap(n.loadSamples(!0));case 14:return t.next=16,a.a.awrap(n.setInnerLoading(!1));case 16:case"end":return t.stop()}}))}));case 1:case"end":return t.stop()}}))},n}return b()(t,e),f()(t,[{key:"defaultSettings",value:function(){return{string:"nylon"}}},{key:"initialStringOffset",value:function(){return 3}},{key:"getInstrument",value:function(e){return this.instrumentCache||(this.instrumentCache={nylon:new Ke(this.webview),metal:new $e(this.webview)}),this.instrumentCache[e||this.state.settings.string]}},{key:"modalSettingsWillHide",value:function(){}},{key:"getSettings",value:function(){var e=[{key:"nylon",title:this.settingsTranslation("strings.nylon")},{key:"metal",title:this.settingsTranslation("strings.metal")}];return _.a.createElement(k.a,{style:{flex:1,justifyContent:"center",paddingBottom:5}},_.a.createElement(tt,{buttons:e,value:this.state.settings.string,title:this.settingsTranslation("strings.title"),onChange:this.onStringChange}))}}]),t}(Ye),ot=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze),at=function(e){function t(){var e,n;d()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=m()(this,(e=y()(t)).call.apply(e,[this].concat(o)))).onChange=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(n.setAsyncState({settings:{fret:e}}));case 2:case"end":return t.stop()}}))},n}return b()(t,e),f()(t,[{key:"initialShowMove",value:function(){return!1}},{key:"fret",value:function(e){for(var t=new Ae(5,e),n=[],i=0;i<5;i++)n.push(t.getFretCoordinates(i));var o=.8;return"withoutFrets"===this.state.settings.fret&&(o=.1),"open"===this.state.settings.fret&&(o=0),_.a.createElement(R.a,{fadeDuration:0,style:{position:"absolute",left:0,top:0,bottom:0,opacity:.9,width:5*this.state.stringWidth+40,overflow:"hidden"},imageStyle:{resizeMode:"stretch"},source:this.state.fretImage},n.map((function(e,t){return _.a.createElement(R.a,{key:t,resizeMode:"repeat",source:$.fret,style:{position:"absolute",top:e.top-10,left:0,right:0,height:3,opacity:o}},_.a.createElement(ae,null))})))}},{key:"getInstrument",value:function(){return new ot(this.webview)}},{key:"getSettings",value:function(){var e=[{key:"withoutFrets",title:this.settingsTranslation("fret.without_frets")},{key:"withFrets",title:this.settingsTranslation("fret.with_frets")},{key:"open",title:this.settingsTranslation("fret.open")}];return _.a.createElement(k.a,{style:{flex:1,justifyContent:"center",paddingBottom:5}},_.a.createElement(tt,{buttons:e,value:this.state.settings.fret,title:this.settingsTranslation("fret.title"),onChange:this.onChange}))}}]),t}(Ye),rt=i(78);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ct="#1a1917";x.a.create({safeArea:{flex:1,backgroundColor:ct},container:{flex:1,justifyContent:"center"},loading:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Q.loader),scrollview:{flex:1},title:{paddingLeft:20,backgroundColor:"transparent",color:"rgba(255, 255, 255, 0.9)",fontSize:22},titleDark:{color:ct},subtitle:{marginTop:5,paddingHorizontal:30,backgroundColor:"transparent",color:"rgba(255, 255, 255, 0.75)",fontSize:13,textAlign:"center"},slider:{flex:1,marginTop:15,overflow:"visible"},sliderContentContainer:{paddingVertical:10},paginationContainer:{paddingVertical:8},paginationDot:{width:8,height:8,borderRadius:4,marginHorizontal:8}});function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt="ios"===A.a.OS,ht=E.a.get("window"),ft=ht.width;function pt(e){var t=e*ft/100;return Math.round(t)}ht.height,pt(95);var mt=pt(1),gt=x.a.create({slideInnerContainer:{flex:1,paddingTop:20,paddingHorizontal:mt,paddingBottom:20},imageContainer:{flex:2,marginBottom:dt?0:-1,backgroundColor:"transparent"},image:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},radiusMask:{position:"absolute",bottom:0,left:0,right:0,height:10},backgroundButton:{borderRadius:32,width:64,height:64,justifyContent:"center",alignItems:"center"},textContainer:{justifyContent:"flex-start",paddingHorizontal:16,flex:1},title:ut({},Q.title),subtitle:ut({marginTop:6},Q.subtitle),subtitleEven:{color:"rgba(255, 255, 255, 0.7)"}}),yt=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).state={},n}return b()(t,e),f()(t,[{key:"touchButton",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"!==A.a.OS){e.next=3;break}return e.next=3,a.a.awrap(se.b());case 3:case"end":return e.stop()}}))}},{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},{key:"image",value:function(e,t){var n=this.props.data.snippet.thumbnails,i=n.maxres.url,o=n.default.lowUrl;this.props.portrait;return _.a.createElement(R.a,{source:{uri:i},defaultSource:o,style:[gt.image],resizeMode:"cover",progressiveRenderingEnabled:!0},_.a.createElement(_e.a,{intensity:60,tint:"dark",style:gt.backgroundButton},_.a.createElement(N.a,{name:"md-play",color:"rgba(255,255,255,0.9)",size:32,style:{paddingLeft:4,paddingTop:4}})))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data.snippet,n=t.title,i=t.description,o=t.resourceId.videoId;this.props.portrait;return _.a.createElement(rt.a,{style:{flex:1},onPress:function(){e.touchButton(),e.props.navigation.navigate("Video",{videoId:o,title:n})}},_.a.createElement(k.a,{style:{height:300,marginBottom:16,justifyContent:"flex-end"}},this.image(o,n),_.a.createElement(_e.a,{tint:"dark",intensity:60,style:{position:"absolute",left:0,right:0,justifyContent:"center",paddingLeft:16,paddingRight:16,paddingTop:5,paddingBottom:5}},_.a.createElement(ae,{header:!0,adjustsFontSizeToFit:!0,numberOfLines:"ios"===A.a.OS?1:2,style:[gt.title,{textAlign:"center",fontSize:22}]},n),_.a.createElement(ae,{numberOfLines:2,style:[gt.subtitle,gt.subtitle,{textAlign:"center"}]},i))))}}]),t}(w.Component);yt.propTypes={data:Oe.a.object.isRequired,even:Oe.a.bool,parallax:Oe.a.bool,orientation:Oe.a.object,parallaxProps:Oe.a.object,selectVideo:Oe.a.func};Object(C.withNavigation)(yt);var vt=i(214),bt=i(600),wt=E.a.get("window");wt.width,wt.height;function _t(){return _.a.createElement(k.a,{style:At.offlineContainer},_.a.createElement(bt.a,{name:"cloud-off",size:120,color:"white",style:{}}),_.a.createElement(ae,{style:{color:"white"}},"No Internet Connection"))}!function(e){function t(){var e,n;d()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=m()(this,(e=y()(t)).call.apply(e,[this].concat(o)))).state={isConnected:!0},n.handleConnectivityChange=function(e){n.setState({isConnected:e.isInternetReachable})},n}b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.netInfoListenerRemove=vt.a.addEventListener(this.handleConnectivityChange)}},{key:"componentWillUnmount",value:function(){this.netInfoListenerRemove&&this.netInfoListenerRemove()}},{key:"render",value:function(){return this.state.isConnected?null:_.a.createElement(_t,null)}}])}(w.PureComponent);var At=x.a.create({offlineContainer:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center",zIndex:9,backgroundColor:"#00000069",flex:1},offlineText:{color:"#fff"}}),St=(A.a.OS,function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return _.a.createElement(_e.a,{intensity:80,tint:"dark",style:[Q.header,this.props.style]},_.a.createElement(j.a,{style:Q.backButton,onPress:this.props.onPress},_.a.createElement(k.a,null,_.a.createElement(N.a,{name:"ios-arrow-back",size:29,color:"white"}))),_.a.createElement(ae,{header:!1,numberOfLines:1,style:[Q.title,Q.headerTitle]},this.props.title))}}]),t}(w.Component)),xt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(H),kt=i(39),Et=i.n(kt),Pt=i(297),It=function(e){function t(){var e;return d()(this,t),(e=m()(this,y()(t).call(this)))._handleAppStateChange=function(t){e.setState({visible:!t.match(/inactive|background/)}),e.setState({appState:t})},e.state={appState:ge.a.currentState,visible:!0},e}return b()(t,e),f()(t,[{key:"_handleBack",value:function(e){this.props.navigation.goBack()}},{key:"handleNavigationStateChange",value:function(){this.webView.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}},{key:"componentDidMount",value:function(){ge.a.addEventListener("change",this._handleAppStateChange)}},{key:"componentWillUnmount",value:function(){Et()(y()(t.prototype),"componentWillUnmount",this).call(this),this.webView&&this.webView.injectJavaScript("location.href='about:blank';"),ge.a.removeEventListener("change",this._handleAppStateChange)}},{key:"onMessage",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=this.props.navigation,n=t.getParam("videoId","NO-ID"),i=t.getParam("title",""),o=this.props.screenProps,a=(o.t,o.locale),r="";"ua"!==a&&(r="&hl="+a);return _.a.createElement(G.a,{style:Nt.container},_.a.createElement(Pt.a,{onSwipeUp:function(t){return e._handleBack(t)},onSwipeDown:function(t){return e._handleBack(t)},config:{velocityThreshold:.3,directionalOffsetThreshold:80},style:Nt.container},_.a.createElement(St,{title:i,onPress:function(t){return e._handleBack()}}),this.state.visible&&_.a.createElement(Ne.a,{allowsInlineMediaPlayback:!0,domStorageEnabled:!0,sharedCookiesEnabled:!1,startInLoadingState:!0,mediaPlaybackRequiresUserAction:!1,originWhitelist:["*"],renderLoading:function(){return _.a.createElement(Ie,null)},style:Nt.contentContainer,javaScriptEnabled:!0,fullScreen:!0,useWebkit:!0,scalesPageToFit:!0,onMessage:this.onMessage,ref:function(t){e.webView=t},onLoadEnd:function(){return e.handleNavigationStateChange()},source:{uri:"https://www.youtube.com/embed/"+n+"?rel=0&enablejsapi=1&controls=1&modestbranding=0&showinfo=0&hd=1"+r}})))}}]),t}(H),Nt=x.a.create({container:{flex:1,backgroundColor:"black"},contentContainer:{flex:1,backgroundColor:"black"}}),zt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze),Mt=function(e){function t(){var e,n;d()(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=m()(this,(e=y()(t)).call.apply(e,[this].concat(o)))).onChange=function(e){n.setState({settings:{fret:e}})},n}return b()(t,e),f()(t,[{key:"defaultFretType",value:function(){return"open"}},{key:"getInstrument",value:function(){return new zt(this.webview)}},{key:"fret",value:function(e){var t=this,n=.8;"withoutFrets"===this.state.settings.fret&&(n=.1),"open"===this.state.settings.fret&&(n=0);for(var i=new Ae(5,e),o=[],a=0;a<5;a++)o.push(i.getFretCoordinates(a));return _.a.createElement(R.a,{fadeDuration:0,style:{position:"absolute",left:5*this.state.stringWidth,top:0,bottom:0,opacity:.9,width:8*this.state.stringWidth,overflow:"hidden"},imageStyle:{resizeMode:"stretch"},source:this.state.fretImage},o.map((function(e,i){return _.a.createElement(R.a,{fadeDuration:0,key:i,resizeMode:"repeat",source:$.fret,style:{position:"absolute",top:e.top-10,left:2*t.state.stringWidth,right:0,height:3,opacity:n}},_.a.createElement(ae,null))})))}},{key:"getSettings",value:function(){var e=[{key:"withoutFrets",title:this.settingsTranslation("fret.without_frets")},{key:"withFrets",title:this.settingsTranslation("fret.with_frets")},{key:"open",title:this.settingsTranslation("fret.open")}];return _.a.createElement(k.a,{style:{flex:1,justifyContent:"center",paddingBottom:5}},_.a.createElement(tt,{buttons:e,value:this.state.settings.fret,title:this.settingsTranslation("fret.title"),onChange:this.onChange}))}}]),t}(Ye),Tt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return _.a.createElement(R.a,{fadeDuration:0,source:$.splashScreenAnimated,imageStyle:{resizeMode:"contain"},style:{flex:1,backgroundColor:"#000000",marginTop:"ios"===A.a.OS?-20:-S.a.currentHeight}})}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.navigation.replace("Home")}),2200)}}]),t}(_.a.Component),Ct={buben:[{question:"What color is black?1",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black2?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black3?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black4?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is blac5?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"}],torban:[{question:"What color is black?1",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black2?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black3?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black4?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is blac5?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"}],kharkiv_bandura:[{question:"What color is black?1",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black2?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black3?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is black4?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"},{question:"What color is blac5?",options:[{title:"#000000",correct:!0},{title:"#ffffff"},{title:"#ffaaff"}],correctAnswerText:"Good good",wrongAnswerText:"Sorry! black is #00000"}]};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=function(e){function t(e){var n;d()(this,t),(n=m()(this,y()(t).call(this,e)))._handleBack=function(){U.a.alert("\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0439\u0442\u0438?","\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0443\u0442\u044c\u0441\u044f.",[{text:"\u041d\u0456",onPress:function(){return console.log("Cancel Pressed")},style:"cancel"},{text:"\u0422\u0430\u043a",onPress:function(){return n.props.navigation.navigate("Home")}}],{cancelable:!1})},n._handleToHome=function(){var e,t,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.props.navigation,t=e.getParam("id","NO-ID"),o.next=4,a.a.awrap(ue.set(t,!0,"lockedInstrument"));case 4:return i=e.getParam("onBack"),o.next=7,a.a.awrap(i());case 7:e.navigate("Home");case 8:case"end":return o.stop()}}))},n.restart=function(){n.setState({index:0,incorrect:0,finished:!1})},n.toNextQuestion=function(e,t){e||n.setState((function(e,t){return{incorrect:e.incorrect+1}})),t?n.setState({finished:!0,percent:(n.state.data.length-n.state.incorrect)/n.state.data.length*100}):(n.toIndex(n.state.index+1),n.setState({index:n.state.index+1}))},n.toIndex=function(e){n.flatListRef.scrollToIndex({animated:!0,index:e})};var i=e.navigation.getParam("id","NO-ID"),o=Ct[i];return n.state={index:0,incorrect:0,finished:!1,refreshing:!1,screenOrientation:!0,data:o,screen:E.a.get("window")},n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this._orientationDidChangeSubscription=P.a.addOrientationChangeListener((function(t){return e._orientationDidChange(t)})),t.t0=this,t.next=4,a.a.awrap(P.a.getOrientationAsync());case 4:t.t1=t.sent,t.t2={screenOrientation:t.t1},t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){P.a.removeOrientationChangeListener(this._orientationDidChangeSubscription)}},{key:"_orientationDidChange",value:function(e){var t=this;this.setState({screenOrientation:e.orientationInfo.orientation,screen:E.a.get("window")}),this.state.finished||setTimeout((function(){t.toIndex(t.state.index)}),50)}},{key:"render",value:function(){var e=this,t=this.state.screen.width,n="LANDSCAPE"===this.state.screenOrientation;return _.a.createElement(k.a,{style:qt.container},_.a.createElement(R.a,{source:$.homeScreenBackground,style:qt.imageContainer},this.state.finished?_.a.createElement(k.a,{style:Dt({},qt.container,{width:t,justifyContent:"center",flexDirection:"column",alignItems:"center"})},this.state.incorrect>3?_.a.createElement(k.a,{style:{alignItems:"center"}},_.a.createElement(N.a,{style:{alignItems:"center"},name:"md-sad",size:60,color:"white"}),_.a.createElement(ae,{header:!1,style:{alignSelf:"center",fontSize:18,color:"white"}},"\u0412\u0438 \u0437\u0440\u043e\u0431\u0438\u043b\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 3 \u043f\u043e\u043c\u0438\u043b\u043e\u043a."),_.a.createElement(j.a,{style:{alignItems:"center"},onPress:this.restart},_.a.createElement(k.a,null,_.a.createElement(N.a,{name:"ios-refresh",size:40,color:"white"})))):_.a.createElement(k.a,{style:{alignItems:"center"}},_.a.createElement(N.a,{style:{alignItems:"center"},name:"md-done-all",size:60,color:"white"}),_.a.createElement(ae,{header:!1,style:{alignSelf:"center",fontSize:18,color:"white"}},this.state.data.length-this.state.incorrect," \u0437 ",this.state.data.length," \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0445 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0435\u0439."),_.a.createElement(ae,{header:!0,style:{alignSelf:"center",fontSize:18,color:"white"}},"\u0412\u0438 \u043f\u0440\u043e\u0439\u0448\u043b\u0438 \u0442\u0435\u0441\u0442."),_.a.createElement(j.a,{style:{alignItems:"center",marginTop:10,borderRadius:10,borderWidth:1,borderColor:"white",backgroundColor:"black"},onPress:this._handleToHome},_.a.createElement(k.a,{style:{flexDirection:"row",margin:5}},_.a.createElement(ae,{header:!1,style:{alignSelf:"center",fontSize:20,color:"white",marginRight:10}},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438"),_.a.createElement(N.a,{name:"ios-arrow-forward",size:28,color:"white"}))))):_.a.createElement(B.a,{horizontal:!0,scrollEnabled:!1,pagingEnabled:!0,ListEmptyComponent:_.a.createElement(Pe.a,{animating:!0,size:"large"}),showsHorizontalScrollIndicator:!1,keyExtractor:function(e,t){return"list_"+t},ref:function(t){e.flatListRef=t},extraData:this.state,data:this.state.data,renderItem:function(i){var o=i.item,a=i.index;return _.a.createElement(k.a,{style:Dt({},qt.container,{width:t})},_.a.createElement(k.a,{style:qt.header},_.a.createElement(k.a,{style:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"}},_.a.createElement(j.a,{onPress:e._handleBack},_.a.createElement(k.a,{style:{width:50,height:50}},_.a.createElement(N.a,{name:"ios-arrow-back",size:29,color:"white"}))),_.a.createElement(ae,{header:!1,style:{alignSelf:"center",fontSize:18,color:"white"}},a+1," \u0437 ",e.state.data.length)),_.a.createElement(k.a,{style:{flex:1,justifyContent:"center"}},_.a.createElement(ae,{header:!0,style:{color:"white",fontSize:18,alignSelf:"center"}},o.question))),_.a.createElement(k.a,{style:[qt.content,n?qt.contentLandscape:{}]},o.options.map((function(t,i){return _.a.createElement(j.a,{key:i,onPress:function(){return e.toNextQuestion(t.correct,+e.state.data.length-1===a)},style:[n?qt.questionButtonLandscape:{flex:1},qt.questionButton]},_.a.createElement(ae,{style:{color:"white"}},t.title))}))))}})))}}]),t}(w.Component),qt=x.a.create({container:{flex:1},imageContainer:{flex:1,resizeMode:"contain",alignSelf:"center"},header:{flex:2,padding:20,paddingBottom:0,paddingTop:20},content:{flex:4},contentLandscape:{flexDirection:"row",flexWrap:"wrap"},questionButton:{justifyContent:"center",backgroundColor:"transparent",marginBottom:10,marginRight:15,marginLeft:15,borderRadius:20,alignItems:"center",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,maxHeight:50},questionButtonLandscape:{width:"44%",maxHeight:"45%"}}),Rt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(_.a.Component),Lt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"_handleBack",value:function(){this.props.navigation.goBack()}},{key:"render",value:function(){var e=this,t=this.props.screenProps,n=t.t;t.locale;return _.a.createElement(k.a,{style:{flex:1,background:"black"}},_.a.createElement(R.a,{source:$.homeScreenBackground,style:{flex:1}},_.a.createElement(G.a,{style:{flex:1}},_.a.createElement(St,{onPress:function(t){return e._handleBack()},title:n("global_settings.terms")}),_.a.createElement(k.a,{style:{flex:1,paddingLeft:10}},_.a.createElement(Ne.a,{ref:function(t){e.webview=t},style:{backgroundColor:"transparent"},onNavigationStateChange:function(e){},source:{uri:"https://www.iubenda.com/terms-and-conditions/60399189"}})))))}}]),t}(_.a.Component),jt=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"_handleBack",value:function(){this.props.navigation.goBack()}},{key:"render",value:function(){var e=this,t=this.props.screenProps,n=t.t;t.locale;return _.a.createElement(k.a,{style:{flex:1,background:"black"}},_.a.createElement(R.a,{source:$.homeScreenBackground,style:{flex:1}},_.a.createElement(G.a,{style:{flex:1}},_.a.createElement(St,{onPress:function(t){return e._handleBack()},title:n("privacy_policy_screen.title")}),_.a.createElement(k.a,{style:{flex:1,paddingLeft:10}},_.a.createElement(Ne.a,{ref:function(t){e.webview=t},style:{flex:1},onNavigationStateChange:function(e){},source:{uri:"https://bandura.ukrzen.in.ua/privacy-app.html"}})))))}}]),t}(_.a.Component),Bt=i(63),Ft=i(307),Ut=i(62),Ht=i(308),Wt=i(601),Vt=(A.a.OS,function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return _.a.createElement(_e.a,{intensity:90,tint:"dark",style:[Q.headerConfirm,this.props.style]},_.a.createElement(j.a,{style:Q.backButton,onPress:this.props.onPress},_.a.createElement(k.a,null,_.a.createElement(N.a,{name:"ios-arrow-back",size:29,color:"white"}))),_.a.createElement(ae,{header:!1,numberOfLines:1,style:[Q.title,Q.headerConfirmTitle]},this.props.title),_.a.createElement(j.a,{disabled:!this.props.isConfirm,style:[Q.confirmButton],onPress:this.props.onPressConfirm},_.a.createElement(k.a,null,this.props.done?_.a.createElement(ae,{header:!1,numberOfLines:1,style:[Q.title,Q.headerConfirmTitle,this.props.isConfirm?{color:"white"}:{color:"gray"}]},this.props.done):_.a.createElement(N.a,{name:"md-checkmark",size:29,color:"white"}))))}}]),t}(w.Component)),Yt=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).getItemLayout=function(e,t){return{length:e.length,offset:50*t,index:t}},n.scrollToIndex=function(){n.flatListRef.scrollToIndex({animated:!0,index:20})},n.onResponderRelease=function(e){n.setState({value:e.value}),"function"===typeof n.props.onChange&&n.props.onChange(e)},n.state={value:e.selectedValue},n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this;return _.a.createElement(k.a,{style:Xt.container},_.a.createElement(B.a,ie()({style:Xt.container,ref:function(t){e.flatListRef=t},keyExtractor:function(e){return e.value},ListHeaderComponent:this.props.renderHeader,getItemLayout:this.getItemLayout,initialScrollIndex:this.props.initialScrollToIndex||0,horizontal:!1,initialNumToRender:this.props.data.length,renderItem:function(t){var n=t.item,i=t.index;return _.a.createElement(rt.a,{onPress:function(){return e.onResponderRelease(n)},underlayColor:"white"},_.a.createElement(k.a,{style:[Xt.list,!i&&{borderTopWidth:1}]},_.a.createElement(k.a,{style:Xt.listContent},_.a.createElement(k.a,null,_.a.createElement(ae,{header:!1,numberOfLines:1,style:{color:"white"}},n.label)),_.a.createElement(k.a,null,e.state.value===n.value&&_.a.createElement(N.a,{name:"md-checkmark",size:24,color:"white"})))))}},this.props)))}}]),t}(w.Component),Xt=x.a.create({container:{flex:1},list:{flex:1,height:49,backgroundColor:"rgba(0,0,0,0.1)",borderColor:"#3E3E40",borderBottomWidth:1},listContent:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:10},header:{paddingTop:20,backgroundColor:"darkturquoise",alignItems:"center",justifyContent:"center"}}),Qt=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).onEcoModeChange=function(e){n.setState({ecoMode:e}),ue.set("ecoMode",e)},n.onValueChangeLanguage=function(e){n.setState({differentLanguage:e.value!==n.state.language,rawLanguage:e.value})},n.confirmLanguage=function(){var e=n.state.rawLanguage;ue.set("language",e),n.props.screenProps.setLocale(e),n.setState({language:e,modalVisible:!1})},n.onNav=function(e){n.props.navigation.navigate(e.url,e)},n.state={refreshing:!1,modalVisible:!1,differentLanguage:!1},n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,a.a.awrap(ue.get("language"));case 3:return e.t1=e.sent,e.next=6,a.a.awrap(ue.get("ecoMode"));case 6:return e.t2=e.sent,e.next=9,a.a.awrap(ue.get("animationInstruments"));case 9:return e.t3=e.sent,e.next=12,a.a.awrap(ue.get("tapticEngine"));case 12:e.t4=e.sent,e.t5={language:e.t1,ecoMode:e.t2,animationInstruments:e.t3,tapticEngine:e.t4},e.t0.setState.call(e.t0,e.t5);case 15:case"end":return e.stop()}}),null,this)}},{key:"openBrowser",value:function(e){Ft.a(e)}},{key:"openLink",value:function(e){Bt.a.openURL(e)}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e,rawLanguage:this.state.language,differentLanguage:!1})}},{key:"_handleBack",value:function(){this.props.navigation.navigate("Home")}},{key:"render",value:function(){var e=this,t=this.props.screenProps,n=t.t;t.locale;return _.a.createElement(G.a,{style:{backgroundColor:"black",flex:1}},_.a.createElement(St,{onPress:function(t){return e._handleBack()}}),_.a.createElement(k.a,{style:{backgroundColor:"black",flex:1}},_.a.createElement(me.a,{animationType:"slide",supportedOrientations:["portrait","landscape"],transparent:!1,presentationStyle:{margin:40},visible:this.state.modalVisible},_.a.createElement(G.a,{style:{flex:1,backgroundColor:"black"}},_.a.createElement(Vt,{onPress:function(t){e.setModalVisible(!e.state.modalVisible)},onPressConfirm:this.confirmLanguage,title:n("global_settings.language"),done:n("global_settings.done"),isConfirm:this.state.differentLanguage}),_.a.createElement(Yt,{data:[{label:"English",value:"en"},{label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",value:"ua"},{label:"Espa\xf1ol",value:"es"},{label:"Portugu\xeas",value:"pt"}],selectedValue:this.state.rawLanguage,onChange:function(t){return e.onValueChangeLanguage(t)}}))),_.a.createElement(Ut.a,{borderColor:"#48484a",underlayColor:"black",backgroundColor:"rgb(44,44,46)",defaultTitleStyle:Jt.titleStyle,defaultItemSize:50},_.a.createElement(Ut.a.Header,{headerText:n("global_settings.title"),headerStyle:{color:"white",marginTop:10,fontFamily:"ElMessiri"}}),_.a.createElement(Ut.a.Item,{icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(Wt.a,{name:"language",size:28,color:"white"}," ")),title:n("global_settings.language"),titleInfo:this.state.language,titleInfoStyle:Jt.titleInfoStyle,onPress:function(){return e.setModalVisible(!0)}}),_.a.createElement(Ut.a.Item,{hasNavArrow:!1,switchState:this.state.ecoMode,switchOnValueChange:this.onEcoModeChange,hasSwitch:!0,icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"md-flash",size:28,color:"white"}," ")),title:n("global_settings.eco_mode")}),_.a.createElement(Ut.a.Header,{headerText:n("global_settings.info"),headerStyle:{color:"white",marginTop:10,fontFamily:"ElMessiri"}}),_.a.createElement(Ut.a.Item,{icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"ios-people",size:28,color:"white"}," ")),title:n("global_settings.about"),onPress:function(){return e.onNav({url:"About"})}}),_.a.createElement(Ut.a.Item,{icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"ios-help-buoy",size:28,color:"white"}," ")),title:n("global_settings.ask_question"),onPress:function(){return e.openBrowser("https://bandura.app/support.html")}}),_.a.createElement(Ut.a.Header,{headerText:n("global_settings.legal"),headerStyle:{color:"white",marginTop:10,fontFamily:"ElMessiri"}}),_.a.createElement(Ut.a.Item,{icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"ios-briefcase",size:28,color:"white"}," ")),title:n("global_settings.privacy_policy"),onPress:function(){return e.openBrowser("https://bandura.app/privacy.html")}}),_.a.createElement(Ut.a.Header,{headerText:n("global_settings.social_network"),headerStyle:{color:"white",marginTop:10,fontFamily:"ElMessiri"}}),_.a.createElement(Ut.a.Item,{hasNavArrow:!1,icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"logo-facebook",size:28,color:"white"}," ")),title:"Facebook",onPress:function(){return e.openLink("https://www.facebook.com/banduraapp/")}}),_.a.createElement(Ut.a.Item,{hasNavArrow:!1,icon:_.a.createElement(k.a,{style:Jt.icons},_.a.createElement(N.a,{name:"logo-instagram",size:28,color:"white"}," ")),title:"Instagram",onPress:function(){return e.openLink("https://www.instagram.com/banduraapp/")}}),_.a.createElement(Ut.a.Header,{headerText:"Version: "+Ht.a,headerStyle:{color:"white",marginTop:10,fontFamily:"ElMessiri"}}))))}}]),t}(w.Component),Jt=x.a.create({header:{marginTop:15,color:"rgb(174,174,178)",fontFamily:"ElMessiri",marginLeft:15},icons:{height:30,marginLeft:10,width:"10%",alignSelf:"center"},imageStyle:{marginLeft:15,alignSelf:"center",height:30,width:30},titleStyle:{fontSize:16,color:"rgb(209,209,214)",fontFamily:"ElMessiri"},titleInfoStyle:{fontSize:16,color:"#8e8e93",fontFamily:"ElMessiri"}}),Zt={background:i(498),backgroundSmall:i(499)},Kt=[{id:"c_0",source:i(500)},{id:"d1",source:i(501)},{id:"d_1",source:i(502)},{id:"e1",source:i(503)},{id:"f1",source:i(504)},{id:"f_1",source:i(505)},{id:"g1",source:i(506)},{id:"g_1",source:i(507)},{id:"a1",source:i(508)},{id:"a_1",source:i(509)},{id:"b1",source:i(510)},{id:"c3",source:i(511)},{id:"c_3",source:i(512)},{id:"d3",source:i(513)},{id:"d_3",source:i(514)},{id:"e3",source:i(515)},{id:"f3",source:i(516)},{id:"f_3",source:i(517)},{id:"g3",source:i(518)},{id:"g_3",source:i(519)},{id:"a3",source:i(520)},{id:"a_3",source:i(521)},{id:"b3",source:i(522)},{id:"c4",source:i(523)},{id:"c_4",source:i(524)},{id:"d4",source:i(525)},{id:"d_4",source:i(526)},{id:"e4",source:i(527)},{id:"f4",source:i(528)},{id:"f_4",source:i(529)},{id:"g4",source:i(530)},{id:"g_4",source:i(531)},{id:"a4",source:i(532)},{id:"a_4",source:i(533)},{id:"b4",source:i(534)},{id:"c5",source:i(535)}],$t=[{note:"C#",octave:1,width:8,noteIndex:1,type:"yellow",sample:"c_0"},{note:"D",octave:1,width:8,noteIndex:2,type:"yellow",sample:"d1"},{note:"D#",octave:1,width:8,noteIndex:3,type:"yellow",sample:"d_1"},{note:"E",octave:1,width:8,noteIndex:4,type:"yellow",sample:"e1"},{note:"F",octave:1,width:8,noteIndex:5,type:"yellow",sample:"f1"},{note:"F#",octave:1,width:8,noteIndex:6,type:"yellow",sample:"f_1"},{note:"G",octave:1,width:8,noteIndex:7,type:"yellow",sample:"g1"},{note:"G#",octave:1,width:8,noteIndex:8,type:"yellow",sample:"g_1"},{note:"A",octave:1,width:8,noteIndex:9,type:"yellow",sample:"a1"},{note:"Bb",octave:1,width:8,noteIndex:10,type:"yellow",sample:"a_1"},{note:"B",octave:1,width:8,noteIndex:11,type:"yellow",sample:"b1"},{note:"C",octave:3,width:4,noteIndex:13,type:"large",sample:"c3"},{note:"C#",octave:3,width:4,noteIndex:14,type:"large",sample:"c_3"},{note:"D",octave:3,width:4,noteIndex:15,type:"large",sample:"d3"},{note:"D#",octave:3,width:4,noteIndex:16,type:"large",sample:"d_3"},{note:"E",octave:3,width:4,noteIndex:17,type:"large",sample:"e3"},{note:"F",octave:3,width:4,noteIndex:18,type:"large",sample:"f3"},{note:"F#",octave:3,width:4,noteIndex:19,type:"large",sample:"f_3"},{note:"G",octave:3,width:4,noteIndex:20,type:"large",sample:"g3"},{note:"G#",octave:3,width:4,noteIndex:21,type:"large",sample:"g_3"},{note:"A",octave:3,width:4,noteIndex:22,type:"large",sample:"a3"},{note:"Bb",octave:3,width:4,noteIndex:23,type:"large",sample:"a_3"},{note:"B",octave:3,width:4,noteIndex:24,type:"large",sample:"b3"},{note:"C",octave:4,width:2,noteIndex:25,type:"large",sample:"c4"},{note:"C#",octave:4,width:2,noteIndex:26,type:"large",sample:"c_4"},{note:"D",octave:4,width:2,noteIndex:27,type:"large",sample:"d4"},{note:"D#",octave:4,width:2,noteIndex:28,type:"large",sample:"d_4"},{note:"E",octave:4,width:2,noteIndex:29,type:"large",sample:"e4"},{note:"F",octave:4,width:2,noteIndex:30,type:"large",sample:"f4"},{note:"F#",octave:4,width:2,noteIndex:31,type:"large",sample:"f_4"},{note:"G",octave:4,width:2,noteIndex:32,type:"large",sample:"g4"},{note:"G#",octave:4,width:2,noteIndex:33,type:"large",sample:"g_4"},{note:"A",octave:4,width:2,noteIndex:34,type:"large",sample:"a4"},{note:"Bb",octave:4,width:2,noteIndex:35,type:"large",sample:"a_4"},{note:"B",octave:4,width:2,noteIndex:36,type:"large",sample:"b4"},{note:"C",octave:5,width:2,noteIndex:37,type:"large",sample:"c5"}],en=(A.a.OS,function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"defaultTonality",value:function(){return{key:"G",scale:"ionian"}}},{key:"getAllNotes",value:function(){return $t}},{key:"getImages",value:function(){return Zt}},{key:"getAllSamples",value:function(){return Kt}}]),t}(Ze)),tn=i(91),nn="ios"===A.a.OS,on=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"getInstrument",value:function(){return new en(this.webview)}},{key:"initialStringOffset",value:function(){return 3}},{key:"modalSettingsWillHide",value:function(){this.applyScale(!0)}},{key:"preApplyScale",value:function(){this.instrument.setTonality(this.state.tonality),this.setState({notes:this.instrument.getNotes()})}},{key:"getSettings",value:function(){var e=this;we.all.map((function(e){return{value:e,label:e}})),Object.keys(be).map((function(e){return{value:e,label:be[e].name}}));return _.a.createElement(k.a,{style:{flex:1,flexDirection:"row"}},_.a.createElement(k.a,{style:{flex:1}},_.a.createElement(k.a,{style:{backgroundColor:"rgba(0,0,0,0.2)"}},_.a.createElement(ae,{style:{fontSize:20,color:"white",textAlign:"center"}},this.settingsTranslation("key"))),nn?_.a.createElement(tn.a,{selectedValue:this.state.tonality.key,style:{fontFamily:"ElMessiri",width:"100%",height:150},itemStyle:[{color:"white",fontFamily:"ElMessiri"},{height:150}],onValueChange:function(t,n){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e.setAsyncState({tonality:{scale:e.state.tonality.scale,key:t}}));case 2:e.preApplyScale();case 3:case"end":return n.stop()}}))}},we.all.map((function(t){return _.a.createElement(tn.a.Item,{color:"white",key:t,label:e.notesTranslation(t),value:t})}))):_.a.createElement(k.a,{style:{fontFamily:"ElMessiri",width:"100%",height:150}},_.a.createElement(Yt,{data:we.all.map((function(t){return{value:t,label:e.notesTranslation(t)}})),selectedValue:this.state.tonality.key,initialScrollToIndex:we.all.indexOf(this.state.tonality.key)-1,onChange:function(t){e.setState({tonality:{scale:e.state.tonality.scale,key:t.value}},(function(){e.preApplyScale()}))}}))),_.a.createElement(k.a,{style:{flex:2}},_.a.createElement(k.a,{style:{backgroundColor:"rgba(0,0,0,0.2)"}},_.a.createElement(ae,{style:{fontSize:20,color:"white",textAlign:"center"}},this.settingsTranslation("scale"))),nn?_.a.createElement(tn.a,{selectedValue:this.state.tonality.scale,style:{fontFamily:"ElMessiri",width:"100%",height:150},itemStyle:[{color:"white",fontFamily:"ElMessiri"},{height:150}],onValueChange:function(t,n){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(e.setAsyncState({tonality:{key:e.state.tonality.key,scale:t}}));case 2:e.preApplyScale();case 3:case"end":return n.stop()}}))}},Object.keys(be).map((function(e){return{key:e,name:be[e].name}})).map((function(t){return _.a.createElement(tn.a.Item,{color:"white",key:t.key,label:e.scaleTranslation(t.key),value:t.key})}))):_.a.createElement(k.a,{style:{fontFamily:"ElMessiri",width:"100%",height:150}},_.a.createElement(Yt,{data:Object.keys(be).map((function(t){return{value:t,label:e.scaleTranslation(t)}})),selectedValue:this.state.tonality.scale,initialScrollToIndex:Object.keys(be).indexOf(this.state.tonality.scale)-1,onChange:function(t){e.setState({tonality:{key:e.state.tonality.key,scale:t.value}},(function(){e.preApplyScale()}))}}))))}}]),t}(Ye),an=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze),rn=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"getInstrument",value:function(){return new an(this.webview)}},{key:"initialStringOffset",value:function(){return 3}}]),t}(on),sn={},cn=i(306),ln=i(43),un="android"===A.a.OS?"ElMessiri":"ElMessiri Bold",dn=E.a.get("window").width-50,hn={"img-assets":function(e,t,n,i){parseFloat(e.height);var o={width:dn,height:e.is800?E.a.get("window").height-60:300};e.is600&&(o.height=E.a.get("window").height-300);return _.a.createElement(k.a,{style:{alignItems:"center",justifyContent:"center"},key:e.key},_.a.createElement(q.a,{source:i.images[e.key],style:o,key:e.key,resizeMode:"contain"}))},carousel:function(e,t){return _.a.createElement(ye.a,{horizontal:!0},t)}},fn={tagsStyles:{h2:{textAlign:"center",fontFamily:un,fontWeight:"normal"},h3:{margin:5,paddingTop:10},p:{margin:9},b:{fontFamily:"ElMessiri Bold"}},ignoredTags:[].concat(s()(ln.c),["header"]),htmlStyles:{},classesStyles:{grid:{flexDirection:"row",paddingTop:20},column:{flex:1,justifyContent:"center",alignItems:"center"},center:{textAlign:"center",flex:1},"statistic-value":{fontSize:24},bold:{fontFamily:un},"statistic-title":{fontSize:16,fontFamily:un}},renderers:hn,imagesMaxWidth:dn,listsPrefixesRenderers:{ul:function(e,t,n,i){return _.a.createElement(oe.a,{style:{color:"white",fontSize:15}},"\u2022"," ")}},onLinkPress:function(e,t){Bt.a.openURL(t)},baseFontStyle:{color:"white",fontFamily:"ElMessiri",fontSize:15},debug:!1},pn=E.a.get("window").width;function mn(e){var t,n,i,o;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0;case 2:if(!(n<e.length)){r.next=17;break}return i=e[n],o=M.a.fromModule(i),r.next=7,a.a.awrap(o.downloadAsync());case 7:return r.next=9,a.a.awrap(fetch(o.uri));case 9:return o=r.sent,r.next=12,a.a.awrap(o.text());case 12:o=r.sent,t.push(o);case 14:n++,r.next=2;break;case 17:return r.abrupt("return",t);case 18:case"end":return r.stop()}}))}var gn=function(e){function t(e){var n;return d()(this,t),(n=m()(this,y()(t).call(this,e))).handleScroll=function(e){var t=e?e.nativeEvent.contentOffset.x:0,i=Math.round(t/pn);n.setHeader(i)},n.scrollX=new F.a.Value(0),n.state={htmlAssets:!1,header:""},n}return b()(t,e),f()(t,[{key:"_handleBack",value:function(){this.props.navigation.navigate("Home")}}]),f()(t,[{key:"componentDidMount",value:function(){var e,t,n,i,o=this;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.navigation,t=this.props.screenProps.locale,n=e.getParam("id","NO-ID"),console.log("locale"+t),r.next=6,a.a.awrap(mn(W[n][t]));case 6:return i=r.sent,this.images=sn[n],M.a.loadAsync(s()(Object.keys(this.images).map((function(e){return o.images[e]})))),this.setState({htmlAssets:i},(function(){this.setHeader(0)})),r.prev=10,r.next=13,a.a.awrap(P.a.lockAsync(P.a.Orientation.PORTRAIT));case 13:r.next=17;break;case 15:r.prev=15,r.t0=r.catch(10);case 17:case"end":return r.stop()}}),null,this,[[10,15]])}},{key:"componentWillUnmount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return Et()(y()(t.prototype),"componentWillUnmount",this).call(this),e.prev=1,e.next=4,a.a.awrap(P.a.unlockAsync());case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),null,this,[[1,6]])}},{key:"setHeader",value:function(e){var t=this.state.htmlAssets[e].match(/(\<header\>)([a-zA-Z0-9\u0410-\u042f\u0430-\u044f\u0407\u0457\u0456\u0406\u0453\u0403'`_ ]*)(\<\/header\>)/);this.setState({header:t?t[2]:""})}},{key:"render",value:function(){var e=this;return _.a.createElement(k.a,{style:{flex:1,background:"black"}},_.a.createElement(R.a,{source:$.homeScreenBackground,style:{flex:1}},_.a.createElement(G.a,null,_.a.createElement(St,{onPress:function(t){return e._handleBack()},title:this.state.header}),_.a.createElement(ye.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScroll:F.a.event([{nativeEvent:{contentOffset:{x:this.scrollX}}}],{listener:function(t){e.handleScroll(t)}}),scrollEventThrottle:16},this.state.htmlAssets?this.state.htmlAssets.map((function(t,n){t.match(/(\<header\>)([a-zA-Z0-9\u0410-\u042f\u0430-\u044f\u0407\u0457\u0456\u0406\u0453\u0403_ ]*)(\<\/header\>)/);return _.a.createElement(k.a,{style:[Q.screenInfo],key:n},_.a.createElement(ye.a,{key:n},_.a.createElement(cn.a,ie()({},fn,{html:t,key:n,imagesMaxWidth:pn,images:e.images}))))})):_.a.createElement(k.a,{style:[Q.screen]},_.a.createElement(Ie,null))),_.a.createElement(re,{count:this.state.htmlAssets?this.state.htmlAssets.length:0,scrollX:this.scrollX,style:{height:5,width:5,zIndex:999,backgroundColor:"#dcdcdc",margin:8,borderRadius:5}}))))}}]),t}(H);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn="android"===A.a.OS,wn=function(e){function t(e){var n;d()(this,t),(n=m()(this,y()(t).call(this,e))).vibrate=function(){F.a.loop(F.a.sequence([F.a.timing(n.vibrationValue,{toValue:-1.4,duration:20,delay:0,useNativeDriver:!0}),F.a.timing(n.vibrationValue,{toValue:1.4,duration:20,useNativeDriver:!0})]),{iterations:3}).start()},n.rotate=function(e,t){bn?n.scale():e<120&&e>60?n.rotateAnimation("rotateX"):e>120&&e<170?(n.rotateAnimation("rotateX"),t>100?n.rotateAnimation("rotateY",!0,!0):n.rotateAnimation("rotateY",!1,!0)):e<60&&e>20?(n.rotateAnimation("rotateX"),t>100?n.rotateAnimation("rotateY",!1,!0):n.rotateAnimation("rotateY",!0,!0)):n.rotateAnimation("rotateY")},n.rotateAnimation=function(e,t,i){if(!bn){var o="0.4deg";i&&(o="0.2deg"),F.a.sequence([F.a.timing(n.state[e],{toValue:t?"-"+o:o,duration:200,delay:0,useNativeDriver:!0}),F.a.timing(n.state[e],{toValue:"0deg",duration:500,useNativeDriver:!0})]).start()}},n.scale=function(){F.a.sequence([F.a.timing(n.scaleValue,{toValue:1.01,duration:50,delay:0,useNativeDriver:!0}),F.a.timing(n.scaleValue,{toValue:.99,duration:50,useNativeDriver:!0})]).start()},n.onPageLayout=function(e){var t=e.nativeEvent.layout,i=t.width,o=t.height;n.props.index||n.setState({width:i,height:o})},n.vibrationValue=new F.a.Value(0),n.opacityValue=new F.a.Value(1),n.scaleValue=new F.a.Value(1),n.lastMovedPlay=null,n.state={note:e.notes[e.index],stringPressedY:0,width:void 0,height:void 0,screenWidth:E.a.get("window").width,screenHeight:E.a.get("window").height},bn||(n.state.rotateX=new F.a.Value("0deg"),n.state.rotateY=new F.a.Value("0deg"));try{n.orientationChangeSubscription=P.a.addOrientationChangeListener((function(e){return n._orientationDidChange(e)}))}catch(i){}return n}return b()(t,e),f()(t,[{key:"_orientationDidChange",value:function(){this.updateScreenDimensions()}},{key:"updateScreenDimensions",value:function(){this.setState({screenWidth:E.a.get("window").width,screenHeight:E.a.get("window").height})}},{key:"componentWillUnmount",value:function(){this.orientationChangeSubscription.remove()}},{key:"onMove",value:function(e){if(null===this.lastMovedPlay||(new Date).getTime()-this.lastMovedPlay>300)return this.onPress(!1,e),!0}},{key:"onPress",value:function(e,t){t.stopPropagation();var n=t.nativeEvent.locationX,i=t.nativeEvent.locationY,o=t.nativeEvent.touches.length,a=Math.ceil(3.5*Math.random()+.1),r=this.state.note.sample+"_"+a;o>1&&"plate"!==this.props.type&&(a=Math.ceil(1.5*Math.random()+.1),r=this.state.note.sample+"_"+a+"h");this.props.onPress(r,0),"function"===typeof this.props.scale&&this.props.scale(),this.lastMovedPlay=(new Date).getTime(),this.vibrate(t),"plate"===this.props.type&&this.rotate(n,i),this.hapticFeedback(e)}},{key:"hapticFeedback",value:function(e){"ios"===A.a.OS&&se.a(ce.a.Medium)}},{key:"render",value:function(){var e=this,n=this.vibrationValue.interpolate({inputRange:[-10,10],outputRange:[-10,10]}),i={};return bn?transformStyle={transform:[{scale:this.scaleValue},{translateX:n},{perspective:1e3}]}:(transformStyle={transform:[{scale:this.scaleValue},{rotateX:this.state.rotateX},{rotateY:this.state.rotateY},{translateX:n},{perspective:1e3},{rotate:(this.props.rotate,"0deg")}]},i={shadowColor:"black",shadowOffset:{width:0,height:0},shadowOpacity:.45,shadowRadius:10,elevation:22}),_.a.createElement(F.a.View,{style:vn({justifyContent:"center",padding:5,zIndex:this.props.index+5,alignItems:"center",height:this.state.note.width+(!this.props.index&&20),width:this.state.note.width+(!this.props.index&&20),borderRadius:400,opacity:1},i),onLayout:this.onPageLayout,onTouchStart:function(t){return e.onPress(!0,t)}},!this.props.index&&_.a.createElement(F.a.Image,{fadeDuration:0,style:vn({},transformStyle,{width:this.state.note.width,height:this.state.note.width,position:"absolute"}),source:this.props.backgroundImage}),this.props.length!==this.props.index+1&&_.a.createElement(t,{index:this.props.index+1,notes:this.props.notes,length:this.props.notes.length,onPress:this.props.onPress,scale:this.scale}))}}]),t}(_.a.Component);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var An=function(e){function t(){var e;return d()(this,t),(e=m()(this,y()(t).call(this))).setAsyncState=function(t){return new Promise((function(n){return e.setState(t,(function(){return n()}))}))},e.instrumentStrings={},e.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state,{loading:!0,drumNotes:[],plateNotes:[],modalVisible:!1,imageDrum:null,innerLoading:!1,imagePlate:null,recording:!1,showScaleModal:!1}),e}return b()(t,e),f()(t,[{key:"_handleBack",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.orientationChangeSubscription.remove(),this.setAsyncState({loading:!0}),this.props.navigation.navigate("Home");case 3:case"end":return e.stop()}}),null,this)}},{key:"touchString",value:function(e,t){var n=this;if(!this.state.blocked){var i=!1;Object.keys(this.instrumentStrings).forEach((function(o){if(!i){var a=n.instrumentStrings[o],r=a.layout.layout;if(r.x<e&&r.y<t&&r.x+r.width>e&&r.y+r.height-44>t)return i=!0,a.component.onMove()&&n.recordNote(a.component.props.note),!1}}))}}},{key:"componentDidMount",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ge.unload());case 2:return this.instrument=this.getInstrument(),e.next=5,a.a.awrap(this.updateBackgroundImage());case 5:return e.next=7,a.a.awrap(this.loadSamples(!1));case 7:return e.next=9,a.a.awrap(this.setAsyncState({blocked:!1}));case 9:case"end":return e.stop()}}),null,this)}},{key:"loadSamples",value:function(e){var t,n,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.instrumentStrings=[],t=this.instrument.getNotes(),n=t.filter((function(e){return"plate"===e.type})),i=t.filter((function(e){return"drum"===e.type})),o.next=6,a.a.awrap(this.setAsyncState(l()({},e?"innerLoading":"loading",!0)));case 6:return o.next=8,a.a.awrap(this.setAsyncState({drumNotes:i,plateNotes:n}));case 8:return o.next=10,a.a.awrap(this.instrument.load());case 10:return o.next=12,a.a.awrap(this.setAsyncState({innerLoading:!1,loading:!1}));case 12:case"end":return o.stop()}}),null,this)}},{key:"updateBackgroundImage",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return P.a.Orientation.LANDSCAPE,e.prev=1,e.next=4,a.a.awrap(P.a.getOrientationAsync());case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:this.setState({backgroundImage:this.instrument.getImages()["background"+(this.state.portrait?"Portrait":"Landscape")],imageDrum:this.instrument.getImages().imageDrum,imagePlate:this.instrument.getImages().imagePlate});case 10:case"end":return e.stop()}}),null,this,[[1,7]])}},{key:"play",value:function(e){this.recordNote(e),this.instrument.playNote(e)}},{key:"recordNote",value:function(e){if(this.state.recording){var t=(new Date).getTime();this.recordData.push({note:e,time:t-this.recordTimestamp}),this.recordTimestamp=t}}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"orientationDidChange",value:function(){this.instrumentStrings=[],this.updateBackgroundImage()}},{key:"cancelButton",value:function(){"ios"===A.a.OS&&se.b(ce.b.Error)}},{key:"render",value:function(){var e=this;return _.a.createElement(k.a,{style:{flex:1,flexDirection:"row",backgroundColor:"black"},onTouchMove:function(t){e.touchString(t.nativeEvent.pageX,t.nativeEvent.pageY)}},_.a.createElement(De,{ref:function(t){e.webview=t}}),this.state.innerLoading&&_.a.createElement(k.a,{style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:999,elevation:999,alignItems:"center",flex:1,backgroundColor:"#080707cc",justifyContent:"center"}},_.a.createElement(q.a,{source:$.loader,style:{width:128,height:128}}),this.state.loadPercent&&_.a.createElement(ae,{style:{color:"white"}},Math.round(this.state.loadPercent),"%")),_.a.createElement(G.a,{style:{flex:1,flexDirection:"row",position:"relative"}},_.a.createElement(R.a,{fadeDuration:0,source:this.state.backgroundImage,imageStyle:{resizeMode:"cover"},style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:this.state.portrait?"column":"row",paddingBottom:40,backgroundColor:"black"}},this.state.plateNotes.length?_.a.createElement(wn,{index:0,backgroundImage:this.state.imagePlate,type:"plate",length:this.state.plateNotes.length,notes:this.state.plateNotes,onPress:function(t){e.play(t)}}):_.a.createElement(k.a,null),this.state.drumNotes.length?_.a.createElement(wn,{index:0,backgroundImage:this.state.imageDrum,length:this.state.drumNotes.length,notes:this.state.drumNotes,onPress:function(t){e.play(t)}}):_.a.createElement(k.a,null)),_.a.createElement(k.a,{style:{alignItems:"center",flex:1,elevation:99,flexDirection:"row",justifyContent:"center",position:"absolute",left:0,bottom:0,height:44,right:0,backgroundColor:"rgba(35,19,16,1)"}},_.a.createElement(j.a,{onPress:function(t){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._handleBack());case 1:case"end":return t.stop()}}))},style:{flex:1,width:"100%"}},_.a.createElement(k.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},_.a.createElement(te,{name:"arrow-back",size:29,color:"white"}))),_.a.createElement(j.a,{style:{opacity:.3,flex:1,width:"100%"},onPress:function(){e.cancelButton()}},_.a.createElement(k.a,{style:{flex:1,opacity:.5}},_.a.createElement(k.a,{style:{flex:6,justifyContent:"center",alignItems:"center"}},_.a.createElement(te,{name:"move",size:29,color:"white"})))),_.a.createElement(j.a,{style:{opacity:.1,flex:1,width:"100%"},onPress:function(){e.cancelButton()}},_.a.createElement(k.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},_.a.createElement(te,{name:"settings",size:29,color:"white"}))))),this.state.loading&&_.a.createElement(Ie,null))}}]),t}(H),Sn=(x.a.create({container:{flexDirection:"column"}}),function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),t}(Ze)),xn=function(e){function t(){return d()(this,t),m()(this,y()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"getInstrument",value:function(){return new Sn(this.webview)}}]),t}(An),kn=Object(C.createAppContainer)(Object(T.a)({Splash:{screen:Tt,navigationOptions:function(){return{headerTransparent:!0}}},Home:{screen:pe,navigationOptions:function(){return{headerTransparent:!0}}},InfoScreen:{screen:gn,navigationOptions:function(){return{headerTransparent:!0}}},Kobza:{screen:at,navigationOptions:function(e){return{headerTransparent:!0}}},FolkBandura:{screen:it,navigationOptions:function(e){return{headerTransparent:!0}}},Torban:{screen:Mt,navigationOptions:function(e){return{headerTransparent:!0}}},ChernihivBandura:{screen:on,navigationOptions:function(e){return{headerTransparent:!0}}},KharkivBandura:{screen:rn,navigationOptions:function(e){return{headerTransparent:!0}}},VideoLecture:{screen:xt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},Video:{screen:It,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},Tests:{screen:Gt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},Settings:{screen:Qt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},Buben:{screen:xn,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},Terms:{screen:Lt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},PrivacyPolicy:{screen:jt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}},About:{screen:Rt,navigationOptions:function(e){return{headerTransparent:!0,gesturesEnabled:!0}}}},{headerMode:"none",headerBackTitleVisible:!1,animation:"fade",defaultNavigationOptions:{gesturesEnabled:!1},transitionConfig:function(){return{screenInterpolator:function(e){return function(e){var t=e.position,n=e.scene.index;return{opacity:t.interpolate({inputRange:[n-.7,n],outputRange:[.3,1]})}}(e)}}}})),En=i(158),Pn=i(160),In=i.n(Pn);In.a.fallbacks=!0,In.a.translations={ua:{limits:{sorry:"",feature_will_be_in_future:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0439\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0432 \u0446\u0456\u0439 \u0432\u0435\u0440\u0441\u0456\u0457.",web_limitation:"\u0426\u0435\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043b\u0438\u0448\u0435 \u0432 \u043c\u043e\u0431\u0456\u043b\u044c\u043d\u043e\u043c\u0443 \u0434\u043e\u0434\u0430\u0442\u043a\u0443."},about:{main:"\u0410\u0432\u0442\u043e\u0440\u0438",experts:"\u0415\u043a\u0441\u043f\u0435\u0440\u0442\u0438",support:"\u0417\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438",fedynskyi:{title:"\u042e\u0440\u0456\u0439 \u0424\u0435\u0434\u0438\u043d\u0441\u044c\u043a\u0438\u0439",position:""},mykhailo:{title:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e \u0413\u043e\u043b\u043e\u0431\u043e\u0440\u043e\u0434\u044c\u043a\u043e",position:"\u0406\u0434\u0435\u044f, \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043a\u0435\u0440\u0456\u0432\u043d\u0438\u043a"},anastasia:{title:"\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0456\u044f \u0412\u043e\u0439\u0442\u044e\u043a",position:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437 \u043c\u0443\u0437\u0438\u0447\u043d\u0438\u0445 \u043f\u0438\u0442\u0430\u043d\u044c"},sylenko:{title:"\u0422\u0430\u0440\u0430\u0441 \u0421\u0438\u043b\u0435\u043d\u043a\u043e",position:""},gerasymenko:{title:"\u041e\u043a\u0441\u0430\u043d\u0430 \u0413\u0435\u0440\u0430\u0441\u0438\u043c\u0435\u043d\u043a\u043e",position:""},kytastyi:{title:"\u042e\u043b\u0456\u0430\u043d \u041a\u0438\u0442\u0430\u0441\u0442\u0438\u0439",position:""},suleckiy:{title:"\u0410\u043d\u0434\u0440\u0456\u0439 \u0414\u0436\u0443\u0440\u0434\u0436-\u0421\u0438\u043b\u0435\u0446\u044c\u043a\u0438\u0439",position:""},temchenko:{title:"\u0410\u0440\u0442\u0443\u0440 \u0422\u0435\u043c\u0447\u0435\u043d\u043a\u043e",position:""}},home_screen:{play:"\u0417\u0456\u0433\u0440\u0430\u0442\u0438",video:"\u041f\u043e\u0434\u0438\u0432\u0438\u0442\u0438\u0441\u044c",info:"\u0414\u0456\u0437\u043d\u0430\u0442\u0438\u0441\u044c",lockTitle:"\u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u043e",lockDescription:"\u041f\u0440\u043e\u0439\u0434\u0456\u0442\u044c \u0442\u0435\u0441\u0442, \u0449\u043e\u0431 \u0440\u043e\u0437\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u0442\u0438",lockTitleButton:"\u0420\u043e\u0437\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u0442\u0438"},instruments:{folk_bandura:{title:"\u0421\u0442\u0430\u0440\u043e\u0441\u0432\u0456\u0442\u0441\u044c\u043a\u0430 \u0411\u0430\u043d\u0434\u0443\u0440\u0430",description:"\u0421\u0442\u0430\u0440\u043e\u0432\u0438\u043d\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u043e-\u0449\u0438\u043f\u043a\u043e\u0432\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",settings:{strings:{title:"\u0421\u0442\u0440\u0443\u043d\u0438",metal:"\u041c\u0435\u0442\u0430\u043b\u0435\u0432\u0456",nylon:"\u041d\u0435\u0439\u043b\u043e\u043d\u043e\u0432\u0456"}}},chernihiv_bandura:{title:"\u0411\u0430\u043d\u0434\u0443\u0440\u0430 \u0427\u0435\u0440\u043d\u0456\u0433\u0456\u0432\u0441\u044c\u043a\u0430 \u041f\u0440\u0438\u043c\u0430",description:"\u0421\u0443\u0447\u0430\u0441\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u043e-\u0449\u0438\u043f\u043a\u043e\u0432\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",settings:{key:"\u0422\u043e\u043d (key)",scale:"\u041b\u0430\u0434 (scale)"}},kharkiv_bandura:{title:"\u0425\u0430\u0440\u043a\u0456\u0432\u0441\u044c\u043a\u0430 \u0411\u0430\u043d\u0434\u0443\u0440\u0430",description:"\u0421\u0443\u0447\u0430\u0441\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u043e-\u0449\u0438\u043f\u043a\u043e\u0432\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",settings:{key:"\u0422\u043e\u043d (key)",scale:"\u041b\u0430\u0434 (scale)"}},torban:{title:"\u0422\u043e\u0440\u0431\u0430\u043d",description:"\u0421\u0442\u0430\u0440\u043e\u0432\u0438\u043d\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u043e-\u0449\u0438\u043f\u043a\u043e\u0432\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",settings:{fret:{title:"\u0413\u0440\u0438\u0444",with_frets:"\u0417 \u043b\u0430\u0434\u0430\u043c\u0438",without_frets:"\u0411\u0435\u0437 \u043b\u0430\u0434\u0456\u0432",open:"\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438"}}},lviv_bandura:{title:"\u0411\u0430\u043d\u0434\u0443\u0440\u0430 \u041b\u044c\u0432\u0456\u0432\u0441\u044c\u043a\u0430",description:"\u0410\u0432\u0442\u0435\u043d\u0442\u0438\u0447\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u043e-\u0449\u0438\u043f\u043a\u043e\u0432\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442"},kobza:{title:"\u041a\u043e\u0431\u0437\u0430",description:"\u0421\u0442\u0430\u0440\u043e\u0432\u0438\u043d\u043d\u0438\u0439 \u043b\u044e\u0442\u043d\u0435\u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0439 \u0441\u0442\u0440\u0443\u043d\u043d\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",settings:{fret:{title:"\u0413\u0440\u0438\u0444",with_frets:"\u0417 \u043b\u0430\u0434\u0430\u043c\u0438",without_frets:"\u0411\u0435\u0437 \u043b\u0430\u0434\u0456\u0432",open:"\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438"}}},buben:{title:"\u0411\u0443\u0431\u0435\u043d",description:"\u041f\u0435\u0440\u043a\u0443\u0441\u0456\u0439\u043d\u0438\u0439 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442"}},notes:{C:"\u0414\u043e","C#":"\u0414\u043e\u266f","C\u266f":"\u0414\u043e\u266f",Db:"\u0420\u0435\u266d",D:"\u0420\u0435","D#":"\u0420\u0435\u266f","D\u266f":"\u0420\u0435\u266f",Eb:"\u041c\u0456\u266d",E:"\u041c\u0456",Fb:"\u0424\u0430\u266d",F:"\u0424\u0430","F#":"\u0424\u0430\u266f","F\u266f":"\u0424\u0430\u266f",Gb:"\u0421\u043e\u043b\u044c\u266d","G\u266d":"\u0421\u043e\u043b\u044c\u266d",G:"\u0421\u043e\u043b\u044c","G#":"\u0421\u043e\u043b\u044c\u266f","G\u266f":"\u0421\u043e\u043b\u044c\u266f",Ab:"\u041b\u044f\u266d","A\u266d":"\u041b\u044f\u266d",A:"\u041b\u044f","A#":"\u041b\u044f\u266f","A\u266f":"\u041b\u044f\u266f",Bb:"\u0421\u0456\u266d","B\u266d":"\u0421\u0456\u266d",B:"\u0421\u0456",Cb:"\u0414\u043e\u266d","C\u266d":"\u0414\u043e\u266d"},scale:{acoustic:"\u0413\u0443\u0440\u0430\u043b\u044c\u0441\u044c\u043a\u0438\u0439",aeolian:"\u041c\u0456\u043d\u043e\u0440",gutsul:"\u0413\u0443\u0446\u0443\u043b\u044c\u0441\u043a\u0438\u0439",algerian:"\u0410\u043b\u0436\u0438\u0440\u0441\u044c\u043a\u0438\u0439",altered:"\u0417\u043c\u0456\u043d\u0435\u043d\u0438\u0439",arabian:"\u0410\u0440\u0430\u0431\u0441\u044c\u043a\u0438\u0439",blues:"\u0411\u043b\u044e\u0437\u043e\u0432\u0438\u0439",chromatic:"\u0425\u0440\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u0438\u0439",dorian:"\u0414\u043e\u0440\u0456\u0439\u0441\u044c\u043a\u0438\u0439",doubleHarmonic:"\u041f\u043e\u0434\u0432\u0456\u0439\u043d\u0438\u0439 \u0433\u0430\u0440\u043c\u043e\u043d\u0456\u0447\u043d\u0438\u0439",egyptian:"\u0404\u0433\u0438\u043f\u0435\u0442\u0441\u044c\u043a\u0438\u0439",enigmatic:"\u0415\u043d\u0456\u0433\u043c\u0430\u0442\u0438\u0447\u043d\u0438\u0439",harmonicMinor:"\u0413\u0430\u0440\u043c\u043e\u043d\u0456\u0447\u043d\u0438\u0439 \u043c\u0456\u043d\u043e\u0440",hirajoshi:"\u0425\u0456\u0440\u0430\u0436\u0448\u0456",ionian:"\u041c\u0430\u0436\u043e\u0440\u043d\u0438\u0439",japanese:"\u042f\u043f\u043e\u043d\u0441\u044c\u043a\u0438\u0439",locrian:"\u041b\u043e\u043a\u0440\u0456\u0439\u0441\u044c\u043a\u0438\u0439",lydian:"\u041b\u0456\u0434\u0456\u0439\u0441\u044c\u043a\u0438\u0439",majorBlues:"\u041c\u0430\u0436\u043e\u0440\u043d\u0438\u0439 \u0431\u043b\u044e\u0437\u043e\u0432\u0438\u0439",majorPentatonic:"\u041c\u0430\u0436\u043e\u0440\u043d\u0430 \u043f\u0435\u043d\u0442\u0430\u0442\u043e\u043d\u0456\u043a\u0430",melodicMinorAsc:"\u0412\u0438\u0441\u0445\u0456\u0434\u043d\u0438\u0439 \u043c\u0435\u043b\u043e\u0434\u0438\u0447\u043d\u0438\u0439 \u043c\u0456\u043d\u043e\u0440",melodicMinorDesc:"\u041d\u0438\u0437\u0441\u0445\u0456\u0434\u043d\u0438\u0439 \u043c\u0435\u043b\u043e\u0434\u0438\u0447\u043d\u0438\u0439 \u043c\u0456\u043d\u043e\u0440",minorBlues:"\u041c\u0456\u043d\u043e\u0440\u043d\u0438\u0439 \u0431\u043b\u044e\u0437\u043e\u0432\u0438\u0439",minorPentatonic:"\u041c\u0456\u043d\u043e\u0440\u043d\u0430 \u043f\u0435\u043d\u0442\u0430\u0442\u043e\u043d\u0456\u043a\u0430",mixolydian:"\u041c\u0456\u043a\u0441\u043e\u043b\u0456\u0434\u0456\u0439\u0441\u044c\u043a\u0438\u0439",pentatonic:"\u041f\u0435\u043d\u0442\u0430\u0442\u043e\u043d\u0456\u043a\u0430",persian:"\u041f\u0435\u0440\u0441\u0438\u0434\u0441\u044c\u043a\u0438\u0439",phrygian:"\u0424\u0440\u0438\u0433\u0456\u0439\u0441\u044c\u043a\u0438\u0439",wholetone:"\u0426\u0456\u043b\u043e\u0442\u043e\u043d\u043d\u0438\u0439"},global_settings:{title:"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f",done:"\u0413\u043e\u0442\u043e\u0432\u043e",language:"\u041c\u043e\u0432\u0430 (Language)",privacy_policy:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456",about:"\u041f\u0440\u043e \u043d\u0430\u0441",info:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f",terms:"\u0423\u043c\u043e\u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f",legal:"\u041f\u0440\u0430\u0432\u043e\u0432\u0456 \u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u0438",ask_question:"\u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430",social_network:"\u0421\u043e\u0446\u043c\u0435\u0440\u0435\u0436\u0456"},about_screen:{title:"\u041f\u0440\u043e \u043d\u0430\u0441"},privacy_policy_screen:{title:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"},terms_screen:{title:"\u0423\u043c\u043e\u0432\u0438"}},en:{limits:{sorry:"",feature_will_be_in_future:"Info mode is not available in this version. \n We are working on it so it will be available in future versions",web_limitation:"This feature available only in mobile application."},home_screen:{play:"Play",video:"Watch ",info:"Read",lockTitle:"The instrument is locked",lockDescription:"Take the test to unlock",lockTitleButton:"Unlock"},about:{main:"Authors",experts:"Experts",support:"Support",fedynskyi:{title:"Jurij Fedynskyj",position:""},mykhailo:{title:"Mykhailo Goloborodko",position:"Idea, technical director"},anastasia:{title:"Anastasiya Voytyuk",position:"Musician expert"},sylenko:{title:"Taras Sylenko",position:""},gerasymenko:{title:"Oksana Herasymenko",position:""},kytastyi:{title:"Julian Kytasty",position:""},suleckiy:{title:"Andr\u0456j Dzhurdzh-S\u0456lec'kij",position:""},temchenko:{title:"Artur Temchenko",position:""}},instruments:{torban:{title:"Torban",description:"\u0410uthentic plucked string instrument.",settings:{fret:{title:" Fretboard",with_frets:"With frets",without_frets:"W/o frets",open:"Hide"}}},folk_bandura:{title:"Folk Bandura",description:"\u0410uthentic plucked string instrument.",settings:{strings:{title:"Strings",metal:"Metal",nylon:"Nylon"}}},chernihiv_bandura:{title:"Chernihiv Prima Bandura",description:"Modern plucked string instrument.",settings:{key:"Key",scale:"Scale"}},kharkiv_bandura:{title:"Kharkiv Bandura",description:"Modern plucked string instrument.",settings:{key:"Key",scale:"Scale"}},lviv_bandura:{title:"Lviv Bandura",description:"Modern plucked string instrument."},kobza:{title:"Kobza",description:"Lute-like string instrument ",settings:{fret:{title:"Fretboard",with_frets:"With frets",without_frets:"W/o frets",open:"Hide"}}},buben:{title:"Bubon",description:"Percussive instrument"},kozobas:{title:"Kozobas",description:"Bowed and percussive instrument"}},global_settings:{title:"Settings",language:"Language",done:"Done",privacy_policy:"Privacy Policy",about:"About us",info:"Information",terms:"Terms of Use",legal:"Legal",ask_question:"Support",social_network:"Social",eco_mode:"Eco Mode"},test_screen:{},about_screen:{title:"About"},privacy_policy_screen:{title:"Privacy policy"},terms_screen:{title:"Terms"},scale:{aeolian:"Minor",ionian:"Major",gutsul:"Ukrainian Dorian",dorian:"Dorian",phrygian:"Phrygian",lydian:"Lydian",mixolydian:"Mixolydian",locrian:"Locrian",chromatic:"Chromatic",acoustic:"Acoustic",algerian:"Algerian",altered:"Altered",pentatonic:"Minoric",wholetone:"Wholetone",blues:"Blues",minorBlues:"Minor Blues",majorBlues:"Major Blues",harmonicMinor:"Harmonic Minor",melodicMinorAsc:"Melodic Minor Asc",melodicMinorDesc:"Melodic Minor Desc",enigmatic:"Enigmatic",doubleHarmonic:"Double Harmonic",persian:"Persian",arabian:"Arabian",japanese:"Japanese",egyptian:"Egyptian",hirajoshi:"Hirajoshi",minorPentatonic:"Minor Pentatonic",majorPentatonic:"Major Pentatonic"},notes:{C:"C","C#":"C\u266f","C\u266f":"C\u266f",Db:"D\u266d",D:"D","D#":"D\u266f","D\u266f":"D\u266f",Eb:"E\u266d",E:"E",Fb:"F\u266d",F:"F","F#":"F\u266f","F\u266f":"F\u266f",Gb:"G\u266d","G\u266d":"G\u266d",G:"G","G#":"G\u266f","G\u266f":"G\u266f",Ab:"A\u266d","A\u266d":"A\u266d",A:"A","A#":"A\u266f","A\u266f":"A\u266f",Bb:"B\u266d","B\u266d":"B\u266d",B:"B",Cb:"C\u266d","C\u266d":"C\u266d"}},es:{limits:{sorry:"",feature_will_be_in_future:"El modo informativo no est\xe1 disponible en esta versi\xf3n ",web_limitation:"Esta caracter\xedstica solo est\xe1 disponible en la aplicaci\xf3n m\xf3vil."},about:{main:"Autores",experts:"Expertos",support:"Con apoyo de",mykhailo:{title:"Mykhailo Goloborodko",position:"Idea, director t\xe9cnico"},anastasia:{title:"Anastasiya Voytyuk",position:"Experto en musica"}},home_screen:{play:"Tocar",video:"Ver",info:"Averiguar m\xe1s",lockTitle:"El instrumento est\xe1 bloqueado",lockDescription:"Pase la prueba para desbloquearlo",lockTitleButton:"Desbloquear"},instruments:{folk_bandura:{title:"Bandura popular",description:"Instrumento de cuerda pulsada antiguo",settings:{strings:{title:"Cuerdas",metal:"de metal",nylon:"de nylon"}}},chernihiv_bandura:{title:"Bandura Prima de Chernihiv",description:"Instrumento moderno de cuerda pulsada",settings:{key:"Tono (key)",scale:"Modo (scale)"}},kharkiv_bandura:{title:"Bandura de Kharkiv",description:"Instrumento moderno de cuerda pulsada",settings:{key:"Tono (key)",scale:"Modo (scale)"}},torban:{title:"Torban",description:"Instrumento antiguo de cuerda pulsada",settings:{fret:{title:"M\xe1stil",with_frets:"Con modos",without_frets:"Sin modos",open:"Cuerdas abiertas"}}},lviv_bandura:{title:"Bandura de Lviv",description:"Instrumento aut\xe9ntico de cuerda pulsada"},kobza:{title:"Kobza",description:"Instrumento antiguo de cuerda de la familia del la\xfad",settings:{fret:{title:"M\xe1stil",with_frets:"Con modos",without_frets:"Sin modos",open:"Ocultar"}}},buben:{title:"Pandereta",description:"Instrumento de percusi\xf3n"},kozobas:{title:"Kozobas",description:"Instrumento musical de cuerda frotada"}},notes:{C:"Do","C#":"Do\u266f","C\u266f":"Do\u266f",Db:"Re\u266d",D:"Re","D#":"Re\u266f","D\u266f":"Re\u266f",Eb:"Mi\u266d",E:"Mi",Fb:"Fa\u266d",F:"Fa","F#":"Fa\u266f","F\u266f":"Fa\u266f",Gb:"Sol\u266d","G\u266d":"Sol\u266d",G:"Sol","G#":"Sol\u266f","G\u266f":"Sol\u266f",Ab:"La\u266d","A\u266d":"La\u266d",A:"La","A#":"La\u266f","A\u266f":"La\u266f",Bb:"Si\u266d","B\u266d":"Si\u266d",B:"Si",Cb:"Do\u266d","C\u266d":"Do\u266d"},scale:{acoustic:"Ac\xfastico",aeolian:"Minor",gutsul:"Doriano ucraniano",algerian:"Argelino",altered:"Alterado",arabian:"\xc1rabe",blues:"Blues",chromatic:"Crom\xe1tico",dorian:"Doriano ",doubleHarmonic:"Arm\xf3nico Doble",egyptian:"Egipcio",enigmatic:"Enigm\xe1tico",harmonicMinor:"Menor arm\xf3nico",hirajoshi:"Hirajoshi",ionian:"Mayor",japanese:"Japon\xe9s",locrian:"Locriano",lydian:"Lidia",majorBlues:"Mayor Blues",majorPentatonic:"Mayor Pentat\xf3nico",melodicMinorAsc:"Mel\xf3dico Menor Ascendente",melodicMinorDesc:"Mel\xf3dico Menor Descendente",minorBlues:"Menor Blues",minorPentatonic:"Menor Pentat\xf3nico",mixolydian:"Mixolidio",pentatonic:"Pentat\xf3nico",persian:"Perso",phrygian:"Frigio",wholetone:"De tono entero"},global_settings:{title:"Configuraciones",done:"Hecho",language:"Lengua",privacy_policy:"Pol\xedtica de privacidad",about:"Acerca de",info:"Informaci\xf3n",terms:"T\xe9rminos de uso",legal:"Aviso legal",ask_question:"Soporte",social_network:"Redes sociales",eco_mode:"Modo eco"},about_screen:{title:"Acerca de "},privacy_policy_screen:{title:"Pol\xedtica de privacidad"},terms_screen:{title:"T\xe9rminos de uso"}},pt:{limits:{sorry:null,feature_will_be_in_future:"O modo de informa\xe7\xe3o n\xe3o est\xe1 dispon\xedvel nesta vers\xe3o"},about:{main:"Autores",experts:"Peritos",support:"Com o apoio de"},home_screen:{play:"Tocar",video:"Ver",info:"Conhecer",lockTitle:"O instrumento est\xe1 bloqueado.",lockDescription:"Fa\xe7a o teste para desbloquea-lo",lockTitleButton:"Desbloquear"},instruments:{folk_bandura:{title:"Bandura folcl\xf3rica",description:"Instrumento antigo de cordas dedilhadas",settings:{strings:{title:"Cordas",metal:"de metal",nylon:"de n\xe1ilon"}}},chernihiv_bandura:{title:"Bandura Prima de Chernihiv",description:"Instrumento moderno de cordas dedilhadas",settings:{key:"Tom (key)",scale:"Modo (scale)"}},kharkiv_bandura:{title:"Bandura de Kharkiv",description:"Instrumento moderno de cordas dedilhadas",settings:{key:"Tom (key)",scale:"Modo (scale)"}},torban:{title:"Torban",description:"Instrumento antigo de cordas dedilhadas",settings:{fret:{title:"Bra\xe7o",with_frets:"Com modos",without_frets:"Sem modos",open:"Cordas abertas"}}},lviv_bandura:{title:"Bandura de Lviv",description:"Instrumento aut\xeantico de cordas dedilhadas"},kobza:{title:"Kobza",description:"Instrumento de cordas antigo da fam\xedlia de ala\xfade",settings:{fret:{title:"Bra\xe7o",with_frets:"Com modos",without_frets:"Sem modos",open:"Ocultar"}}},buben:{title:"Pandeireta",description:"Instrumento de percuss\xe3o"},kozobas:{title:"Kozobas",description:"Instrumento musical de cordas friccionadas"}},notes:{C:"D\xf3","C#":"D\xf3\u266f","C\u266f":"D\xf3\u266f",Db:"R\xe9\u266d",D:"R\xe9","D#":"R\xe9\u266f","D\u266f":"R\xe9\u266f",Eb:"Mi\u266d",E:"Mi",Fb:"F\xe1\u266d",F:"F\xe1","F#":"F\xe1\u266f","F\u266f":"F\xe1\u266f",Gb:"Sol\u266d","G\u266d":"Sol\u266d",G:"Sol","G#":"Sol\u266f","G\u266f":"Sol\u266f",Ab:"L\xe1\u266d","A\u266d":"L\xe1\u266d",A:"L\xe1","A#":"L\xe1\u266f","A\u266f":"L\xe1\u266f",Bb:"Si\u266d","B\u266d":"Si\u266d",B:"Si",Cb:"D\xf3\u266d","C\u266d":"D\xf3\u266d"},scale:{acoustic:"Ac\xfastico",aeolian:"Menor",gutsul:"D\xf3rico ucraniano",algerian:"Argelino",altered:"Alterado",arabian:"\xc1rabe",blues:"Blues",chromatic:"Crom\xe1tico",dorian:"D\xf3rico",doubleHarmonic:"Harm\xf4nico duplo",egyptian:"Eg\xedpcio",enigmatic:"Enigm\xe1tico",harmonicMinor:"Menor harm\xf4nico",hirajoshi:"Hiraj\u014dshi",ionian:"Maior",japanese:"Japon\xeas",locrian:"L\xf3crio",lydian:"L\xeddio",majorBlues:"Maior Blues",majorPentatonic:"Maior Pentat\xf3nico",melodicMinorAsc:"Menor Mel\xf3dico Ascendente",melodicMinorDesc:"Menor Mel\xf3dico Descendente",minorBlues:"Menor Blues",minorPentatonic:"Menor Pentat\xf3nico",mixolydian:"Mixol\xeddio",pentatonic:"Pentat\xf3nico",persian:"Persa",phrygian:"Fr\xedgio",wholetone:"De tons inteiros"},global_settings:{title:"Configura\xe7\xf5es",done:"Feito",language:"Idioma (Language)",privacy_policy:"Pol\xedtica de privacidade",about:"Sobre n\xf3s",info:"Informa\xe7\xe3o",terms:"Termos de uso",legal:"Normas legais",ask_question:"Apoio",social_network:"Nossos perfis nas redes sociais",eco_mode:"Modo econ\xf4mico",web_limitation:"Esse recurso est\xe1 dispon\xedvel apenas no aplicativo m\xf3vel."},about_screen:{title:"Sobre n\xf3s"},privacy_policy_screen:{title:"Pol\xedtica de privacidade"},terms_screen:{title:"Termos de uso"}}},In.a.locale=En.a;var Nn=In.a,zn=i(114);function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}i.d(n,"a",(function(){return Cn})),"ios"===A.a.OS&&Object(zn.c)();var Cn=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(n=m()(this,(e=y()(t)).call.apply(e,[this].concat(r)))).state={isLoadingComplete:!1,locale:"en-US",height:void 0},n.setLocale=function(e){n.setState({locale:e})},n.t=function(e,t){return Nn.t(e,Tn({locale:n.state.locale},t))},n._loadResourcesAsync=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([z.b(Tn({},N.a.font,{ElMessiri:i(568),"ElMessiri Bold":i(569)})),M.a.loadAsync([].concat(s()(Object.keys($).map((function(e){return $[e]}))),s()(ee.map((function(e){return e.imageUrl}))))),Xe.a.setIsEnabledAsync(!0),Xe.a.setAudioModeAsync({allowsRecordingIOS:!1,staysActiveInBackground:!1,interruptionModeIOS:Xe.a.INTERRUPTION_MODE_IOS_DO_NOT_MIX,playsInSilentModeIOS:!0,shouldDuckAndroid:!1,playsInSilentLockedModeIOS:!0,interruptionModeAndroid:Xe.a.INTERRUPTION_MODE_ANDROID_DO_NOT_MIX,playThroughEarpieceAndroid:!1}),Te.loadAudioHtml()]));case 1:case"end":return e.stop()}}))},n._handleLoadingError=function(e){console.warn(e)},n._handleFinishLoading=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({isLoadingComplete:!0}),"android"!==A.a.OS){e.next=10;break}return e.prev=2,e.next=5,a.a.awrap(P.a.unlockAsync());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Error");case 10:case"end":return e.stop()}}),null,null,[[2,7]])},n}return b()(t,e),f()(t,[{key:"render",value:function(){var e=0;return"ios"===A.a.OS&&(e=20),"android"===A.a.OS&&(e=S.a.currentHeight),this.state.isLoadingComplete||this.props.skipLoadingScreen?_.a.createElement(k.a,{style:[On.container,{maxHeight:this.state.height}]},_.a.createElement(k.a,{style:[On.container]},_.a.createElement(k.a,{style:{backgroundColor:"black",height:e}},_.a.createElement(S.a,{barStyle:"light-content"})),_.a.createElement(kn,{screenProps:{t:this.t,locale:this.state.locale,setLocale:this.setLocale}}))):_.a.createElement(I.a,{startAsync:this._loadResourcesAsync,onError:this._handleLoadingError,onFinish:this._handleFinishLoading})}},{key:"componentDidMount",value:function(){var e,t=this;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(En.a),n.next=3,a.a.awrap(ue.get("language"));case 3:return(e=n.sent)||((e=En.a)&&e.toLowerCase().includes("ua")&&(e="ua"),e&&e.toLowerCase().includes("pt")&&(e="pt"),e&&e.toLowerCase().includes("es")&&(e="es")),console.log(e),n.next=8,a.a.awrap(ue.get("ecoMode"));case 8:if(this.ecoMode=!!n.sent,this.setLocale(e),"android"!==A.a.OS){n.next=19;break}return n.prev=11,n.next=14,a.a.awrap(P.a.lockAsync(P.a.Orientation.PORTRAIT));case 14:this.orientationChangeSubscription=P.a.addOrientationChangeListener((function(e){return t._orientationDidChange(e)})),n.next=19;break;case 17:n.prev=17,n.t0=n.catch(11);case 19:case"end":return n.stop()}}),null,this,[[11,17]])}},{key:"_orientationDidChange",value:function(e){var t;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.a.get("window").height,this.setState({height:t});case 2:case"end":return e.stop()}}),null,this)}}]),t}(_.a.Component),On=x.a.create({container:{flex:1,backgroundColor:"black"}})},321:function(e,t,n){n(322),e.exports=n(323)},322:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},376:function(e,t,n){e.exports=n.p+"static/media/background.6dcccb57.jpg"},377:function(e,t,n){e.exports=n.p+"static/media/background_small.1cb5e60d.jpg"},378:function(e,t,n){e.exports=n.p+"static/media/string_large.7a4f9fab.png"},379:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAPCAYAAAA2yOUNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABh0lEQVQozy1R2XLaQBDcP0oZCXRf6EBO4gBGRkjosJGxSaWSvPi3p/oX0qv4Yap2ZntmunvUW2FJkyzRJiu0aws148j8eePj9zZBXyaiumQpfe7gZePxw8M2MPHgG/j5I2YkqPNAVOXfyZC7eLn38RivUCUWzjovfYycto8dUQf3i/SZM095ivUqC11qo4qXmFjrck9UH9zJmFnYBQaOsYkdV239BYbcxlvJ9ZEt6jU15BSZeGI0JH9OrVlAk/6fXmXkNMamdOkKA1ceouUcR4Km+3Dm1ZeRqFvpyCs7zuzUyr57BvrCxd/dGh/7Naq1K+o9t+VKkFaop1TRChfm168BdPMhtEQ1wUIumY2agJHTWqprqW7YuPN71OqGaCEV1TSfoCO9GmiuBl3pXZ0SNK3pOIlrrw7hklaYaPm+PST4eMxQZ76oXyQ+sUvL3WtONLQnv45u/yHxsQxFnUJDdFGfoEld6DueuLYvPIzFp+NH3m4s3Pnqt28hT+KgTmxM2iM2XDa+/AMZLfAFFikctAAAAABJRU5ErkJggg=="},380:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAQjCAYAAABpUq5xAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVR42u3MsQ2AQAhAUbhdbwdncAU3sL/Sws2E5IaweMVPSIAXY4xZHdWZmVd1R+aqnoh4dz2v3vVN3+6fGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAr4APq0smfsOUZyQAAAAASUVORK5CYII="},381:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAPCAYAAAA2yOUNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQozx2RW1faQBSF55+7Vh90UawCFghJQE1BiDaCIdxbFt5aRNAWciPhUtR2te+zZr/2hId5mDlnvr3PPuxlcCJcKwPPkuDWM5jVkvhpHCLs5vF2fw67XuAsaGaF30hj0VUQtmR813Zxo+5gc1PCy10FEyPD2ezzB+HXPyJsyxidxfCkx+GYdO+qCOgMyynOpnpM+PQYNHN4vtjH9DIJr57Fs5HA6qsGx8pzFlppsWjnMC7HqCGBcSWOx/L+1tOvQRG3WpyzTb8gnFoKs2oSztURoiFcMw27FllQ8VAhuUVLEj4VgoZEtPdb4g+SWvYK2ybbVDh7HZyKVUeGU03hvvAO17kd8iThzzcd/0aXeNSJ9No/FeteHj5JjEt7RIoT5Rhr8rPuFzGpJDibm2mx7CiYnh8iIIJLXtyGjJAm8xoK5hbJLduSmF4cUDGFRVOhAY4QdPIIvhCtr2GiJzlbdxUxJ+OR+TGF+VDco/VI2Nzq+DuqUbgk93atiSWlHdBqhp928UQ5RXv0mjJ+Dw2SVDlzqgnhUeIRzSapiGibWWqiCHoaUXOc2caBCOhX0FKxGZzBJ9P2VRarfol2d4Kwc8z/A1tDoX1cu+TGAAAAAElFTkSuQmCC"},382:function(e,t,n){e.exports=n.p+"static/media/string_nylon_double.bcb20d2a.png"},383:function(e,t,n){e.exports=n.p+"static/media/string_nylon_double_light.cee5135b.png"},384:function(e,t,n){e.exports=n.p+"static/media/string_yellow.92444523.png"},385:function(e,t,n){e.exports=n.p+"static/media/string_dark_yellow.96cc545f.png"},386:function(e,t,n){e.exports=n.p+"static/media/splash.799ec2a7.png"},387:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAIAAAC+zks0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVQI12NQE2cGInUxDnVJDlUpDmUJdiVxNjUJdk0JTh0JToaceO/sOK+seJ+cRL/sZH8gyk0NLEoPKc0IKUsLZvj6+tqnF5c/vrz6+fX1z29vfHh3/ev7m98/3v714ebP9zcY/v969v/74/+/nv7//ezfn6d/fz8Bov+/HoHQjwcMz+4cfXj90L3r+25f3Xvz+oHbNw/du3Ho9pXdNy9uuXNhC0NWgndajHtqrEdChHNsuFN8pEtitFt8uFNcoFW0nymDqboIEBmqieopC2krCeupiOqrigHZegq8unJcAAvya/YLuDiFAAAAAElFTkSuQmCC"},388:function(e,t,n){e.exports=n.p+"static/media/splash.d8eb323f.gif"},389:function(e,t,n){e.exports=n.p+"static/media/loading.eb66e26d.gif"},390:function(e,t,n){e.exports=n.p+"static/media/dummy.7b03ae76.png"},391:function(e,t,n){e.exports=n.p+"static/media/cover.85306e14.png"},392:function(e,t,n){e.exports=n.p+"static/media/cover.2ebb0f5b.png"},393:function(e,t,n){e.exports=n.p+"static/media/cover.415f9b46.png"},394:function(e,t,n){e.exports=n.p+"static/media/cover.b405c71d.png"},395:function(e,t,n){e.exports=n.p+"static/media/cover.778b52ce.png"},396:function(e,t,n){e.exports=n.p+"static/media/cover.4d6d4346.png"},492:function(e,t){},493:function(e,t){e.exports="<html>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"}\n<body style=\"background-color:red;\">\n\nAudio\n</body>\n<script>\n    (function(n){var a=Math.min,s=Math.max;var e=function(n,a,e){var s=e.length;for(var t=0;t<s;++t)n.setUint8(a+t,e.charCodeAt(t))};var t=function(t,e){this.sampleRate=t;this.numChannels=e;this.numSamples=0;this.dataViews=[]};t.prototype.encode=function(r){var t=r[0].length,u=this.numChannels,h=new DataView(new ArrayBuffer(t*u*2)),o=0;for(var e=0;e<t;++e)for(var n=0;n<u;++n){var i=r[n][e]*32767;h.setInt16(o,i<0?s(i,-32768):a(i,32767),true);o+=2}this.dataViews.push(h);this.numSamples+=t};t.prototype.finish=function(s){var n=this.numChannels*this.numSamples*2,t=new DataView(new ArrayBuffer(44));e(t,0,\"RIFF\");t.setUint32(4,36+n,true);e(t,8,\"WAVE\");e(t,12,\"fmt \");t.setUint32(16,16,true);t.setUint16(20,1,true);t.setUint16(22,this.numChannels,true);t.setUint32(24,this.sampleRate,true);t.setUint32(28,this.sampleRate*4,true);t.setUint16(32,this.numChannels*2,true);t.setUint16(34,16,true);e(t,36,\"data\");t.setUint32(40,n,true);this.dataViews.unshift(t);var a=new Blob(this.dataViews,{type:\"audio/wav\"});this.cleanup();return a};t.prototype.cancel=t.prototype.cleanup=function(){delete this.dataViews};n.WavAudioEncoder=t})(self);\n    (function(root) {\n        'use strict';\n\n        var Pizzicato = {};\n        var Pz = Pizzicato;\n        var commonJS = typeof module === \"object\" && module.exports;\n        var amd = typeof define === \"function\" && define.amd;\n\n        if (commonJS)\n            module.exports = Pizzicato;\n        else if (amd)\n            define([], Pizzicato);\n        else\n            root.Pizzicato = root.Pz = Pizzicato;\n\n        var AudioContext = root.AudioContext || root.webkitAudioContext;\n\n        if (!AudioContext) {\n\n            console.error('No AudioContext found in this environment. Please ensure your window or global object contains a working AudioContext constructor function.');\n            return;\n        }\n\n        Pizzicato.context = new AudioContext();\n\n        var masterGainNode = Pizzicato.context.createGain();\n        masterGainNode.connect(Pizzicato.context.destination);\n\n        Pizzicato.Util = {\n\n            isString: function(arg) {\n                return toString.call(arg) === '[object String]';\n            },\n\n            isObject: function(arg) {\n                return toString.call(arg) === '[object Object]';\n            },\n\n            isFunction: function(arg) {\n                return toString.call(arg) === '[object Function]';\n            },\n\n            isNumber: function(arg) {\n                return toString.call(arg) === '[object Number]' && arg === +arg;\n            },\n\n            isArray: function(arg) {\n                return toString.call(arg) === '[object Array]';\n            },\n\n            isInRange: function(arg, min, max) {\n                if (!Pz.Util.isNumber(arg) || !Pz.Util.isNumber(min) || !Pz.Util.isNumber(max))\n                    return false;\n\n                return arg >= min && arg <= max;\n            },\n\n            isBool: function(arg) {\n                return typeof(arg) === \"boolean\";\n            },\n\n            isOscillator: function(audioNode) {\n                return (audioNode && audioNode.toString() === \"[object OscillatorNode]\");\n            },\n\n            isAudioBufferSourceNode: function(audioNode) {\n                return (audioNode && audioNode.toString() === \"[object AudioBufferSourceNode]\");\n            },\n\n            isSound: function(sound) {\n                return sound instanceof Pz.Sound;\n            },\n\n            isEffect: function(effect) {\n                for (var key in Pizzicato.Effects)\n                    if (effect instanceof Pizzicato.Effects[key])\n                        return true;\n\n                return false;\n            },\n\n            // Takes a number from 0 to 1 and normalizes it to fit within range floor to ceiling\n            normalize: function(num, floor, ceil) {\n                if (!Pz.Util.isNumber(num) || !Pz.Util.isNumber(floor) || !Pz.Util.isNumber(ceil))\n                    return;\n\n                return ((ceil - floor) * num) / 1 + floor;\n            },\n\n            getDryLevel: function(mix) {\n                if (!Pz.Util.isNumber(mix) || mix > 1 || mix < 0)\n                    return 0;\n\n                if (mix <= 0.5)\n                    return 1;\n\n                return 1 - ((mix - 0.5) * 2);\n            },\n\n            getWetLevel: function(mix) {\n                if (!Pz.Util.isNumber(mix) || mix > 1 || mix < 0)\n                    return 0;\n\n                if (mix >= 0.5)\n                    return 1;\n\n                return 1 - ((0.5 - mix) * 2);\n            }\n        };\n        /* In order to allow an AudioNode to connect to a Pizzicato\n        Effect object, we must shim its connect method */\n        var gainNode = Pizzicato.context.createGain();\n        var audioNode = Object.getPrototypeOf(Object.getPrototypeOf(gainNode));\n        var connect = audioNode.connect;\n\n        audioNode.connect = function(node) {\n            var endpoint = Pz.Util.isEffect(node) ? node.inputNode : node;\n            connect.call(this, endpoint);\n            return node;\n        };\n\n        Object.defineProperty(Pizzicato, 'volume', {\n            enumerable: true,\n\n            get: function() {\n                return masterGainNode.gain.value;\n            },\n\n            set: function(volume) {\n                if (Pz.Util.isInRange(volume, 0, 1) && masterGainNode)\n                    masterGainNode.gain.value = volume;\n            }\n        });\n\n        Object.defineProperty(Pizzicato, 'masterGainNode', {\n            enumerable: false,\n\n            get: function() {\n                return masterGainNode;\n            },\n\n            set: function(volume) {\n                console.error('Can\\'t set the master gain node');\n            }\n        });\n        Pizzicato.Events = {\n\n            /**\n             * Adds an event handler that will be treated upon\n             * the triggering of that event.\n             */\n            on: function(name, callback, context) {\n                if (!name || !callback)\n                    return;\n\n                this._events = this._events || {};\n                var _event = this._events[name] || (this._events[name] = []);\n\n                _event.push({\n                    callback: callback,\n                    context: context || this,\n                    handler: this\n                });\n            },\n\n            /**\n             * Triggers a particular event. If a handler\n             * is linked to that event, the handler will be\n             * executed.\n             */\n            trigger: function(name) {\n                if (!name)\n                    return;\n\n                var _event, length, args, i;\n\n                this._events = this._events || {};\n                _event = this._events[name] || (this._events[name] = []);\n\n                if (!_event)\n                    return;\n\n                length = Math.max(0, arguments.length - 1);\n                args = [];\n\n                for (i = 0; i < length; i++)\n                    args[i] = arguments[i + 1];\n\n                for (i = 0; i < _event.length; i++)\n                    _event[i].callback.apply(_event[i].context, args);\n            },\n\n            /**\n             * Removes an event handler. If no name is provided,\n             * all handlers for this object will be removed.\n             */\n            off: function(name) {\n                if (name)\n                    this._events[name] = undefined;\n\n                else\n                    this._events = {};\n            }\n\n        };\n        Pizzicato.Sound = function(description, callback) {\n            var self = this;\n            var util = Pizzicato.Util;\n            var descriptionError = getDescriptionError(description);\n            var hasOptions = util.isObject(description) && util.isObject(description.options);\n            var defaultAttack = 0.04;\n            var defaultRelease = 0.04;\n\n            if (descriptionError) {\n                console.error(descriptionError);\n                throw new Error('Error initializing Pizzicato Sound: ' + descriptionError);\n            }\n\n            this.detached = hasOptions && description.options.detached;\n            this.masterVolume = Pizzicato.context.createGain();\n            this.fadeNode = Pizzicato.context.createGain();\n            this.fadeNode.gain.value = 0;\n\n            if (!this.detached)\n                this.masterVolume.connect(Pizzicato.masterGainNode);\n\n            this.lastTimePlayed = 0;\n            this.effects = [];\n            this.effectConnectors = [];\n            this.playing = this.paused = false;\n            this.loop = hasOptions && description.options.loop;\n            this.attack = hasOptions && util.isNumber(description.options.attack) ? description.options.attack : defaultAttack;\n            this.volume = hasOptions && util.isNumber(description.options.volume) ? description.options.volume : 1;\n\n            if (hasOptions && util.isNumber(description.options.release)) {\n                this.release = description.options.release;\n            } else if (hasOptions && util.isNumber(description.options.sustain)) {\n                console.warn('\\'sustain\\' is deprecated. Use \\'release\\' instead.');\n                this.release = description.options.sustain;\n            } else {\n                this.release = defaultRelease;\n            }\n\n            if (!description)\n                (initializeWithWave.bind(this))({}, callback);\n\n            else if (util.isString(description))\n                (initializeWithUrl.bind(this))(description, callback);\n\n            else if (util.isFunction(description))\n                (initializeWithFunction.bind(this))(description, callback);\n\n            else if (description.source === 'file')\n                (initializeWithUrl.bind(this))(description.options.path, callback);\n\n            else if (description.source === 'wave')\n                (initializeWithWave.bind(this))(description.options, callback);\n\n            else if (description.source === 'input')\n                (initializeWithInput.bind(this))(description, callback);\n\n            else if (description.source === 'script')\n                (initializeWithFunction.bind(this))(description.options, callback);\n\n            else if (description.source === 'sound')\n                (initializeWithSoundObject.bind(this))(description.options, callback);\n            else if (description.source === 'b64')\n                (initializeWithBase64.bind(this))(description.options, callback);\n\n            function getDescriptionError(description) {\n                var supportedSources = ['wave', 'file', 'input', 'script', 'sound','b64'];\n\n                if (description && (!util.isFunction(description) && !util.isString(description) && !util.isObject(description)))\n                    return 'Description type not supported. Initialize a sound using an object, a function or a string.';\n\n                if (util.isObject(description)) {\n\n                    if (!util.isString(description.source) || supportedSources.indexOf(description.source) === -1)\n                        return 'Specified source not supported. Sources can be wave, file, input or script';\n\n                    if (description.source === 'file' && (!description.options || !description.options.path))\n                        return 'A path is needed for sounds with a file source';\n\n                    if (description.source === 'script' && (!description.options || !description.options.audioFunction))\n                        return 'An audio function is needed for sounds with a script source';\n                }\n            }\n\n\n            function initializeWithWave(waveOptions, callback) {\n                waveOptions = waveOptions || {};\n                this.getRawSourceNode = function() {\n                    var frequency = this.sourceNode ? this.sourceNode.frequency.value : waveOptions.frequency;\n                    var node = Pizzicato.context.createOscillator();\n                    node.type = waveOptions.type || 'sine';\n                    node.frequency.value = (frequency || 440);\n\n                    return node;\n                };\n                this.sourceNode = this.getRawSourceNode();\n                this.sourceNode.gainSuccessor = Pz.context.createGain();\n                this.sourceNode.connect(this.sourceNode.gainSuccessor);\n\n                if (util.isFunction(callback))\n                    callback();\n            }\n            function initializeWithBase64(options, callback) {\n\n\n                Pizzicato.context.decodeAudioData(options.content, (function(buffer) {\n\n                    self.getRawSourceNode = function() {\n                        var node = Pizzicato.context.createBufferSource();\n                        node.loop = this.loop;\n                        node.buffer = buffer;\n                        return node;\n                    };\n                    if (util.isFunction(callback))\n                        callback();\n\n                }).bind(self));\n\n\n\n            }\n\n            function initializeWithUrl(paths, callback) {\n                paths = util.isArray(paths) ? paths : [paths];\n\n                var request = new XMLHttpRequest();\n\n                request.open('GET', paths[0], true);\n                request.responseType = 'arraybuffer';\n\n                request.onerror = function(e) {\n                    alert(\"error\");\n                }\n                request.onload = function(progressEvent) {\n\n                    Pizzicato.context.decodeAudioData(progressEvent.target.response, (function(buffer) {\n\n                        self.getRawSourceNode = function() {\n                            var node = Pizzicato.context.createBufferSource();\n                            node.loop = this.loop;\n                            node.buffer = buffer;\n                            return node;\n                        };\n                        if (util.isFunction(callback))\n                            callback();\n\n                    }).bind(self), (function(error) {\n\n                        console.error('Error decoding audio file ' + paths[0]);\n\n                        if (paths.length > 1) {\n                            paths.shift();\n                            initializeWithUrl(paths, callback);\n                            return;\n                        }\n\n                        error = error || new Error('Error decoding audio file ' + paths[0]);\n\n                        if (util.isFunction(callback))\n                            callback(error);\n\n                    }).bind(self));\n\n                };\n                request.onreadystatechange = function(event) {\n\n                    if (request.readyState === 4 && request.status !== 200) {\n                        console.error('Error while fetching ' + paths[0] + '. ' + request.statusText);\n                    }\n                };\n                request.send();\n            }\n\n\n            function initializeWithInput(options, callback) {\n                navigator.getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);\n\n                if (!navigator.getUserMedia) {\n                    console.error('Your browser does not support getUserMedia');\n                    return;\n                }\n\n                navigator.getUserMedia({\n                    audio: true\n                }, (function(stream) {\n                    self.getRawSourceNode = function() {\n                        return Pizzicato.context.createMediaStreamSource(stream);\n                    };\n                    if (util.isFunction(callback))\n                        callback();\n\n                }).bind(self), function(error) {\n                    if (util.isFunction(callback))\n                        callback(error);\n                });\n            }\n\n\n            function initializeWithFunction(options, callback) {\n                var audioFunction = util.isFunction(options) ? options : options.audioFunction;\n                var bufferSize = util.isObject(options) && options.bufferSize ? options.bufferSize : null;\n\n                if (!bufferSize) {\n                    try { // Webkit does not automatically chose the buffer size\n                        var test = Pizzicato.context.createScriptProcessor();\n                    } catch (e) {\n                        bufferSize = 2048;\n                    }\n                }\n\n                this.getRawSourceNode = function() {\n                    var node = Pizzicato.context.createScriptProcessor(bufferSize, 1, 1);\n                    node.onaudioprocess = audioFunction;\n                    return node;\n                };\n            }\n\n\n            function initializeWithSoundObject(options, callback) {\n                this.getRawSourceNode = options.sound.getRawSourceNode;\n\n                if (options.sound.sourceNode && Pz.Util.isOscillator(options.sound.sourceNode)) {\n                    this.sourceNode = this.getRawSourceNode();\n                    this.frequency = options.sound.frequency;\n                }\n            }\n        };\n\n\n        Pizzicato.Sound.prototype = Object.create(Pizzicato.Events, {\n\n            play: {\n                enumerable: true,\n\n                value: function(when, offset,rate) {\n\n                    if (this.playing)\n                        return;\n\n                    if (!Pz.Util.isNumber(offset))\n                        offset = this.offsetTime || 0;\n\n                    if (!Pz.Util.isNumber(when))\n                        when = 0;\n\n                    this.playing = true;\n                    this.paused = false;\n                    this.sourceNode = this.getSourceNode();\n\n                    this.applyAttack();\n\n                    if (Pz.Util.isFunction(this.sourceNode.start)) {\n                        this.lastTimePlayed = Pizzicato.context.currentTime - offset;\n                        if(  this.sourceNode.playbackRate !== rate){\n                            this.sourceNode.playbackRate.value = rate;\n                        }\n\n                        this.sourceNode.start(Pz.context.currentTime + when, offset);\n                    }\n                    // console.log('play');\n                    this.trigger('play');\n                }\n            },\n            fastPlay: {\n                enumerable: true,\n\n                value: function(when, offset,rate) {\n\n                    this.stop();\n                    this.playing = true;\n                    this.paused = false;\n                    this.rate = this.rate || 1;\n                    this.sourceNode = this.getSourceNode();\n                    this.applyAttack();\n                    // this.applyAttack();\n                    if (Pz.Util.isFunction(this.sourceNode.start)) {\n                        this.lastTimePlayed = Pizzicato.context.currentTime - offset;\n                        if(this.rate !== rate) {\n                            if(  this.sourceNode.playbackRate !== rate){\n                                this.sourceNode.playbackRate.value = rate;\n                                this.rate =rate;\n                            }\n                        }\n\n\n                        this.sourceNode.start(Pz.context.currentTime, 0.0);\n                    }\n                    // var that = this;\n                    // setTimeout(function() {\n                    //     that.playing = false;\n                    // },2000);\n                    // console.log('play');\n                    this.trigger('play');\n\n                }\n            },\n\n            stop: {\n                enumerable: true,\n\n                value: function() {\n                    if (!this.paused && !this.playing)\n                        return;\n\n                    this.paused = this.playing = false;\n                    this.stopWithRelease();\n\n                    this.offsetTime = 0;\n                    this.trigger('stop');\n                }\n            },\n\n\n            pause: {\n                enumerable: true,\n\n                value: function() {\n                    if (this.paused || !this.playing)\n                        return;\n\n                    this.paused = true;\n                    this.playing = false;\n\n                    this.stopWithRelease();\n\n                    var elapsedTime = Pz.context.currentTime - this.lastTimePlayed;\n\n                    // If we are using a buffer node - potentially in loop mode - we need to\n                    // know where to re-start the sound independently of the loop it is in.\n                    if (this.sourceNode.buffer)\n                        this.offsetTime = elapsedTime % (this.sourceNode.buffer.length / Pz.context.sampleRate);\n                    else\n                        this.offsetTime = elapsedTime;\n\n                    this.trigger('pause');\n                }\n            },\n\n\n            clone: {\n                enumerable: true,\n\n                value: function() {\n                    var clone = new Pizzicato.Sound({\n                        source: 'sound',\n                        options: {\n                            loop: this.loop,\n                            attack: this.attack,\n                            release: this.release,\n                            volume: this.volume,\n                            sound: this\n                        }\n                    });\n\n                    for (var i = 0; i < this.effects.length; i++)\n                        clone.addEffect(this.effects[i]);\n\n                    return clone;\n                }\n            },\n\n\n            onEnded: {\n                enumerable: true,\n\n                value: function(node) {\n                    return function() {\n                        // This function may've been called from the release\n                        // end. If in that time the Sound has been played again,\n                        // no action should be taken.\n                        if (!!this.sourceNode && this.sourceNode !== node)\n                            return;\n\n                        if (this.playing)\n                            this.stop();\n                        if (!this.paused)\n                            this.trigger('end');\n                    };\n                }\n            },\n\n            /**\n             * Adding effects will create a graph in which there will be a\n             * gain node (effectConnector) in between every effect added. For example:\n             * [fadeNode]---\x3e[effect 1]->[connector 1]---\x3e[effect 2]->[connector 2]---\x3e[masterGain]\n             *\n             * Connectors are used to know what nodes to disconnect and not disrupt the\n             * connections of another Pz.Sound object using the same effect.\n             */\n            addEffect: {\n                enumerable: true,\n\n                value: function(effect) {\n                    if (!Pz.Util.isEffect(effect)) {\n                        console.error('The object provided is not a Pizzicato effect.');\n                        return this;\n                    }\n\n                    this.effects.push(effect);\n\n                    // Connects effect in the last position\n                    var previousNode = this.effectConnectors.length > 0 ? this.effectConnectors[this.effectConnectors.length - 1] : this.fadeNode;\n                    previousNode.disconnect();\n                    previousNode.connect(effect);\n\n                    // Creates connector for the newly added effect\n                    var gain = Pz.context.createGain();\n                    this.effectConnectors.push(gain);\n                    effect.connect(gain);\n                    gain.connect(this.masterVolume);\n\n                    return this;\n                }\n            },\n\n            /**\n             * When removing effects, the graph in which there will be a\n             * gain node (effectConnector) in between every effect should be\n             * conserved. For example:\n             * [fadeNode]---\x3e[effect 1]->[connector 1]---\x3e[effect 2]->[connector 2]---\x3e[masterGain]\n             *\n             * Connectors are used to know what nodes to disconnect and not disrupt the\n             * connections of another Pz.Sound object using the same effect.\n             */\n            removeEffect: {\n                enumerable: true,\n\n                value: function(effect) {\n\n                    var index = this.effects.indexOf(effect);\n\n                    if (index === -1) {\n                        console.warn('Cannot remove effect that is not applied to this sound.');\n                        return this;\n                    }\n\n                    var shouldResumePlaying = this.playing;\n\n                    if (shouldResumePlaying)\n                        this.pause();\n\n                    var previousNode = (index === 0) ? this.fadeNode : this.effectConnectors[index - 1];\n                    previousNode.disconnect();\n\n                    // Disconnect connector and effect\n                    var effectConnector = this.effectConnectors[index];\n                    effectConnector.disconnect();\n                    effect.disconnect(effectConnector);\n\n                    // Remove connector and effect from our arrays\n                    this.effectConnectors.splice(index, 1);\n                    this.effects.splice(index, 1);\n\n                    var targetNode;\n                    if (index > this.effects.length - 1 || this.effects.length === 0)\n                        targetNode = this.masterVolume;\n                    else\n                        targetNode = this.effects[index];\n\n                    previousNode.connect(targetNode);\n\n                    if (shouldResumePlaying)\n                        this.play();\n\n                    return this;\n                }\n            },\n\n\n            connect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.masterVolume.connect(audioNode);\n                    return this;\n                }\n            },\n\n\n            disconnect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.masterVolume.disconnect(audioNode);\n                    return this;\n                }\n            },\n\n\n            connectEffects: {\n                enumerable: true,\n\n                value: function() {\n\n                    var connectors = [];\n\n                    for (var i = 0; i < this.effects.length; i++) {\n\n                        var isLastEffect = i === this.effects.length - 1;\n                        var destinationNode = isLastEffect ? this.masterVolume : this.effects[i + 1].inputNode;\n\n                        connectors[i] = Pz.context.createGain();\n\n                        this.effects[i].outputNode.disconnect(this.effectConnectors[i]);\n\n                        this.effects[i].outputNode.connect(destinationNode);\n                    }\n                }\n            },\n\n\n            volume: {\n                enumerable: true,\n\n                get: function() {\n                    if (this.masterVolume)\n                        return this.masterVolume.gain.value;\n                },\n\n                set: function(volume) {\n                    if (Pz.Util.isInRange(volume, 0, 1) && this.masterVolume)\n                        this.masterVolume.gain.value = volume;\n                }\n            },\n\n\n            frequency: {\n                enumerable: true,\n\n                get: function() {\n                    if (this.sourceNode && Pz.Util.isOscillator(this.sourceNode)) {\n                        return this.sourceNode.frequency.value;\n                    }\n\n                    return null;\n                },\n\n                set: function(frequency) {\n                    if (this.sourceNode && Pz.Util.isOscillator(this.sourceNode)) {\n                        this.sourceNode.frequency.value = frequency;\n                    }\n                }\n            },\n\n            /**\n             * @deprecated - Use \"release\"\n             */\n            sustain: {\n                enumerable: true,\n\n                get: function() {\n                    console.warn('\\'sustain\\' is deprecated. Use \\'release\\' instead.');\n                    return this.release;\n                },\n\n                set: function(sustain){\n                    console.warn('\\'sustain\\' is deprecated. Use \\'release\\' instead.');\n\n                    if (Pz.Util.isInRange(sustain, 0, 10))\n                        this.release = sustain;\n                }\n            },\n\n\n            /**\n             * Returns the node that produces the sound. For example, an oscillator\n             * if the Sound object was initialized with a wave option.\n             */\n            getSourceNode: {\n                enumerable: true,\n\n                value: function() {\n                    if (!!this.sourceNode) {\n\n                        // Directly disconnecting the previous source node causes a\n                        // 'click' noise, especially noticeable if the sound is played\n                        // while the release is ongoing. To address this, we fadeout the\n                        // old source node before disonnecting it.\n\n                        var previousSourceNode = this.sourceNode;\n                        previousSourceNode.gainSuccessor.gain.setValueAtTime(previousSourceNode.gainSuccessor.gain.value, Pz.context.currentTime);\n                        previousSourceNode.gainSuccessor.gain.linearRampToValueAtTime(0.0001, Pz.context.currentTime + 0.2);\n                        setTimeout(function() {\n                            previousSourceNode.disconnect();\n                            previousSourceNode.gainSuccessor.disconnect();\n                        }, 200);\n                    }\n\n                    var sourceNode = this.getRawSourceNode();\n\n                    // A gain node will be placed after the source node to avoid\n                    // clicking noises (by fading out the sound)\n                    sourceNode.gainSuccessor = Pz.context.createGain();\n                    sourceNode.connect(sourceNode.gainSuccessor);\n                    sourceNode.gainSuccessor.connect(this.fadeNode);\n                    this.fadeNode.connect(this.getInputNode());\n\n                    if (Pz.Util.isAudioBufferSourceNode(sourceNode))\n                        sourceNode.onended = this.onEnded(sourceNode).bind(this);\n\n                    return sourceNode;\n                }\n            },\n\n\n            /**\n             * Returns the first node in the graph. When there are effects,\n             * the first node is the input node of the first effect.\n             */\n            getInputNode: {\n                enumerable: true,\n\n                value: function() {\n                    if (this.effects.length > 0)\n                        return this.effects[0].inputNode;\n\n                    return this.masterVolume;\n                }\n            },\n\n            /**\n             * Will take the current source node and work up the volume\n             * gradually in as much time as specified in the attack property\n             * of the sound.\n             */\n            applyAttack: {\n                enumerable: false,\n\n                value: function() {\n                    var currentValue = this.fadeNode.gain.value;\n                    this.fadeNode.gain.cancelScheduledValues(Pz.context.currentTime);\n                    this.fadeNode.gain.setValueAtTime(currentValue, Pz.context.currentTime);\n\n                    if (!this.attack) {\n                        this.fadeNode.gain.setValueAtTime(1.0, Pizzicato.context.currentTime);\n                        return;\n                    }\n\n                    var remainingAttackTime = (1 - this.fadeNode.gain.value) * this.attack;\n                    this.fadeNode.gain.setValueAtTime(this.fadeNode.gain.value, Pizzicato.context.currentTime);\n                    this.fadeNode.gain.linearRampToValueAtTime(1, Pizzicato.context.currentTime + remainingAttackTime);\n                }\n            },\n\n            /**\n             * Will take the current source node and work down the volume\n             * gradually in as much time as specified in the release property\n             * of the sound before stopping the source node.\n             */\n            stopWithRelease: {\n                enumerable: false,\n\n                value: function(callback) {\n\n                    var node = this.sourceNode;\n                    var stopSound = function() {\n                        return Pz.Util.isFunction(node.stop) ? node.stop(0) : node.disconnect();\n                    };\n\n                    var currentValue = this.fadeNode.gain.value;\n                    this.fadeNode.gain.cancelScheduledValues(Pz.context.currentTime);\n                    this.fadeNode.gain.setValueAtTime(currentValue, Pz.context.currentTime);\n\n                    if (!this.release) {\n                        stopSound();\n                        return;\n                    }\n\n                    var remainingReleaseTime = this.fadeNode.gain.value * this.release;\n                    this.fadeNode.gain.setValueAtTime(this.fadeNode.gain.value, Pizzicato.context.currentTime);\n                    this.fadeNode.gain.linearRampToValueAtTime(0.00001, Pizzicato.context.currentTime + remainingReleaseTime);\n\n                    window.setTimeout(function() {\n                        stopSound();\n                    }, remainingReleaseTime * 1000);\n                }\n            }\n        });\n\n        Pizzicato.Group = function(sounds) {\n\n            sounds = sounds || [];\n\n            this.mergeGainNode = Pz.context.createGain();\n            this.masterVolume = Pz.context.createGain();\n            this.sounds = [];\n            this.effects = [];\n            this.effectConnectors = [];\n\n            this.mergeGainNode.connect(this.masterVolume);\n            this.masterVolume.connect(Pz.masterGainNode);\n\n            for (var i = 0; i < sounds.length; i++)\n                this.addSound(sounds[i]);\n        };\n\n        Pizzicato.Group.prototype = Object.create(Pz.Events, {\n\n            connect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.masterVolume.connect(audioNode);\n                    return this;\n                }\n            },\n\n\n            disconnect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.masterVolume.disconnect(audioNode);\n                    return this;\n                }\n            },\n\n\n            addSound: {\n                enumerable: true,\n\n                value: function(sound) {\n                    if (!Pz.Util.isSound(sound)) {\n                        console.error('You can only add Pizzicato.Sound objects');\n                        return;\n                    }\n                    if (this.sounds.indexOf(sound) > -1) {\n                        console.warn('The Pizzicato.Sound object was already added to this group');\n                        return;\n                    }\n                    if (sound.detached) {\n                        console.warn('Groups do not support detached sounds. You can manually create an audio graph to group detached sounds together.');\n                    }\n\n                    sound.disconnect(Pz.masterGainNode);\n                    sound.connect(this.mergeGainNode);\n                    this.sounds.push(sound);\n                }\n            },\n\n\n            removeSound: {\n                enumerable: true,\n\n                value: function(sound) {\n                    var index = this.sounds.indexOf(sound);\n\n                    if (index === -1) {\n                        console.warn('Cannot remove a sound that is not part of this group.');\n                        return;\n                    }\n\n                    sound.disconnect(this.mergeGainNode);\n                    sound.connect(Pz.masterGainNode);\n                    this.sounds.splice(index, 1);\n                }\n            },\n\n\n            volume: {\n                enumerable: true,\n\n                get: function() {\n                    if (this.masterVolume)\n                        return this.masterVolume.gain.value;\n                },\n\n                set: function(volume) {\n                    if (Pz.Util.isInRange(volume, 0, 1))\n                        this.masterVolume.gain.value = volume;\n                }\n            },\n\n\n            play: {\n                enumerable: true,\n\n                value: function() {\n                    for (var i = 0; i < this.sounds.length; i++)\n                        this.sounds[i].play();\n\n                    this.trigger('play');\n                }\n\n            },\n\n\n            stop: {\n                enumerable: true,\n\n                value: function() {\n                    for (var i = 0; i < this.sounds.length; i++)\n                        this.sounds[i].stop();\n\n                    this.trigger('stop');\n                }\n\n            },\n\n\n            pause: {\n                enumerable: true,\n\n                value: function() {\n                    for (var i = 0; i < this.sounds.length; i++)\n                        this.sounds[i].pause();\n\n                    this.trigger('pause');\n                }\n\n            },\n\n            /**\n             * Similarly to Sound objects, adding effects will create a graph in which there will be a\n             * gain node (effectConnector) in between every effect added. For example:\n             * [fadeNode]---\x3e[effect 1]->[connector 1]---\x3e[effect 2]->[connector 2]---\x3e[masterGain]\n             *\n             * Connectors are used to know what nodes to disconnect and not disrupt the\n             * connections of another Pz.Group object using the same effect.\n             */\n            addEffect: {\n                enumerable: true,\n\n                value: function(effect) {\n                    if (!Pz.Util.isEffect(effect)) {\n                        console.error('The object provided is not a Pizzicato effect.');\n                        return this;\n                    }\n\n                    this.effects.push(effect);\n\n                    // Connects effect in the last position\n                    var previousNode = this.effectConnectors.length > 0 ? this.effectConnectors[this.effectConnectors.length - 1] : this.mergeGainNode;\n                    previousNode.disconnect();\n                    previousNode.connect(effect);\n\n                    // Creates connector for the newly added effect\n                    var gain = Pz.context.createGain();\n                    this.effectConnectors.push(gain);\n                    effect.connect(gain);\n                    gain.connect(this.masterVolume);\n\n                    return this;\n                }\n            },\n\n            /**\n             * When removing effects, the graph in which there will be a\n             * gain node (effectConnector) in between every effect should be\n             * conserved. For example:\n             * [fadeNode]---\x3e[effect 1]->[connector 1]---\x3e[effect 2]->[connector 2]---\x3e[masterGain]\n             *\n             * Connectors are used to know what nodes to disconnect and not disrupt the\n             * connections of another Pz.Group object using the same effect.\n             */\n            removeEffect: {\n                enumerable: true,\n\n                value: function(effect) {\n                    var index = this.effects.indexOf(effect);\n\n                    if (index === -1) {\n                        console.warn('Cannot remove effect that is not applied to this group.');\n                        return this;\n                    }\n\n                    var previousNode = (index === 0) ? this.mergeGainNode : this.effectConnectors(index - 1);\n                    previousNode.disconnect();\n\n                    // Disconnect connector and effect\n                    var effectConnector = this.effectConnectors[index];\n                    effectConnector.disconnect();\n                    effect.disconnect(effectConnector);\n\n                    // Remove connector and effect from our arrays\n                    this.effectConnectors.splice(index, 1);\n                    this.effects.splice(index, 1);\n\n                    var targetNode;\n                    if (index > this.effects.length - 1 || this.effects.length === 0)\n                        targetNode = this.masterVolume;\n                    else\n                        targetNode = this.effects[index];\n\n                    previousNode.connect(targetNode);\n\n                    return this;\n                }\n            }\n\n        });\n        Pizzicato.Effects = {};\n\n        var baseEffect = Object.create(null, {\n\n            connect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.outputNode.connect(audioNode);\n                    return this;\n                }\n            },\n\n            disconnect: {\n                enumerable: true,\n\n                value: function(audioNode) {\n                    this.outputNode.disconnect(audioNode);\n                    return this;\n                }\n            }\n        });\n        Pizzicato.Effects.Delay = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                feedback: 0.5,\n                time: 0.3,\n                mix: 0.5\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.feedbackGainNode = Pizzicato.context.createGain();\n            this.delayNode = Pizzicato.context.createDelay();\n\n            // line in to dry mix\n            this.inputNode.connect(this.dryGainNode);\n            // dry line out\n            this.dryGainNode.connect(this.outputNode);\n\n            // feedback loop\n            this.delayNode.connect(this.feedbackGainNode);\n            this.feedbackGainNode.connect(this.delayNode);\n\n            // line in to wet mix\n            this.inputNode.connect(this.delayNode);\n            // wet out\n            this.delayNode.connect(this.wetGainNode);\n\n            // wet line out\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.Delay.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the dry/wet mix.\n             */\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix\t;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            /**\n             * Time between each delayed sound\n             */\n            time: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.time;\n                },\n\n                set: function(time) {\n                    if (!Pz.Util.isInRange(time, 0, 180))\n                        return;\n\n                    this.options.time = time;\n                    this.delayNode.delayTime.value = time;\n                }\n            },\n\n            /**\n             * Strength of each of the echoed delayed sounds.\n             */\n            feedback: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.feedback;\n                },\n\n                set: function(feedback) {\n                    if (!Pz.Util.isInRange(feedback, 0, 1))\n                        return;\n\n                    this.options.feedback = parseFloat(feedback, 10);\n                    this.feedbackGainNode.gain.value = this.feedback;\n                }\n            }\n\n        });\n        Pizzicato.Effects.Compressor = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                threshold: -24,\n                knee: 30,\n                attack: 0.003,\n                release: 0.250,\n                ratio: 12\n            };\n\n            this.inputNode = this.compressorNode = Pizzicato.context.createDynamicsCompressor();\n            this.outputNode = Pizzicato.context.createGain();\n\n            this.compressorNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.Compressor.prototype = Object.create(baseEffect, {\n\n            /**\n             * The level above which compression is applied to the audio.\n             * MIN: -100\n             * MAX: 0\n             */\n            threshold: {\n                enumerable: true,\n\n                get: function() {\n                    return this.compressorNode.threshold.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, -100, 0))\n                        this.compressorNode.threshold.value = value;\n                }\n            },\n\n            /**\n             * A value representing the range above the threshold where\n             * the curve smoothly transitions to the \"ratio\" portion. More info:\n             * http://www.homestudiocorner.com/what-is-knee-on-a-compressor/\n             * MIN 0\n             * MAX 40\n             */\n            knee: {\n                enumerable: true,\n\n                get: function() {\n                    return this.compressorNode.knee.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 0, 40))\n                        this.compressorNode.knee.value = value;\n                }\n            },\n\n            /**\n             * How soon the compressor starts to compress the dynamics after\n             * the threshold is exceeded. If volume changes are slow, you can\n             * push this to a high value. Short attack times will result in a\n             * fast response to sudden, loud sounds, but will make the changes\n             * in volume much more obvious to listeners.\n             * MIN 0\n             * MAX 1\n             */\n            attack: {\n                enumerable: true,\n\n                get: function() {\n                    return this.compressorNode.attack.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 0, 1))\n                        this.compressorNode.attack.value = value;\n                }\n            },\n\n            /**\n             * How soon the compressor starts to release the volume level\n             * back to normal after the level drops below the threshold.\n             * A long time value will tend to lose quiet sounds that come\n             * after loud ones, but will avoid the volume being raised too\n             * much during short quiet sections like pauses in speech.\n             * MIN 0\n             * MAX 1\n             */\n            release: {\n                enumerable: true,\n\n                get: function() {\n                    return this.compressorNode.release.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 0, 1))\n                        this.compressorNode.release.value = value;\n                }\n            },\n\n            /**\n             * The amount of compression applied to the audio once it\n             * passes the threshold level. The higher the Ratio the more\n             * the loud parts of the audio will be compressed.\n             * MIN 1\n             * MAX 20\n             */\n            ratio: {\n                enumerable: true,\n\n                get: function() {\n                    return this.compressorNode.ratio.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 1, 20))\n                        this.compressorNode.ratio.value = value;\n                }\n            },\n\n            getCurrentGainReduction: function() {\n                return this.compressorNode.reduction;\n            }\n\n        });\n        /**\n         * Frequencies below the cutoff frequency pass\n         * through; frequencies above it are attenuated.\n         */\n        Pizzicato.Effects.LowPassFilter = function(options) {\n            Filter.call(this, options, 'lowpass');\n        };\n\n        /**\n         * Frequencies below the cutoff frequency are\n         * attenuated; frequencies above it pass through.\n         */\n        Pizzicato.Effects.HighPassFilter = function(options) {\n            Filter.call(this, options, 'highpass');\n        };\n\n        /**\n         * Filters used by Pizzicato stem from the biquad filter node. This\n         * function acts as a common constructor. The only thing that changes\n         * between filters is the 'type' of the biquad filter node.\n         */\n        function Filter(options, type) {\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                frequency: 350,\n                peak: 1\n            };\n\n            this.inputNode = this.filterNode = Pz.context.createBiquadFilter();\n            this.filterNode.type = type;\n\n            this.outputNode = Pizzicato.context.createGain();\n\n            this.filterNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        }\n\n        var filterPrototype = Object.create(baseEffect, {\n\n            /**\n             * The cutoff frequency of the filter.\n             * MIN: 10\n             * MAX: 22050 (half the sampling rate of the current context)\n             */\n            frequency: {\n                enumerable: true,\n\n                get: function() {\n                    return this.filterNode.frequency.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 10, 22050))\n                        this.filterNode.frequency.value = value;\n                }\n            },\n\n            /**\n             * Indicates how peaked the frequency is around\n             * the cutoff. The greater the value is, the\n             * greater is the peak.\n             * MIN: 0.0001\n             * MAX: 1000\n             */\n            peak: {\n                enumerable: true,\n\n                get: function() {\n                    return this.filterNode.Q.value;\n                },\n                set: function(value) {\n                    if (Pizzicato.Util.isInRange(value, 0.0001, 1000))\n                        this.filterNode.Q.value = value;\n                }\n            }\n        });\n\n        Pizzicato.Effects.LowPassFilter.prototype = filterPrototype;\n        Pizzicato.Effects.HighPassFilter.prototype = filterPrototype;\n        Pizzicato.Effects.Distortion = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                gain: 0.5\n            };\n\n            this.waveShaperNode = Pizzicato.context.createWaveShaper();\n            this.inputNode = this.outputNode = this.waveShaperNode;\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.Distortion.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the gain (amount of distortion).\n             */\n            gain: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.gain;\n                },\n\n                set: function(gain) {\n                    if (!Pz.Util.isInRange(gain, 0, 1))\n                        return;\n\n                    this.options.gain = gain;\n                    this.adjustGain();\n                }\n            },\n\n            /**\n             * Sets the wave curve with the correct gain. Taken from\n             * http://stackoverflow.com/questions/22312841/waveshaper-node-in-webaudio-how-to-emulate-distortion\n             */\n            adjustGain: {\n                writable: false,\n                configurable: false,\n                enumerable: false,\n                value: function() {\n                    var gain = Pz.Util.isNumber(this.options.gain) ? parseInt(this.options.gain * 100, 10) : 50;\n                    var n_samples = 44100;\n                    var curve = new Float32Array(n_samples);\n                    var deg = Math.PI / 180;\n                    var x;\n\n                    for (var i = 0; i < n_samples; ++i ) {\n                        x = i * 2 / n_samples - 1;\n                        curve[i] = (3 + gain) * x * 20 * deg / (Math.PI + gain * Math.abs(x));\n                    }\n\n                    this.waveShaperNode.curve = curve;\n                }\n            }\n\n        });\n        Pizzicato.Effects.Flanger = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                time: 0.45,\n                speed: 0.2,\n                depth: 0.1,\n                feedback: 0.1,\n                mix: 0.5\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.inputFeedbackNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.delayNode = Pizzicato.context.createDelay();\n            this.oscillatorNode = Pizzicato.context.createOscillator();\n            this.gainNode = Pizzicato.context.createGain();\n            this.feedbackNode = Pizzicato.context.createGain();\n            this.oscillatorNode.type = 'sine';\n\n            this.inputNode.connect(this.inputFeedbackNode);\n            this.inputNode.connect(this.dryGainNode);\n\n            this.inputFeedbackNode.connect(this.delayNode);\n            this.inputFeedbackNode.connect(this.wetGainNode);\n\n            this.delayNode.connect(this.wetGainNode);\n            this.delayNode.connect(this.feedbackNode);\n\n            this.feedbackNode.connect(this.inputFeedbackNode);\n\n            this.oscillatorNode.connect(this.gainNode);\n            this.gainNode.connect(this.delayNode.delayTime);\n\n            this.dryGainNode.connect(this.outputNode);\n            this.wetGainNode.connect(this.outputNode);\n\n            this.oscillatorNode.start(0);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.Flanger.prototype = Object.create(baseEffect, {\n\n            time: {\n                enumberable: true,\n\n                get: function() {\n                    return this.options.time;\n                },\n\n                set: function(time) {\n\n                    if (!Pz.Util.isInRange(time, 0, 1))\n                        return;\n\n                    this.options.time = time;\n                    this.delayNode.delayTime.value = Pz.Util.normalize(time, 0.001, 0.02);\n                }\n            },\n\n\n            speed: {\n                enumberable: true,\n\n                get: function() {\n                    return this.options.speed;\n                },\n\n                set: function(speed) {\n                    if (!Pz.Util.isInRange(speed, 0, 1))\n                        return;\n\n                    this.options.speed = speed;\n                    this.oscillatorNode.frequency.value = Pz.Util.normalize(speed, 0.5, 5);\n                }\n            },\n\n\n            depth: {\n                enumberable: true,\n\n                get: function() {\n                    return this.options.depth;\n                },\n\n                set: function(depth) {\n                    if (!Pz.Util.isInRange(depth, 0, 1))\n                        return;\n\n                    this.options.depth = depth;\n                    this.gainNode.gain.value = Pz.Util.normalize(depth, 0.0005, 0.005);\n                }\n            },\n\n\n            feedback: {\n                enumberable: true,\n\n                get: function() {\n                    return this.options.feedback;\n                },\n\n                set: function(feedback) {\n                    if (!Pz.Util.isInRange(feedback, 0, 1))\n                        return;\n\n                    this.options.feedback = feedback;\n                    this.feedbackNode.gain.value = Pz.Util.normalize(feedback, 0, 0.8);\n                }\n            },\n\n\n            mix: {\n                enumberable: true,\n\n                get: function() {\n                    return this.options.mix;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            }\n\n        });\n        Pizzicato.Effects.StereoPanner = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                pan: 0\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n\n            if (Pizzicato.context.createStereoPanner) {\n                this.pannerNode = Pizzicato.context.createStereoPanner();\n                this.inputNode.connect(this.pannerNode);\n                this.pannerNode.connect(this.outputNode);\n            }\n            else {\n                this.inputNode.connect(this.outputNode);\n            }\n\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.StereoPanner.prototype = Object.create(baseEffect, {\n\n            /**\n             * Pan position\n             */\n            pan: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.pan;\n                },\n\n                set: function(pan) {\n                    if (!Pz.Util.isInRange(pan, -1, 1))\n                        return;\n\n                    this.options.pan = pan;\n                    if (this.pannerNode) {\n                        this.pannerNode.pan.value = pan;\n                    }\n                }\n            }\n\n        });\n        Pizzicato.Effects.Convolver = function(options, callback) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var self = this;\n            var request = new XMLHttpRequest();\n            var defaults = {\n                mix: 0.5\n            };\n\n            this.callback = callback;\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.convolverNode = Pizzicato.context.createConvolver();\n            this.outputNode = Pizzicato.context.createGain();\n\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n\n            this.inputNode.connect(this.convolverNode);\n\n            this.convolverNode.connect(this.wetGainNode);\n            this.inputNode.connect(this.dryGainNode);\n\n            this.dryGainNode.connect(this.outputNode);\n            this.wetGainNode.connect(this.outputNode);\n\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n\n            if (!options.impulse) {\n                console.error('No impulse file specified.');\n                return;\n            }\n\n            request.open('GET', options.impulse, true);\n            request.responseType = 'arraybuffer';\n            request.onload = function (e) {\n                var audioData = e.target.response;\n\n                Pizzicato.context.decodeAudioData(audioData, function(buffer) {\n\n                    self.convolverNode.buffer = buffer;\n\n                    if (self.callback && Pz.Util.isFunction(self.callback))\n                        self.callback();\n\n                }, function(error) {\n\n                    error = error || new Error('Error decoding impulse file');\n\n                    if (self.callback && Pz.Util.isFunction(self.callback))\n                        self.callback(error);\n                });\n            };\n\n            request.onreadystatechange = function(event) {\n                if (request.readyState === 4 && request.status !== 200) {\n                    console.error('Error while fetching ' + options.impulse + '. ' + request.statusText);\n                }\n            };\n\n            request.send();\n        };\n\n        Pizzicato.Effects.Convolver.prototype = Object.create(baseEffect, {\n\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            }\n        });\n        /**\n         * Adapted from https://github.com/mmckegg/web-audio-school/blob/master/lessons/3.%20Effects/18.%20Ping%20Pong%20Delay/answer.js\n         */\n\n        Pizzicato.Effects.PingPongDelay = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                feedback: 0.5,\n                time: 0.3,\n                mix: 0.5\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.delayNodeLeft = Pizzicato.context.createDelay();\n            this.delayNodeRight = Pizzicato.context.createDelay();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.feedbackGainNode = Pizzicato.context.createGain();\n            this.channelMerger = Pizzicato.context.createChannelMerger(2);\n\n            // dry mix\n            this.inputNode.connect(this.dryGainNode);\n            // dry mix out\n            this.dryGainNode.connect(this.outputNode);\n\n            // the feedback loop\n            this.delayNodeLeft.connect(this.channelMerger, 0, 0);\n            this.delayNodeRight.connect(this.channelMerger, 0, 1);\n            this.delayNodeLeft.connect(this.delayNodeRight);\n            this.feedbackGainNode.connect(this.delayNodeLeft);\n            this.delayNodeRight.connect(this.feedbackGainNode);\n\n            // wet mix\n            this.inputNode.connect(this.feedbackGainNode);\n\n            // wet out\n            this.channelMerger.connect(this.wetGainNode);\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.PingPongDelay.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the dry/wet mix.\n             */\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix\t;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            /**\n             * Time between each delayed sound\n             */\n            time: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.time;\n                },\n\n                set: function(time) {\n                    if (!Pz.Util.isInRange(time, 0, 180))\n                        return;\n\n                    this.options.time = time;\n                    this.delayNodeLeft.delayTime.value = time;\n                    this.delayNodeRight.delayTime.value = time;\n                }\n            },\n\n            /**\n             * Strength of each of the echoed delayed sounds.\n             */\n            feedback: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.feedback;\n                },\n\n                set: function(feedback) {\n                    if (!Pz.Util.isInRange(feedback, 0, 1))\n                        return;\n\n                    this.options.feedback = parseFloat(feedback, 10);\n                    this.feedbackGainNode.gain.value = this.feedback;\n                }\n            }\n\n        });\n        /**\n         * Adapted from https://github.com/web-audio-components/simple-reverb\n         */\n\n        Pizzicato.Effects.Reverb = function(options) {\n            var self = this;\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                mix: 0.5,\n                time: 0.01,\n                decay: 0.01,\n                reverse: false\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.reverbNode = Pizzicato.context.createConvolver();\n            this.outputNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n\n            this.inputNode.connect(this.reverbNode);\n            this.reverbNode.connect(this.wetGainNode);\n            this.inputNode.connect(this.dryGainNode);\n            this.dryGainNode.connect(this.outputNode);\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n\n            (buildImpulse.bind(this))();\n        };\n\n        Pizzicato.Effects.Reverb.prototype = Object.create(baseEffect, {\n\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix;\n                },\n\n                set: function (mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            time: {\n                enumerable: true,\n\n                get: function () {\n                    return this.options.time;\n                },\n\n                set: function (time) {\n                    if (!Pz.Util.isInRange(time, 0.0001, 10))\n                        return;\n\n                    this.options.time = time;\n                    (buildImpulse.bind(this))();\n                }\n            },\n\n            decay: {\n                enumerable: true,\n\n                get: function () {\n                    return this.options.decay;\n                },\n\n                set: function (decay) {\n                    if (!Pz.Util.isInRange(decay, 0.0001, 10))\n                        return;\n\n                    this.options.decay = decay;\n                    (buildImpulse.bind(this))();\n                }\n\n            },\n\n            reverse: {\n                enumerable: true,\n\n                get: function () {\n                    return this.options.reverse;\n                },\n\n                set: function (reverse) {\n                    if (!Pz.Util.isBool(reverse))\n                        return;\n\n                    this.options.reverse = reverse;\n                    (buildImpulse.bind(this))();\n                }\n            }\n\n        });\n\n        function buildImpulse() {\n\n            var length = Pz.context.sampleRate * this.time;\n            var impulse = Pizzicato.context.createBuffer(2, length, Pz.context.sampleRate);\n            var impulseL = impulse.getChannelData(0);\n            var impulseR = impulse.getChannelData(1);\n            var n, i;\n\n            for (i = 0; i < length; i++) {\n                n = this.reverse ? length - i : i;\n                impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, this.decay);\n                impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, this.decay);\n            }\n\n            this.reverbNode.buffer = impulse;\n        }\n        Pizzicato.Effects.Tremolo = function(options) {\n\n            // adapted from\n            // https://github.com/mmckegg/web-audio-school/blob/master/lessons/3.%20Effects/13.%20Tremolo/answer.js\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                speed: 4,\n                depth: 1,\n                mix: 0.8\n            };\n\n            // create nodes\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n\n            this.tremoloGainNode = Pizzicato.context.createGain();\n            this.tremoloGainNode.gain.value = 0;\n            this.lfoNode = Pizzicato.context.createOscillator();\n\n            this.shaperNode = Pizzicato.context.createWaveShaper();\n            this.shaperNode.curve = new Float32Array([0, 1]);\n            this.shaperNode.connect(this.tremoloGainNode.gain);\n\n            // dry mix\n            this.inputNode.connect(this.dryGainNode);\n            this.dryGainNode.connect(this.outputNode);\n\n            // wet mix\n            this.lfoNode.connect(this.shaperNode);\n            this.lfoNode.type = 'sine';\n            this.lfoNode.start(0);\n\n            this.inputNode.connect(this.tremoloGainNode);\n            this.tremoloGainNode.connect(this.wetGainNode);\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.Tremolo.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the dry/wet mix.\n             */\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix\t;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            /**\n             * Speed of the tremolo\n             */\n            speed: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.speed;\n                },\n\n                set: function(speed) {\n                    if (!Pz.Util.isInRange(speed, 0, 20))\n                        return;\n\n                    this.options.speed = speed;\n                    this.lfoNode.frequency.value = speed;\n                }\n            },\n\n            /**\n             * Depth of the tremolo\n             */\n            depth: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.depth;\n                },\n\n                set: function(depth) {\n                    if (!Pz.Util.isInRange(depth, 0, 1))\n                        return;\n\n                    this.options.depth = depth;\n                    this.shaperNode.curve = new Float32Array([1-depth, 1]);\n                }\n            }\n\n        });\n        Pizzicato.Effects.DubDelay = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                feedback: 0.6,\n                time: 0.7,\n                mix: 0.5,\n                cutoff: 700\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n            this.feedbackGainNode = Pizzicato.context.createGain();\n            this.delayNode = Pizzicato.context.createDelay();\n            this.bqFilterNode = Pizzicato.context.createBiquadFilter();\n\n\n            // dry mix\n            this.inputNode.connect(this.dryGainNode);\n            this.dryGainNode.connect(this.outputNode);\n\n            // wet mix\n            this.inputNode.connect(this.wetGainNode);\n            this.inputNode.connect(this.feedbackGainNode);\n\n            this.feedbackGainNode.connect(this.bqFilterNode);\n            this.bqFilterNode.connect(this.delayNode);\n            this.delayNode.connect(this.feedbackGainNode);\n            this.delayNode.connect(this.wetGainNode);\n\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        Pizzicato.Effects.DubDelay.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the dry/wet mix.\n             */\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix\t;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            /**\n             * Time between each delayed sound\n             */\n            time: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.time;\n                },\n\n                set: function(time) {\n                    if (!Pz.Util.isInRange(time, 0, 180))\n                        return;\n\n                    this.options.time = time;\n                    this.delayNode.delayTime.value = time;\n                }\n            },\n\n            /**\n             * Strength of each of the echoed delayed sounds.\n             */\n            feedback: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.feedback;\n                },\n\n                set: function(feedback) {\n                    if (!Pz.Util.isInRange(feedback, 0, 1))\n                        return;\n\n                    this.options.feedback = parseFloat(feedback, 10);\n                    this.feedbackGainNode.gain.value = this.feedback;\n                }\n            },\n\n            /**\n             * Frequency on delay repeats\n             */\n            cutoff: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.cutoff;\n                },\n\n                set: function(cutoff) {\n                    if (!Pz.Util.isInRange(cutoff, 0, 4000))\n                        return;\n\n                    this.options.cutoff = cutoff;\n                    this.bqFilterNode.frequency.value = this.cutoff;\n                }\n            }\n\n\n\n        });\n        /**\n         * See http://webaudio.prototyping.bbc.co.uk/ring-modulator/\n         */\n        Pizzicato.Effects.RingModulator = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                speed: 30,\n                distortion: 1,\n                mix: 0.5\n            };\n\n            this.inputNode = Pizzicato.context.createGain();\n            this.outputNode = Pizzicato.context.createGain();\n            this.dryGainNode = Pizzicato.context.createGain();\n            this.wetGainNode = Pizzicato.context.createGain();\n\n\n            /**\n             * `vIn` is the modulation oscillator input\n             * `vc` is the audio input.\n             */\n            this.vIn = Pizzicato.context.createOscillator();\n            this.vIn.start(0);\n            this.vInGain = Pizzicato.context.createGain();\n            this.vInGain.gain.value = 0.5;\n            this.vInInverter1 = Pizzicato.context.createGain();\n            this.vInInverter1.gain.value = -1;\n            this.vInInverter2 = Pizzicato.context.createGain();\n            this.vInInverter2.gain.value = -1;\n            this.vInDiode1 = new DiodeNode(Pizzicato.context);\n            this.vInDiode2 = new DiodeNode(Pizzicato.context);\n            this.vInInverter3 = Pizzicato.context.createGain();\n            this.vInInverter3.gain.value = -1;\n            this.vcInverter1 = Pizzicato.context.createGain();\n            this.vcInverter1.gain.value = -1;\n            this.vcDiode3 = new DiodeNode(Pizzicato.context);\n            this.vcDiode4 = new DiodeNode(Pizzicato.context);\n\n            this.outGain = Pizzicato.context.createGain();\n            this.outGain.gain.value = 3;\n\n            this.compressor = Pizzicato.context.createDynamicsCompressor();\n            this.compressor.threshold.value = -24;\n            this.compressor.ratio.value = 16;\n\n            // dry mix\n            this.inputNode.connect(this.dryGainNode);\n            this.dryGainNode.connect(this.outputNode);\n\n            // wet mix\n            this.inputNode.connect(this.vcInverter1);\n            this.inputNode.connect(this.vcDiode4.node);\n            this.vcInverter1.connect(this.vcDiode3.node);\n            this.vIn.connect(this.vInGain);\n            this.vInGain.connect(this.vInInverter1);\n            this.vInGain.connect(this.vcInverter1);\n            this.vInGain.connect(this.vcDiode4.node);\n            this.vInInverter1.connect(this.vInInverter2);\n            this.vInInverter1.connect(this.vInDiode2.node);\n            this.vInInverter2.connect(this.vInDiode1.node);\n            this.vInDiode1.connect(this.vInInverter3);\n            this.vInDiode2.connect(this.vInInverter3);\n            this.vInInverter3.connect(this.compressor);\n            this.vcDiode3.connect(this.compressor);\n            this.vcDiode4.connect(this.compressor);\n            this.compressor.connect(this.outGain);\n            this.outGain.connect(this.wetGainNode);\n\n            // line out\n            this.wetGainNode.connect(this.outputNode);\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        var DiodeNode = function(context_) {\n            this.context = context_;\n            this.node = this.context.createWaveShaper();\n            this.vb = 0.2;\n            this.vl = 0.4;\n            this.h = 1;\n            this.setCurve();\n        };\n\n        DiodeNode.prototype.setDistortion = function (distortion) {\n            this.h = distortion;\n            return this.setCurve();\n        };\n\n        DiodeNode.prototype.setCurve = function () {\n            var i,\n                samples,\n                v,\n                value,\n                wsCurve,\n                _i,\n                _ref,\n                retVal;\n\n            samples = 1024;\n            wsCurve = new Float32Array(samples);\n\n            for (i = _i = 0, _ref = wsCurve.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {\n                v = (i - samples / 2) / (samples / 2);\n                v = Math.abs(v);\n                if (v <= this.vb) {\n                    value = 0;\n                } else if ((this.vb < v) && (v <= this.vl)) {\n                    value = this.h * ((Math.pow(v - this.vb, 2)) / (2 * this.vl - 2 * this.vb));\n                } else {\n                    value = this.h * v - this.h * this.vl + (this.h * ((Math.pow(this.vl - this.vb, 2)) / (2 * this.vl - 2 * this.vb)));\n                }\n                wsCurve[i] = value;\n            }\n\n            retVal = this.node.curve = wsCurve;\n            return retVal;\n        };\n\n        DiodeNode.prototype.connect = function(destination) {\n            return this.node.connect(destination);\n        };\n\n\n        Pizzicato.Effects.RingModulator.prototype = Object.create(baseEffect, {\n\n            /**\n             * Gets and sets the dry/wet mix.\n             */\n            mix: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.mix\t;\n                },\n\n                set: function(mix) {\n                    if (!Pz.Util.isInRange(mix, 0, 1))\n                        return;\n\n                    this.options.mix = mix;\n                    this.dryGainNode.gain.value = Pizzicato.Util.getDryLevel(this.mix);\n                    this.wetGainNode.gain.value = Pizzicato.Util.getWetLevel(this.mix);\n                }\n            },\n\n            /**\n             * Speed on the input oscillator\n             */\n            speed: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.speed;\n                },\n\n                set: function(speed) {\n                    if (!Pz.Util.isInRange(speed, 0, 2000))\n                        return;\n\n                    this.options.speed = speed;\n                    this.vIn.frequency.value = speed;\n                }\n            },\n\n            /**\n             * Level of distortion\n             */\n            distortion: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.distortion;\n                },\n\n                set: function(distortion) {\n                    if (!Pz.Util.isInRange(distortion, 0.2, 50))\n                        return;\n\n                    this.options.distortion = parseFloat(distortion, 10);\n\n                    var diodeNodes = [this.vInDiode1, this.vInDiode2, this.vcDiode3, this.vcDiode4];\n\n                    for (var i=0, l=diodeNodes.length; i<l; i++) {\n                        diodeNodes[i].setDistortion(distortion);\n                    }\n                }\n            }\n\n        });\n        Pizzicato.Effects.Quadrafuzz = function(options) {\n\n            this.options = {};\n            options = options || this.options;\n\n            var defaults = {\n                lowGain: 0.6,\n                midLowGain: 0.8,\n                midHighGain: 0.5,\n                highGain: 0.6\n            };\n\n\n            this.inputNode = Pz.context.createGain();\n            this.outputNode = Pz.context.createGain();\n            this.dryGainNode = Pz.context.createGain();\n            this.wetGainNode = Pz.context.createGain();\n\n\n            this.lowpassLeft = Pz.context.createBiquadFilter();\n            this.lowpassLeft.type = 'lowpass';\n            this.lowpassLeft.frequency.value = 147;\n            this.lowpassLeft.Q.value = 0.7071;\n\n            this.bandpass1Left = Pz.context.createBiquadFilter();\n            this.bandpass1Left.type = 'bandpass';\n            this.bandpass1Left.frequency.value = 587;\n            this.bandpass1Left.Q.value = 0.7071;\n\n            this.bandpass2Left = Pz.context.createBiquadFilter();\n            this.bandpass2Left.type = 'bandpass';\n            this.bandpass2Left.frequency.value = 2490;\n            this.bandpass2Left.Q.value = 0.7071;\n\n            this.highpassLeft = Pz.context.createBiquadFilter();\n            this.highpassLeft.type = 'highpass';\n            this.highpassLeft.frequency.value = 4980;\n            this.highpassLeft.Q.value = 0.7071;\n\n\n            this.overdrives = [];\n            for (var i = 0; i < 4; i++) {\n                this.overdrives[i] = Pz.context.createWaveShaper();\n                this.overdrives[i].curve = getDistortionCurve();\n            }\n\n\n            this.inputNode.connect(this.wetGainNode);\n            this.inputNode.connect(this.dryGainNode);\n            this.dryGainNode.connect(this.outputNode);\n\n            var filters = [this.lowpassLeft, this.bandpass1Left, this.bandpass2Left, this.highpassLeft];\n            for (i = 0; i < filters.length; i++) {\n                this.wetGainNode.connect(filters[i]);\n                filters[i].connect(this.overdrives[i]);\n                this.overdrives[i].connect(this.outputNode);\n            }\n\n            for (var key in defaults) {\n                this[key] = options[key];\n                this[key] = (this[key] === undefined || this[key] === null) ? defaults[key] : this[key];\n            }\n        };\n\n        function getDistortionCurve(gain) {\n            var sampleRate = Pz.context.sampleRate;\n            var curve = new Float32Array(sampleRate);\n            var deg = Math.PI / 180;\n\n            for (var i = 0; i < sampleRate; i++) {\n                var x = i * 2 / sampleRate - 1;\n                curve[i] = (3 + gain) * x * 20 * deg / (Math.PI + gain * Math.abs(x));\n            }\n            return curve;\n        }\n\n        Pizzicato.Effects.Quadrafuzz.prototype = Object.create(baseEffect, {\n\n            lowGain: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.lowGain;\n                },\n\n                set: function(lowGain) {\n                    if (!Pz.Util.isInRange(lowGain, 0, 1))\n                        return;\n\n                    this.options.lowGain = lowGain;\n                    this.overdrives[0].curve = getDistortionCurve(Pz.Util.normalize(this.lowGain, 0, 150));\n                }\n            },\n\n            midLowGain: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.midLowGain;\n                },\n\n                set: function(midLowGain) {\n                    if (!Pz.Util.isInRange(midLowGain, 0, 1))\n                        return;\n\n                    this.options.midLowGain = midLowGain;\n                    this.overdrives[1].curve = getDistortionCurve(Pz.Util.normalize(this.midLowGain, 0, 150));\n                }\n            },\n\n            midHighGain: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.midHighGain;\n                },\n\n                set: function(midHighGain) {\n                    if (!Pz.Util.isInRange(midHighGain, 0, 1))\n                        return;\n\n                    this.options.midHighGain = midHighGain;\n                    this.overdrives[2].curve = getDistortionCurve(Pz.Util.normalize(this.midHighGain, 0, 150));\n                }\n            },\n\n            highGain: {\n                enumerable: true,\n\n                get: function() {\n                    return this.options.highGain;\n                },\n\n                set: function(highGain) {\n                    if (!Pz.Util.isInRange(highGain, 0, 1))\n                        return;\n\n                    this.options.highGain = highGain;\n                    this.overdrives[3].curve = getDistortionCurve(Pz.Util.normalize(this.highGain, 0, 150));\n                }\n            }\n        });\n\n\n\n        return Pizzicato;\n    })(typeof window !== \"undefined\" ? window : global);\n\n    console = new Object();\n    console.log = function(log) {\n        window.ReactNativeWebView.postMessage(log);\n    };\n    console.debug = console.log;\n    console.info = console.log;\n    console.warn = console.log;\n    console.error = console.log;\n    console.log('loading');\n\n\n    window.samples={};\n    window.group = new Pizzicato.Group([]);\n    // var reverb = new Pizzicato.Effects.Reverb({\n    //     time: 1.49,\n    //     decay: 0.17,\n    //     reverse: false,\n    //     mix: 0.5\n    // });\n    // window.group.addEffect(reverb);\n    // var distortion = new Pizzicato.Effects.Distortion({\n    //     gain: 0.9\n    // });\n    //\n    // window.group.addEffect(distortion);\n    window.audioElement =null;\n    window.loadQueueCount=0;\n    window.wakeup = function() {\n        console.log('wakeup');\n        if(window.audioElement) {\n            window.audioElement.pause();\n            window.audioElement.currentTime = 0;\n            window.audioElement.play();\n            return;\n        }\n        var silenceMono56kbps100msBase64Mp3 = \"data:audio/mp3;base64,//tAxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAESAAzMzMzMzMzMzMzMzMzMzMzMzMzZmZmZmZmZmZmZmZmZmZmZmZmZmaZmZmZmZmZmZmZmZmZmZmZmZmZmczMzMzMzMzMzMzMzMzMzMzMzMzM//////////////////////////8AAAA5TEFNRTMuMTAwAZYAAAAAAAAAABQ4JAMGQgAAOAAABEhNIZS0AAAAAAD/+0DEAAPH3Yz0AAR8CPqyIEABp6AxjG/4x/XiInE4lfQDFwIIRE+uBgZoW4RL0OLMDFn6E5v+/u5ehf76bu7/6bu5+gAiIQGAABQIUJ0QolFghEn/9PhZQpcUTpXMjo0OGzRCZXyKxoIQzB2KhCtGobpT9TRVj/3Pmfp+f8X7Pu1B04sTnc3s0XhOlXoGVCMNo9X//9/r6a10TZEY5DsxqvO7mO5qFvpFCmKIjhpSItGsUYcRO//7QsQRgEiljQIAgLFJAbIhNBCa+JmorCbOi5q9nVd2dKnusTMQg4MFUlD6DQ4OFijwGAijRMfLbHG4nLVTjydyPlJTj8pfPflf9/5GD950A5e+jsrmNZSjSirjs1R7hnkia8vr//l/7Nb+crvr9Ok5ZJOylUKRxf/P9Zn0j2P4pJYXyKkeuy5wUYtdmOu6uobEtFqhIJViLEKIjGxchGev/L3Y0O3bwrIOszTBAZ7Ih28EUaSOZf/7QsQfg8fpjQIADN0JHbGgQBAZ8T//y//t/7d/2+f5m7MdCeo/9tdkMtGLbt1tqnabRroO1Qfvh20yEbei8nfDXP7btW7f9/uO9tbe5IvHQbLlxpf3DkAk0ojYcv///5/u3/7PTfGjPEPUvt5D6f+/3Lea4lz4tc4TnM/mFPrmalWbboeNiNyeyr+vufttZuvrVrt/WYv3T74JFo8qEDiJqJrmDTs///v99xDku2xG02jjunrICP/7QsQtA8kpkQAAgNMA/7FgQAGnobgfghgqA+uXwWQ3XFmGimSbe2X3ksY//KzK1a2k6cnNWOPJnPWUsYbKqkh8RJzrVf///P///////4vyhLKHLrCb5nIrYIUss4cthigL1lQ1wwNAc6C1pf1TIKRSkt+a//z+yLVcwlXKSqeSuCVQFLng2h4AFAFgTkH+Z/8jTX/zr//zsJV/5f//5UX/0ZNCNCCaf5lTCTRkaEdhNP//n/KUjf/7QsQ5AEhdiwAAjN7I6jGddBCO+WGTQ1mXrYatSAgaykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==\"\n        window.audioElement = new Audio(silenceMono56kbps100msBase64Mp3);\n        window.audioElement.id='wkwebviewAudio';\n        window.audioElement.controls=false;\n        window.audioElement.loop=true;\n        window.audioElement.play();\n        document.body.appendChild(audioElement);\n\n    }\n    var SAMPLE_POOL = 3;\n    window.prepareLoad = function(count) {\n        window.loadedSamplesCount = count * SAMPLE_POOL;\n        // force to load samples if something stuck\n        setTimeout(function() {\n            if(window.loadedSamplesCount > 0) {\n                window.ReactNativeWebView.postMessage('loadedSamples');\n            }\n        },10000);\n    };\n    window.loadedSample = function(count) {\n        if(window.loadedSamplesCount) {\n            if(!count) {\n                count = 1;\n            }\n            window.loadedSamplesCount-=count;\n            if(window.loadedSamplesCount <=0) {\n                window.ReactNativeWebView.postMessage('loadedSamples');\n            }\n        }\n    };\n    window.loadSample = function(sampleId,base64Content){\n        if( window.samples[sampleId]) {\n            window.loadedSample(SAMPLE_POOL);\n\n            return;\n        }\n        var sounds = [];\n        function _base64ToArrayBuffer(base64) {\n            var binary_string = window.atob(base64);\n            var len = binary_string.length;\n            var bytes = new Uint8Array(len);\n            for (var i = 0; i < len; i++) {\n                bytes[i] = binary_string.charCodeAt(i);\n            }\n            return bytes.buffer;\n        }\n        var content = _base64ToArrayBuffer(base64Content);\n        for(var i=0; i< SAMPLE_POOL;i++) {\n\n            var sound = new Pizzicato.Sound({source: 'b64', options: {content: content.slice(0)}}, function () {\n                window.loadedSample();\n            });\n\n            sounds.push(sound);\n\n            window.group.addSound(sound);\n        }\n\n\n\n        window.samples[sampleId] =sounds;\n        return true;\n    };\n    window.playSample = function(sampleId,rate,changeRate) {\n        if(window.samples[sampleId]) {\n            var allSamples = window.samples[sampleId];\n            var i = Math.floor(Math.random()*allSamples.length);\n            // console.log(i);\n            var sample=  allSamples[i];\n\n\n            // if(changeRate) {\n            //     for(var i=0 ; i < allSamples.length;i++) {\n            //\n            //         if(allSamples[i].getRawSourceNode && allSamples[i].playing) {\n            //             allSamples[i].sourceNode.playbackRate.value = rate;\n            //             return;\n            //         }\n            // }\n            if(sample.getRawSourceNode && sample.playing) {\n                for(var i=0 ; i < allSamples.length;i++) {\n\n                    if(allSamples[i].getRawSourceNode) {\n\n                        if(allSamples[i].playing === false) {\n                            // console.log(i);\n                            sample=allSamples[i];\n                            // console.log(\"play \" + i);\n                            break;\n                        }\n\n                    }\n                }\n            }\n\n            if(sample.getRawSourceNode) {\n                sample.stop();\n                sample.play(null,null,rate);\n\n\n            }\n        } else {\n            window.ReactNativeWebView.postMessage('loadSample ' + sampleId);\n            console.warn(\"sample \" + sampleId  + \"not found\")\n        }\n        return true;\n    };\n    window.onerror = function(msg, url, linenumber) {\n        window.ReactNativeWebView.postMessage('Error message: '+msg+'\\nURL: '+url+'\\nLine Number: '+linenumber);\n\n        return true;\n    }\n    // post ready when everything is ready to work\n    wakeup();\n\n    window.ReactNativeWebView.postMessage('ready');\n    // console.log(\"Latency\");\n    // console.log((window.AudioContext || window.webkitAudioContext));\n\n<\/script>\n</html>"},496:function(e,t,n){e.exports=n.p+"static/media/nop.e213ae44.mp3"},498:function(e,t,n){e.exports=n.p+"static/media/bg_landscape.b2ca4bc8.jpg"},499:function(e,t,n){e.exports=n.p+"static/media/bg_small.743bf2e5.jpg"},500:function(e,t,n){e.exports=n.p+"static/media/c_0.9006cbdb.mp3"},501:function(e,t,n){e.exports=n.p+"static/media/d1.c1fdeba0.mp3"},502:function(e,t,n){e.exports=n.p+"static/media/d_1.cc68b445.mp3"},503:function(e,t,n){e.exports=n.p+"static/media/e1.99a08197.mp3"},504:function(e,t,n){e.exports=n.p+"static/media/f1.08a952b8.mp3"},505:function(e,t,n){e.exports=n.p+"static/media/f_1.63884305.mp3"},506:function(e,t,n){e.exports=n.p+"static/media/g1.3c756762.mp3"},507:function(e,t,n){e.exports=n.p+"static/media/g_1.366022f9.mp3"},508:function(e,t,n){e.exports=n.p+"static/media/a1.38f4497b.mp3"},509:function(e,t,n){e.exports=n.p+"static/media/a_1.6f6b7fa6.mp3"},510:function(e,t,n){e.exports=n.p+"static/media/b1.dd033af6.mp3"},511:function(e,t,n){e.exports=n.p+"static/media/c3.94ee07e3.mp3"},512:function(e,t,n){e.exports=n.p+"static/media/c_3.54565a6f.mp3"},513:function(e,t,n){e.exports=n.p+"static/media/d3.2ea4134b.mp3"},514:function(e,t,n){e.exports=n.p+"static/media/d_3.cc345450.mp3"},515:function(e,t,n){e.exports=n.p+"static/media/e3.34be11b6.mp3"},516:function(e,t,n){e.exports=n.p+"static/media/f3.0a3f41e7.mp3"},517:function(e,t,n){e.exports=n.p+"static/media/f_3.de7b8051.mp3"},518:function(e,t,n){e.exports=n.p+"static/media/g3.e5b75db3.mp3"},519:function(e,t,n){e.exports=n.p+"static/media/g_3.7d4a6d57.mp3"},520:function(e,t,n){e.exports=n.p+"static/media/a3.45c13ee7.mp3"},521:function(e,t,n){e.exports=n.p+"static/media/a_3.11c9cacf.mp3"},522:function(e,t,n){e.exports=n.p+"static/media/b3.7d332bc8.mp3"},523:function(e,t,n){e.exports=n.p+"static/media/c4.c5f6efcd.mp3"},524:function(e,t,n){e.exports=n.p+"static/media/c_4.d4b0081d.mp3"},525:function(e,t,n){e.exports=n.p+"static/media/d4.f1b7518d.mp3"},526:function(e,t,n){e.exports=n.p+"static/media/d_4.1698dce6.mp3"},527:function(e,t,n){e.exports=n.p+"static/media/e4.bb6a67a5.mp3"},528:function(e,t,n){e.exports=n.p+"static/media/f4.1667bb8e.mp3"},529:function(e,t,n){e.exports=n.p+"static/media/f_4.2d75c6fe.mp3"},530:function(e,t,n){e.exports=n.p+"static/media/g4.6de3bae2.mp3"},531:function(e,t,n){e.exports=n.p+"static/media/g_4.1eb94c9a.mp3"},532:function(e,t,n){e.exports=n.p+"static/media/a4.7ffa5c66.mp3"},533:function(e,t,n){e.exports=n.p+"static/media/a_4.b6afdde6.mp3"},534:function(e,t,n){e.exports=n.p+"static/media/b4.80518da9.mp3"},535:function(e,t,n){e.exports=n.p+"static/media/c5.2c947382.mp3"},558:function(e,t){},568:function(e,t,n){e.exports=n.p+"./fonts/ElMessiri-Regular.ttf"},569:function(e,t,n){e.exports=n.p+"./fonts/ElMessiri-Bold.ttf"}},[[321,1,2]]]);
//# sourceMappingURL=app.fdcb320d.chunk.js.map